!function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=11)}([function(t,n,e){(function(n){
/*!
* Tippy.js v2.5.4
* (c) 2017-2018 atomiks
* MIT
*/
!function(n,e){t.exports=e()}(0,function(){"use strict";var t="undefined"!=typeof window,e=t&&/MSIE |Trident\//.test(navigator.userAgent),i={};t&&(i.supported="requestAnimationFrame"in window,i.supportsTouch="ontouchstart"in window,i.usingTouch=!1,i.dynamicInputDetection=!0,i.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,i.onUserInputChange=function(){});var r={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},a={placement:"top",livePlacement:!0,trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:0,duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",target:null,allowTitleHTML:!0,popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},o=i.supported&&Object.keys(a);function s(t){return"[object Object]"==={}.toString.call(t)}function c(t){return[].slice.call(t)}function u(t){for(var n=["","webkit"],e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<n.length;i++){var r=n[i],a=r?r+e:t;if(void 0!==document.body.style[a])return a}return null}function f(){return document.createElement("div")}var l=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},h=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),p=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};function d(t){var n=function(n){return t.querySelector(n)};return{tooltip:n(r.TOOLTIP),backdrop:n(r.BACKDROP),content:n(r.CONTENT),arrow:n(r.ARROW)||n(r.ROUND_ARROW)}}function _(t){var n=t.getAttribute("title");n&&t.setAttribute("data-original-title",n),t.removeAttribute("title")}
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.3
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */for(var y="undefined"!=typeof window&&"undefined"!=typeof document,v=["Edge","Trident","Firefox"],b=0,m=0;m<v.length;m+=1)if(y&&navigator.userAgent.indexOf(v[m])>=0){b=1;break}var g=y&&window.Promise?function(t){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,t()}))}}:function(t){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,t()},b))}};function x(t){return t&&"[object Function]"==={}.toString.call(t)}function w(t,n){if(1!==t.nodeType)return[];var e=getComputedStyle(t,null);return n?e[n]:e}function M(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function k(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var n=w(t),e=n.overflow,i=n.overflowX,r=n.overflowY;return/(auto|scroll|overlay)/.test(e+r+i)?t:k(M(t))}var T=y&&!(!window.MSInputMethodContext||!document.documentMode),N=y&&/MSIE 10/.test(navigator.userAgent);function E(t){return 11===t?T:10===t?N:T||N}function S(t){if(!t)return document.documentElement;for(var n=E(10)?document.body:null,e=t.offsetParent;e===n&&t.nextElementSibling;)e=(t=t.nextElementSibling).offsetParent;var i=e&&e.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(e.nodeName)&&"static"===w(e,"position")?S(e):e:t?t.ownerDocument.documentElement:document.documentElement}function A(t){return null!==t.parentNode?A(t.parentNode):t}function C(t,n){if(!(t&&t.nodeType&&n&&n.nodeType))return document.documentElement;var e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?t:n,r=e?n:t,a=document.createRange();a.setStart(i,0),a.setEnd(r,0);var o=a.commonAncestorContainer;if(t!==o&&n!==o||i.contains(r))return function(t){var n=t.nodeName;return"BODY"!==n&&("HTML"===n||S(t.firstElementChild)===t)}(o)?o:S(o);var s=A(t);return s.host?C(s.host,n):C(t,A(n).host)}function P(t){var n="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",e=t.nodeName;if("BODY"===e||"HTML"===e){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[n]}return t[n]}function O(t,n){var e="x"===n?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(t["border"+e+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function L(t,n,e,i){return Math.max(n["offset"+t],n["scroll"+t],e["client"+t],e["offset"+t],e["scroll"+t],E(10)?e["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function j(){var t=document.body,n=document.documentElement,e=E(10)&&getComputedStyle(n);return{height:L("Height",t,n,e),width:L("Width",t,n,e)}}var D=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},R=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),U=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},Y=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};function z(t){return Y({},t,{right:t.left+t.width,bottom:t.top+t.height})}function I(t){var n={};try{if(E(10)){n=t.getBoundingClientRect();var e=P(t,"top"),i=P(t,"left");n.top+=e,n.left+=i,n.bottom+=e,n.right+=i}else n=t.getBoundingClientRect()}catch(t){}var r={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},a="HTML"===t.nodeName?j():{},o=a.width||t.clientWidth||r.right-r.left,s=a.height||t.clientHeight||r.bottom-r.top,c=t.offsetWidth-o,u=t.offsetHeight-s;if(c||u){var f=w(t);c-=O(f,"x"),u-=O(f,"y"),r.width-=c,r.height-=u}return z(r)}function q(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=E(10),r="HTML"===n.nodeName,a=I(t),o=I(n),s=k(t),c=w(n),u=parseFloat(c.borderTopWidth,10),f=parseFloat(c.borderLeftWidth,10);e&&"HTML"===n.nodeName&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var l=z({top:a.top-o.top-u,left:a.left-o.left-f,width:a.width,height:a.height});if(l.marginTop=0,l.marginLeft=0,!i&&r){var h=parseFloat(c.marginTop,10),p=parseFloat(c.marginLeft,10);l.top-=u-h,l.bottom-=u-h,l.left-=f-p,l.right-=f-p,l.marginTop=h,l.marginLeft=p}return(i&&!e?n.contains(s):n===s&&"BODY"!==s.nodeName)&&(l=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=P(n,"top"),r=P(n,"left"),a=e?-1:1;return t.top+=i*a,t.bottom+=i*a,t.left+=r*a,t.right+=r*a,t}(l,n)),l}function F(t){if(!t||!t.parentElement||E())return document.documentElement;for(var n=t.parentElement;n&&"none"===w(n,"transform");)n=n.parentElement;return n||document.documentElement}function H(t,n,e,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=r?F(t):C(t,n);if("viewport"===i)a=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.ownerDocument.documentElement,i=q(t,e),r=Math.max(e.clientWidth,window.innerWidth||0),a=Math.max(e.clientHeight,window.innerHeight||0),o=n?0:P(e),s=n?0:P(e,"left");return z({top:o-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:a})}(o,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=k(M(n))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===i?t.ownerDocument.documentElement:i;var c=q(s,o,r);if("HTML"!==s.nodeName||function t(n){var e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===w(n,"position")||t(M(n)))}(o))a=c;else{var u=j(),f=u.height,l=u.width;a.top+=c.top-c.marginTop,a.bottom=f+c.top,a.left+=c.left-c.marginLeft,a.right=l+c.left}}return a.left+=e,a.top+=e,a.right-=e,a.bottom-=e,a}function X(t,n,e,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var o=H(e,i,a,r),s={top:{width:o.width,height:n.top-o.top},right:{width:o.right-n.right,height:o.height},bottom:{width:o.width,height:o.bottom-n.bottom},left:{width:n.left-o.left,height:o.height}},c=Object.keys(s).map(function(t){return Y({key:t},s[t],{area:function(t){return t.width*t.height}(s[t])})}).sort(function(t,n){return n.area-t.area}),u=c.filter(function(t){var n=t.width,i=t.height;return n>=e.clientWidth&&i>=e.clientHeight}),f=u.length>0?u[0].key:c[0].key,l=t.split("-")[1];return f+(l?"-"+l:"")}function B(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return q(e,i?F(n):C(n,e),i)}function W(t){var n=getComputedStyle(t),e=parseFloat(n.marginTop)+parseFloat(n.marginBottom),i=parseFloat(n.marginLeft)+parseFloat(n.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+e}}function V(t){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return n[t]})}function $(t,n,e){e=e.split("-")[0];var i=W(t),r={width:i.width,height:i.height},a=-1!==["right","left"].indexOf(e),o=a?"top":"left",s=a?"left":"top",c=a?"height":"width",u=a?"width":"height";return r[o]=n[o]+n[c]/2-i[c]/2,r[s]=e===s?n[s]-i[u]:n[V(s)],r}function G(t,n){return Array.prototype.find?t.find(n):t.filter(n)[0]}function Z(t,n,e){return(void 0===e?t:t.slice(0,function(t,n,e){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[n]===e});var i=G(t,function(t){return t[n]===e});return t.indexOf(i)}(t,"name",e))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&x(e)&&(n.offsets.popper=z(n.offsets.popper),n.offsets.reference=z(n.offsets.reference),n=e(n,t))}),n}function J(t,n){return t.some(function(t){var e=t.name;return t.enabled&&e===n})}function Q(t){for(var n=[!1,"ms","Webkit","Moz","O"],e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<n.length;i++){var r=n[i],a=r?""+r+e:t;if(void 0!==document.body.style[a])return a}return null}function K(t){var n=t.ownerDocument;return n?n.defaultView:window}function tt(t,n,e,i){e.updateBound=i,K(t).addEventListener("resize",e.updateBound,{passive:!0});var r=k(t);return function t(n,e,i,r){var a="BODY"===n.nodeName,o=a?n.ownerDocument.defaultView:n;o.addEventListener(e,i,{passive:!0}),a||t(k(o.parentNode),e,i,r),r.push(o)}(r,"scroll",e.updateBound,e.scrollParents),e.scrollElement=r,e.eventsEnabled=!0,e}function nt(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(t,n){return K(t).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(t){t.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}(this.reference,this.state))}function et(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function it(t,n){Object.keys(n).forEach(function(e){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&et(n[e])&&(i="px"),t.style[e]=n[e]+i})}function rt(t,n,e){var i=G(t,function(t){return t.name===n}),r=!!i&&t.some(function(t){return t.name===e&&t.enabled&&t.order<i.order});if(!r){var a="`"+n+"`",o="`"+e+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return r}var at=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ot=at.slice(3);function st(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=ot.indexOf(t),i=ot.slice(e+1).concat(ot.slice(0,e));return n?i.reverse():i}var ct={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ut(t,n,e,i){var r=[0,0],a=-1!==["right","left"].indexOf(i),o=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=o.indexOf(G(o,function(t){return-1!==t.search(/,|\s/)}));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(c)[0]]),[o[s].split(c)[1]].concat(o.slice(s+1))]:[o];return(u=u.map(function(t,i){var r=(1===i?!a:a)?"height":"width",o=!1;return t.reduce(function(t,n){return""===t[t.length-1]&&-1!==["+","-"].indexOf(n)?(t[t.length-1]=n,o=!0,t):o?(t[t.length-1]+=n,o=!1,t):t.concat(n)},[]).map(function(t){return function(t,n,e,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],o=r[2];if(!a)return t;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=e;break;case"%":case"%r":default:s=i}return z(s)[n]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(t,r,n,e)})})).forEach(function(t,n){t.forEach(function(e,i){et(e)&&(r[n]+=e*("-"===t[i-1]?-1:1))})}),r}var ft={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var n=t.placement,e=n.split("-")[0],i=n.split("-")[1];if(i){var r=t.offsets,a=r.reference,o=r.popper,s=-1!==["bottom","top"].indexOf(e),c=s?"left":"top",u=s?"width":"height",f={start:U({},c,a[c]),end:U({},c,a[c]+a[u]-o[u])};t.offsets.popper=Y({},o,f[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,n){var e=n.offset,i=t.placement,r=t.offsets,a=r.popper,o=r.reference,s=i.split("-")[0],c=void 0;return c=et(+e)?[+e,0]:ut(e,a,o,s),"left"===s?(a.top+=c[0],a.left-=c[1]):"right"===s?(a.top+=c[0],a.left+=c[1]):"top"===s?(a.left+=c[0],a.top-=c[1]):"bottom"===s&&(a.left+=c[0],a.top+=c[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,n){var e=n.boundariesElement||S(t.instance.popper);t.instance.reference===e&&(e=S(e));var i=Q("transform"),r=t.instance.popper.style,a=r.top,o=r.left,s=r[i];r.top="",r.left="",r[i]="";var c=H(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed);r.top=a,r.left=o,r[i]=s,n.boundaries=c;var u=n.priority,f=t.offsets.popper,l={primary:function(t){var e=f[t];return f[t]<c[t]&&!n.escapeWithReference&&(e=Math.max(f[t],c[t])),U({},t,e)},secondary:function(t){var e="right"===t?"left":"top",i=f[e];return f[t]>c[t]&&!n.escapeWithReference&&(i=Math.min(f[e],c[t]-("right"===t?f.width:f.height))),U({},e,i)}};return u.forEach(function(t){var n=-1!==["left","top"].indexOf(t)?"primary":"secondary";f=Y({},f,l[n](t))}),t.offsets.popper=f,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var n=t.offsets,e=n.popper,i=n.reference,r=t.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(r),s=o?"right":"bottom",c=o?"left":"top",u=o?"width":"height";return e[s]<a(i[c])&&(t.offsets.popper[c]=a(i[c])-e[u]),e[c]>a(i[s])&&(t.offsets.popper[c]=a(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,n){var e;if(!rt(t.instance.modifiers,"arrow","keepTogether"))return t;var i=n.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],a=t.offsets,o=a.popper,s=a.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",f=c?"Top":"Left",l=f.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",d=W(i)[u];s[p]-d<o[l]&&(t.offsets.popper[l]-=o[l]-(s[p]-d)),s[l]+d>o[p]&&(t.offsets.popper[l]+=s[l]+d-o[p]),t.offsets.popper=z(t.offsets.popper);var _=s[l]+s[u]/2-d/2,y=w(t.instance.popper),v=parseFloat(y["margin"+f],10),b=parseFloat(y["border"+f+"Width"],10),m=_-t.offsets.popper[l]-v-b;return m=Math.max(Math.min(o[u]-d,m),0),t.arrowElement=i,t.offsets.arrow=(U(e={},l,Math.round(m)),U(e,h,""),e),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,n){if(J(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var e=H(t.instance.popper,t.instance.reference,n.padding,n.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=V(i),a=t.placement.split("-")[1]||"",o=[];switch(n.behavior){case ct.FLIP:o=[i,r];break;case ct.CLOCKWISE:o=st(i);break;case ct.COUNTERCLOCKWISE:o=st(i,!0);break;default:o=n.behavior}return o.forEach(function(s,c){if(i!==s||o.length===c+1)return t;i=t.placement.split("-")[0],r=V(i);var u=t.offsets.popper,f=t.offsets.reference,l=Math.floor,h="left"===i&&l(u.right)>l(f.left)||"right"===i&&l(u.left)<l(f.right)||"top"===i&&l(u.bottom)>l(f.top)||"bottom"===i&&l(u.top)<l(f.bottom),p=l(u.left)<l(e.left),d=l(u.right)>l(e.right),_=l(u.top)<l(e.top),y=l(u.bottom)>l(e.bottom),v="left"===i&&p||"right"===i&&d||"top"===i&&_||"bottom"===i&&y,b=-1!==["top","bottom"].indexOf(i),m=!!n.flipVariations&&(b&&"start"===a&&p||b&&"end"===a&&d||!b&&"start"===a&&_||!b&&"end"===a&&y);(h||v||m)&&(t.flipped=!0,(h||v)&&(i=o[c+1]),m&&(a=function(t){return"end"===t?"start":"start"===t?"end":t}(a)),t.placement=i+(a?"-"+a:""),t.offsets.popper=Y({},t.offsets.popper,$(t.instance.popper,t.offsets.reference,t.placement)),t=Z(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var n=t.placement,e=n.split("-")[0],i=t.offsets,r=i.popper,a=i.reference,o=-1!==["left","right"].indexOf(e),s=-1===["top","left"].indexOf(e);return r[o?"left":"top"]=a[e]-(s?r[o?"width":"height"]:0),t.placement=V(n),t.offsets.popper=z(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!rt(t.instance.modifiers,"hide","preventOverflow"))return t;var n=t.offsets.reference,e=G(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(n.bottom<e.top||n.left>e.right||n.top>e.bottom||n.right<e.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,n){var e=n.x,i=n.y,r=t.offsets.popper,a=G(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:n.gpuAcceleration,s=I(S(t.instance.popper)),c={position:r.position},u={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},f="bottom"===e?"top":"bottom",l="right"===i?"left":"right",h=Q("transform"),p=void 0,d=void 0;if(d="bottom"===f?-s.height+u.bottom:u.top,p="right"===l?-s.width+u.right:u.left,o&&h)c[h]="translate3d("+p+"px, "+d+"px, 0)",c[f]=0,c[l]=0,c.willChange="transform";else{var _="bottom"===f?-1:1,y="right"===l?-1:1;c[f]=d*_,c[l]=p*y,c.willChange=f+", "+l}var v={"x-placement":t.placement};return t.attributes=Y({},v,t.attributes),t.styles=Y({},c,t.styles),t.arrowStyles=Y({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return it(t.instance.popper,t.styles),function(t,n){Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&it(t.arrowElement,t.arrowStyles),t},onLoad:function(t,n,e,i,r){var a=B(r,n,t,e.positionFixed),o=X(e.placement,a,n,t,e.modifiers.flip.boundariesElement,e.modifiers.flip.padding);return n.setAttribute("x-placement",o),it(n,{position:e.positionFixed?"fixed":"absolute"}),e},gpuAcceleration:void 0}}},lt=function(){function t(n,e){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=g(this.update.bind(this)),this.options=Y({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(Y({},t.Defaults.modifiers,r.modifiers)).forEach(function(n){i.options.modifiers[n]=Y({},t.Defaults.modifiers[n]||{},r.modifiers?r.modifiers[n]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return Y({name:t},i.options.modifiers[t])}).sort(function(t,n){return t.order-n.order}),this.modifiers.forEach(function(t){t.enabled&&x(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return R(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=B(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=X(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=$(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Z(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,J(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=tt(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return nt.call(this)}}]),t}();function ht(t){return t.getAttribute("x-placement").replace(/-.+/,"")}function pt(t,n,e,i){return n.length?{scale:1===n.length?""+n[0]:e?n[0]+", "+n[1]:n[1]+", "+n[0],translate:1===n.length?i?-n[0]+"px":n[0]+"px":e?i?n[0]+"px, "+-n[1]+"px":n[0]+"px, "+n[1]+"px":i?-n[1]+"px, "+n[0]+"px":n[1]+"px, "+n[0]+"px"}[t]:""}function dt(t,n){if(!t)return"";return n?t:{X:"Y",Y:"X"}[t]}function _t(t,n,e){var i=ht(t),r="top"===i||"bottom"===i,a="right"===i||"bottom"===i,o=function(t){var n=e.match(t);return n?n[1]:""},s=function(t){var n=e.match(t);return n?n[1].split(",").map(parseFloat):[]},c=/translateX?Y?\(([^)]+)\)/,f=/scaleX?Y?\(([^)]+)\)/,l={translate:{axis:o(/translate([XY])/),numbers:s(c)},scale:{axis:o(/scale([XY])/),numbers:s(f)}},h=e.replace(c,"translate"+dt(l.translate.axis,r)+"("+pt("translate",l.translate.numbers,r,a)+")").replace(f,"scale"+dt(l.scale.axis,r)+"("+pt("scale",l.scale.numbers,r,a)+")");n.style[u("transform")]=h}function yt(t){return-(t-a.distance)+"px"}lt.Utils=("undefined"!=typeof window?window:n).PopperUtils,lt.placements=at,lt.Defaults=ft;var vt={};if(t){var bt=Element.prototype;vt=bt.matches||bt.matchesSelector||bt.webkitMatchesSelector||bt.mozMatchesSelector||bt.msMatchesSelector||function(t){for(var n=(this.document||this.ownerDocument).querySelectorAll(t),e=n.length;--e>=0&&n.item(e)!==this;);return e>-1}}var mt=vt;function gt(t,n){return(Element.prototype.closest||function(t){for(var n=this;n;){if(mt.call(n,t))return n;n=n.parentElement}}).call(t,n)}function xt(t,n){return Array.isArray(t)?t[n]:t}function wt(t,n){t.forEach(function(t){t&&t.setAttribute("data-state",n)})}function Mt(t,n){t.filter(Boolean).forEach(function(t){t.style[u("transitionDuration")]=n+"ms"})}function kt(t){var n=window.scrollX||window.pageXOffset,e=window.scrollY||window.pageYOffset;t.focus(),scroll(n,e)}var Tt={},Nt=function(t){return function(n){return n===Tt&&t}},Et=function(){function t(n){for(var e in l(this,t),n)this[e]=n[e];this.state={destroyed:!1,visible:!1,enabled:!0},this._=Nt({mutationObservers:[]})}return h(t,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(t){var n=this;if(!this.state.destroyed&&this.state.enabled){var e=this.popper,i=this.reference,r=this.options,a=d(e),o=a.tooltip,s=a.backdrop,c=a.content;r.dynamicTitle&&!i.getAttribute("data-original-title")||i.hasAttribute("disabled")||(i.refObj||document.documentElement.contains(i)?(r.onShow.call(e,this),t=xt(void 0!==t?t:r.duration,0),Mt([e,o,s],0),e.style.visibility="visible",this.state.visible=!0,function(t){var n=this.options;this.popperInstance?(this.popperInstance.scheduleUpdate(),n.livePlacement&&!St.call(this)&&this.popperInstance.enableEventListeners()):(this.popperInstance=Ot.call(this),n.livePlacement||this.popperInstance.disableEventListeners());if(!St.call(this)){var e=d(this.popper),i=e.arrow;i&&(i.style.margin=""),this.popperInstance.reference=this.reference}(function(t,n,e){var i=t.popper,r=t.options,a=r.onCreate,o=r.onUpdate;r.onCreate=r.onUpdate=function(){(function(t){t.offsetHeight})(i),n&&n(),o(),r.onCreate=a,r.onUpdate=o},e||t.scheduleUpdate()})(this.popperInstance,t,!0),n.appendTo.contains(this.popper)||n.appendTo.appendChild(this.popper)}.call(this,function(){if(n.state.visible){if(St.call(n)||n.popperInstance.scheduleUpdate(),St.call(n)){n.popperInstance.disableEventListeners();var a=xt(r.delay,0),f=n._(Tt).lastTriggerEvent;f&&n._(Tt).followCursorListener(a&&n._(Tt).lastMouseMoveEvent?n._(Tt).lastMouseMoveEvent:f)}Mt([o,s,s?c:null],t),s&&getComputedStyle(s)[u("transform")],r.interactive&&i.classList.add("tippy-active"),r.sticky&&function(){var t=this;!function n(){t.popperInstance&&t.popperInstance.update(),t.popper.style[u("transitionDuration")]=t.options.updateDuration+"ms",t.state.visible?requestAnimationFrame(n):t.popper.style[u("transitionDuration")]=""}()}.call(n),wt([o,s],"visible"),Dt.call(n,t,function(){r.updateDuration||o.classList.add("tippy-notransition"),r.interactive&&kt(e),i.setAttribute("aria-describedby","tippy-"+n.id),r.onShown.call(e,n)})}})):this.destroy())}}},{key:"hide",value:function(t){var n=this;if(!this.state.destroyed&&this.state.enabled){var e=this.popper,i=this.reference,r=this.options,a=d(e),o=a.tooltip,s=a.backdrop,c=a.content;r.onHide.call(e,this),t=xt(void 0!==t?t:r.duration,1),r.updateDuration||o.classList.remove("tippy-notransition"),r.interactive&&i.classList.remove("tippy-active"),e.style.visibility="hidden",this.state.visible=!1,Mt([o,s,s?c:null],t),wt([o,s],"hidden"),r.interactive&&r.trigger.indexOf("click")>-1&&kt(i),function(t){requestAnimationFrame(function(){setTimeout(t,1)})}(function(){Dt.call(n,t,function(){!n.state.visible&&r.appendTo.contains(e)&&(n._(Tt).isPreparingToShow||(document.removeEventListener("mousemove",n._(Tt).followCursorListener),n._(Tt).lastMouseMoveEvent=null),n.popperInstance&&n.popperInstance.disableEventListeners(),i.removeAttribute("aria-describedby"),r.appendTo.removeChild(e),r.onHidden.call(e,n))})})}}},{key:"destroy",value:function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.state.destroyed){this.state.visible&&this.hide(0),this.listeners.forEach(function(n){t.reference.removeEventListener(n.event,n.handler)}),this.title&&this.reference.setAttribute("title",this.title),delete this.reference._tippy;["data-original-title","data-tippy","data-tippy-delegate"].forEach(function(n){t.reference.removeAttribute(n)}),this.options.target&&n&&c(this.reference.querySelectorAll(this.options.target)).forEach(function(t){return t._tippy&&t._tippy.destroy()}),this.popperInstance&&this.popperInstance.destroy(),this._(Tt).mutationObservers.forEach(function(t){t.disconnect()}),this.state.destroyed=!0}}}]),t}();function St(){var t=this._(Tt).lastTriggerEvent;return this.options.followCursor&&!i.usingTouch&&t&&"focus"!==t.type}function At(t){var n=this,e=this.options;if(Lt.call(this),!this.state.visible)if(e.target)(function(t){var n=gt(t.target,this.options.target);if(n&&!n._tippy){var e=n.getAttribute("title")||this.title;e&&(n.setAttribute("title",e),It(n,p({},this.options,{target:null})),At.call(n._tippy,t))}}).call(this,t);else if(this._(Tt).isPreparingToShow=!0,e.wait)e.wait.call(this.popper,this.show.bind(this),t);else{if(St.call(this)){this._(Tt).followCursorListener||function(){var t=this;this._(Tt).followCursorListener=function(n){var e=t._(Tt).lastMouseMoveEvent=n,i=e.clientX,r=e.clientY;t.popperInstance&&(t.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:r,left:i,right:i,bottom:r}},clientWidth:0,clientHeight:0},t.popperInstance.scheduleUpdate())}}.call(this);var i=d(this.popper).arrow;i&&(i.style.margin="0"),document.addEventListener("mousemove",this._(Tt).followCursorListener)}var r=xt(e.delay,0);r?this._(Tt).showTimeout=setTimeout(function(){n.show()},r):this.show()}}function Ct(){var t=this;if(Lt.call(this),this.state.visible){this._(Tt).isPreparingToShow=!1;var n=xt(this.options.delay,1);n?this._(Tt).hideTimeout=setTimeout(function(){t.state.visible&&t.hide()},n):this.hide()}}function Pt(){var t=this;return{onTrigger:function(n){t.state.enabled&&(i.supportsTouch&&i.usingTouch&&["mouseenter","mouseover","focus"].indexOf(n.type)>-1&&t.options.touchHold||(t._(Tt).lastTriggerEvent=n,"click"===n.type&&"persistent"!==t.options.hideOnClick&&t.state.visible?Ct.call(t):At.call(t,n)))},onMouseLeave:function(n){if(!(["mouseleave","mouseout"].indexOf(n.type)>-1&&i.supportsTouch&&i.usingTouch&&t.options.touchHold)){if(t.options.interactive){var e=Ct.bind(t);return document.body.addEventListener("mouseleave",e),void document.addEventListener("mousemove",function n(i){var a=gt(i.target,r.REFERENCE),o=gt(i.target,r.POPPER)===t.popper,s=a===t.reference;o||s||function(t,n,e){if(!n.getAttribute("x-placement"))return!0;var i=t.clientX,r=t.clientY,a=e.interactiveBorder,o=e.distance,s=n.getBoundingClientRect(),c=ht(n),u=a+o,f={top:s.top-r>a,bottom:r-s.bottom>a,left:s.left-i>a,right:i-s.right>a};switch(c){case"top":f.top=s.top-r>u;break;case"bottom":f.bottom=r-s.bottom>u;break;case"left":f.left=s.left-i>u;break;case"right":f.right=i-s.right>u}return f.top||f.bottom||f.left||f.right}(i,t.popper,t.options)&&(document.body.removeEventListener("mouseleave",e),document.removeEventListener("mousemove",n),Ct.call(t,n))})}Ct.call(t)}},onBlur:function(n){if(n.target===t.reference&&!i.usingTouch){if(t.options.interactive){if(!n.relatedTarget)return;if(gt(n.relatedTarget,r.POPPER))return}Ct.call(t)}},onDelegateShow:function(n){gt(n.target,t.options.target)&&At.call(t,n)},onDelegateHide:function(n){gt(n.target,t.options.target)&&Ct.call(t)}}}function Ot(){var t=this,n=this.popper,e=this.reference,i=this.options,a=d(n).tooltip,o=i.popperOptions,s="round"===i.arrowType?r.ROUND_ARROW:r.ARROW,c=a.querySelector(s),u=p({placement:i.placement},o||{},{modifiers:p({},o?o.modifiers:{},{arrow:p({element:s},o&&o.modifiers?o.modifiers.arrow:{}),flip:p({enabled:i.flip,padding:i.distance+5,behavior:i.flipBehavior},o&&o.modifiers?o.modifiers.flip:{}),offset:p({offset:i.offset},o&&o.modifiers?o.modifiers.offset:{})}),onCreate:function(){a.style[ht(n)]=yt(i.distance),c&&i.arrowTransform&&_t(n,c,i.arrowTransform)},onUpdate:function(){var t=a.style;t.top="",t.bottom="",t.left="",t.right="",t[ht(n)]=yt(i.distance),c&&i.arrowTransform&&_t(n,c,i.arrowTransform)}});return jt.call(this,{target:n,callback:function(){t.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new lt(e,n,u)}function Lt(){var t=this._(Tt),n=t.showTimeout,e=t.hideTimeout;clearTimeout(n),clearTimeout(e)}function jt(t){var n=t.target,e=t.callback,i=t.options;if(window.MutationObserver){var r=new MutationObserver(e);r.observe(n,i),this._(Tt).mutationObservers.push(r)}}function Dt(t,n){if(!t)return n();var e=d(this.popper).tooltip,i=function(t,n){n&&e[t+"EventListener"]("transition"in document.body.style?"transitionend":"webkitTransitionEnd",n)},r=function t(r){r.target===e&&(i("remove",t),n())};i("remove",this._(Tt).transitionendListener),i("add",r),this._(Tt).transitionendListener=r}var Rt=1;function Ut(t,n){return t.reduce(function(t,r){var a=Rt,s=function(t,n){return n.arrow&&(n.animateFill=!1),n.appendTo&&"function"==typeof n.appendTo&&(n.appendTo=n.appendTo()),"function"==typeof n.html&&(n.html=n.html(t)),n}(r,n.performance?n:function(t,n){var e=o.reduce(function(e,i){var r=t.getAttribute("data-tippy-"+i.toLowerCase())||n[i];return"false"===r&&(r=!1),"true"===r&&(r=!0),isFinite(r)&&!isNaN(parseFloat(r))&&(r=parseFloat(r)),"target"!==i&&"string"==typeof r&&"["===r.trim().charAt(0)&&(r=JSON.parse(r)),e[i]=r,e},{});return p({},n,e)}(r,n)),c=r.getAttribute("title");if(!(c||s.target||s.html||s.dynamicTitle))return t;r.setAttribute(s.target?"data-tippy-delegate":"data-tippy",""),_(r);var l=function(t,n,e){var i=f();i.setAttribute("class","tippy-popper"),i.setAttribute("role","tooltip"),i.setAttribute("id","tippy-"+t),i.style.zIndex=e.zIndex,i.style.maxWidth=e.maxWidth;var r=f();r.setAttribute("class","tippy-tooltip"),r.setAttribute("data-size",e.size),r.setAttribute("data-animation",e.animation),r.setAttribute("data-state","hidden"),e.theme.split(" ").forEach(function(t){r.classList.add(t+"-theme")});var a=f();if(a.setAttribute("class","tippy-content"),e.arrow){var o=f();o.style[u("transform")]=e.arrowTransform,"round"===e.arrowType?(o.classList.add("tippy-roundarrow"),o.innerHTML='<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>'):o.classList.add("tippy-arrow"),r.appendChild(o)}if(e.animateFill){r.setAttribute("data-animatefill","");var s=f();s.classList.add("tippy-backdrop"),s.setAttribute("data-state","hidden"),r.appendChild(s)}e.inertia&&r.setAttribute("data-inertia",""),e.interactive&&r.setAttribute("data-interactive","");var c=e.html;if(c){var l=void 0;c instanceof Element?(a.appendChild(c),l="#"+(c.id||"tippy-html-template")):(a.innerHTML=document.querySelector(c).innerHTML,l=c),i.setAttribute("data-html",""),r.setAttribute("data-template-id",l),e.interactive&&i.setAttribute("tabindex","-1")}else a[e.allowTitleHTML?"innerHTML":"textContent"]=n;return r.appendChild(a),i.appendChild(r),i}(a,c,s),h=new Et({id:a,reference:r,popper:l,options:s,title:c,popperInstance:null});s.createPopperInstanceOnInit&&(h.popperInstance=Ot.call(h),h.popperInstance.disableEventListeners());var y=Pt.call(h);return h.listeners=s.trigger.trim().split(" ").reduce(function(t,n){return t.concat(function(t,n,r,a){var o=r.onTrigger,s=r.onMouseLeave,c=r.onBlur,u=r.onDelegateShow,f=r.onDelegateHide,l=[];if("manual"===t)return l;var h=function(t,e){n.addEventListener(t,e),l.push({event:t,handler:e})};return a.target?(i.supportsTouch&&a.touchHold&&(h("touchstart",u),h("touchend",f)),"mouseenter"===t&&(h("mouseover",u),h("mouseout",f)),"focus"===t&&(h("focusin",u),h("focusout",f)),"click"===t&&h("click",u)):(h(t,o),i.supportsTouch&&a.touchHold&&(h("touchstart",o),h("touchend",s)),"mouseenter"===t&&h("mouseleave",s),"focus"===t&&h(e?"focusout":"blur",c)),l}(n,r,y,s))},[]),s.dynamicTitle&&jt.call(h,{target:r,callback:function(){var t=d(l).content,n=r.getAttribute("title");n&&(t[s.allowTitleHTML?"innerHTML":"textContent"]=h.title=n,_(r))},options:{attributes:!0}}),r._tippy=h,l._tippy=h,l._reference=r,t.push(h),Rt++,t},[])}function Yt(t){c(document.querySelectorAll(r.POPPER)).forEach(function(n){var e=n._tippy;if(e){var i=e.options;!(!0===i.hideOnClick||i.trigger.indexOf("focus")>-1)||t&&n===t.popper||e.hide()}})}var zt=!1;function It(t,n,e){i.supported&&!zt&&(!function(){var t=function(){i.usingTouch||(i.usingTouch=!0,i.iOS&&document.body.classList.add("tippy-touch"),i.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",n),i.onUserInputChange("touch"))},n=function(){var t=void 0;return function(){var e=performance.now();e-t<20&&(i.usingTouch=!1,document.removeEventListener("mousemove",n),i.iOS||document.body.classList.remove("tippy-touch"),i.onUserInputChange("mouse")),t=e}}();document.addEventListener("click",function(t){if(!(t.target instanceof Element))return Yt();var n=gt(t.target,r.REFERENCE),e=gt(t.target,r.POPPER);if(!(e&&e._tippy&&e._tippy.options.interactive)){if(n&&n._tippy){var a=n._tippy.options,o=a.trigger.indexOf("click")>-1,s=a.multiple;if(!s&&i.usingTouch||!s&&o)return Yt(n._tippy);if(!0!==a.hideOnClick||o)return}Yt()}}),document.addEventListener("touchstart",t),window.addEventListener("blur",function(){var t=document.activeElement;t&&t.blur&&mt.call(t,r.REFERENCE)&&t.blur()}),window.addEventListener("resize",function(){c(document.querySelectorAll(r.POPPER)).forEach(function(t){var n=t._tippy;n&&!n.options.livePlacement&&n.popperInstance.scheduleUpdate()})}),i.supportsTouch||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints||document.addEventListener("pointerdown",t)}(),zt=!0),s(t)&&function(t){t.refObj=!0,t.attributes=t.attributes||{},t.setAttribute=function(n,e){t.attributes[n]=e},t.getAttribute=function(n){return t.attributes[n]},t.removeAttribute=function(n){delete t.attributes[n]},t.hasAttribute=function(n){return n in t.attributes},t.addEventListener=function(){},t.removeEventListener=function(){},t.classList={classNames:{},add:function(n){return t.classList.classNames[n]=!0},remove:function(n){return delete t.classList.classNames[n],!0},contains:function(n){return n in t.classList.classNames}}}(t),n=p({},a,n);var o=function(t){if(t instanceof Element||s(t))return[t];if(t instanceof NodeList)return c(t);if(Array.isArray(t))return t;try{return c(document.querySelectorAll(t))}catch(t){return[]}}(t),u=o[0];return{selector:t,options:n,tooltips:i.supported?Ut(e&&u?[u]:o,n):[],destroyAll:function(){this.tooltips.forEach(function(t){return t.destroy()}),this.tooltips=[]}}}return It.version="2.5.4",It.browser=i,It.defaults=a,It.one=function(t,n){return It(t,n,!0).tooltips[0]},It.disableAnimations=function(){a.updateDuration=a.duration=0,a.animateFill=!1},function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t&&i.supported){var e=document.head||document.querySelector("head"),r=document.createElement("style");r.type="text/css",e.insertBefore(r,e.firstChild),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}('.tippy-touch{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 90%;transform-origin:0 90%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,25%);transform:scale(6) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -90%;transform-origin:0 -90%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,-125%);transform:scale(6) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:100% 0;transform-origin:100% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(40%,-50%);transform:scale(6) translate(40%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(40%,-50%);transform:scale(1.5) translate(40%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-100% 0;transform-origin:-100% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-140%,-50%);transform:scale(6) translate(-140%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-140%,-50%);transform:scale(1.5) translate(-140%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 0 50%);clip-path:ellipse(40% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 100% 50%);clip-path:ellipse(40% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}'),It})}).call(this,e(10))},function(t,n,e){t.exports=e.p+"112944363e9e18d8feb79d49c62290ff.svg"},function(t,n,e){},,function(t,n,e){},,function(t,n,e){},,function(t,n,e){},,function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";e.r(n);var i={};e.r(i),e.d(i,"simpleLegend",function(){return v_}),e.d(i,"heatmapLegend",function(){return b_}),e.d(i,"arcmapLegend",function(){return m_});e(2),e(4),e(6),e(8);var r=e(1),a=e.n(r),o=e(0),s=e.n(o),c="http://www.w3.org/1999/xhtml",u={svg:"http://www.w3.org/2000/svg",xhtml:c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},f=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),u.hasOwnProperty(n)?{space:u[n],local:t}:t};var l=function(t){var n=f(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===c&&n.documentElement.namespaceURI===c?n.createElement(t):n.createElementNS(e,t)}})(n)};function h(){}var p=function(t){return null==t?h:function(){return this.querySelector(t)}};function d(){return[]}var _=function(t){return null==t?d:function(){return this.querySelectorAll(t)}},y=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var v=document.documentElement;if(!v.matches){var b=v.webkitMatchesSelector||v.msMatchesSelector||v.mozMatchesSelector||v.oMatchesSelector;y=function(t){return function(){return b.call(this,t)}}}}var m=y,g=function(t){return new Array(t.length)};function x(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}x.prototype={constructor:x,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var w="$";function M(t,n,e,i,r,a){for(var o,s=0,c=n.length,u=a.length;s<u;++s)(o=n[s])?(o.__data__=a[s],i[s]=o):e[s]=new x(t,a[s]);for(;s<c;++s)(o=n[s])&&(r[s]=o)}function k(t,n,e,i,r,a,o){var s,c,u,f={},l=n.length,h=a.length,p=new Array(l);for(s=0;s<l;++s)(c=n[s])&&(p[s]=u=w+o.call(c,c.__data__,s,n),u in f?r[s]=c:f[u]=c);for(s=0;s<h;++s)(c=f[u=w+o.call(t,a[s],s,a)])?(i[s]=c,c.__data__=a[s],f[u]=null):e[s]=new x(t,a[s]);for(s=0;s<l;++s)(c=n[s])&&f[p[s]]===c&&(r[s]=c)}function T(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var N=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function E(t,n){return t.style.getPropertyValue(n)||N(t).getComputedStyle(t,null).getPropertyValue(n)}function S(t){return t.trim().split(/^|\s+/)}function A(t){return t.classList||new C(t)}function C(t){this._node=t,this._names=S(t.getAttribute("class")||"")}function P(t,n){for(var e=A(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function O(t,n){for(var e=A(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}C.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function L(){this.textContent=""}function j(){this.innerHTML=""}function D(){this.nextSibling&&this.parentNode.appendChild(this)}function R(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(){return null}function Y(){var t=this.parentNode;t&&t.removeChild(this)}function z(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function I(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var q={},F=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(q={mouseenter:"mouseover",mouseleave:"mouseout"}));function H(t,n,e){return t=X(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function X(t,n,e){return function(i){var r=F;F=i;try{t.call(this,this.__data__,n,e)}finally{F=r}}}function B(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,a=n.length;i<a;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?n.length=r:delete this.__on}}}function W(t,n,e){var i=q.hasOwnProperty(t.type)?H:X;return function(r,a,o){var s,c=this.__on,u=i(n,a,o);if(c)for(var f=0,l=c.length;f<l;++f)if((s=c[f]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=e),void(s.value=n);this.addEventListener(t.type,u,e),s={type:t.type,name:t.name,value:n,listener:u,capture:e},c?c.push(s):this.__on=[s]}}function V(t,n,e){var i=N(t),r=i.CustomEvent;"function"==typeof r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}var $=[null];function G(t,n){this._groups=t,this._parents=n}function Z(){return new G([[document.documentElement]],$)}G.prototype=Z.prototype={constructor:G,select:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var a,o,s=n[r],c=s.length,u=i[r]=new Array(c),f=0;f<c;++f)(a=s[f])&&(o=t.call(a,a.__data__,f,s))&&("__data__"in a&&(o.__data__=a.__data__),u[f]=o);return new G(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,i=[],r=[],a=0;a<e;++a)for(var o,s=n[a],c=s.length,u=0;u<c;++u)(o=s[u])&&(i.push(t.call(o,o.__data__,u,s)),r.push(o));return new G(i,r)},filter:function(t){"function"!=typeof t&&(t=m(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var a,o=n[r],s=o.length,c=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new G(i,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),u=-1,this.each(function(t){p[++u]=t}),p;var e=n?k:M,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,o=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],l=r[u],h=l.length,p=t.call(f,f&&f.__data__,u,i),d=p.length,_=s[u]=new Array(d),y=o[u]=new Array(d);e(f,l,_,y,c[u]=new Array(h),p,n);for(var v,b,m=0,g=0;m<d;++m)if(v=_[m]){for(m>=g&&(g=m+1);!(b=y[g])&&++g<d;);v._next=b||null}}return(o=new G(o,i))._enter=s,o._exit=c,o},enter:function(){return new G(this._enter||this._groups.map(g),this._parents)},exit:function(){return new G(this._exit||this._groups.map(g),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,i=n.length,r=e.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,u=n[s],f=e[s],l=u.length,h=o[s]=new Array(l),p=0;p<l;++p)(c=u[p]||f[p])&&(h[p]=c);for(;s<i;++s)o[s]=n[s];return new G(o,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=T);for(var e=this._groups,i=e.length,r=new Array(i),a=0;a<i;++a){for(var o,s=e[a],c=s.length,u=r[a]=new Array(c),f=0;f<c;++f)(o=s[f])&&(u[f]=o);u.sort(n)}return new G(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,a=n[e],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,n){var e=f(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):E(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=S(t+"");if(arguments.length<2){for(var i=A(this.node()),r=-1,a=e.length;++r<a;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?P:O)(this,t)}}:n?function(t){return function(){P(this,t)}}:function(t){return function(){O(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?L:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(D)},lower:function(){return this.each(R)},append:function(t){var n="function"==typeof t?t:l(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:l(t),i=null==n?U:"function"==typeof n?n:p(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(Y)},clone:function(t){return this.select(t?I:z)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var i,r,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),o=a.length;if(!(arguments.length<2)){for(s=n?W:B,null==e&&(e=!1),i=0;i<o;++i)this.each(s(a[i],n,e));return this}var s=this.node().__on;if(s)for(var c,u=0,f=s.length;u<f;++u)for(i=0,c=s[u];i<o;++i)if((r=a[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return V(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return V(this,t,n)}})(t,n))}};var J=Z,Q=function(t){return"string"==typeof t?new G([[document.querySelector(t)]],[document.documentElement]):new G([[t]],$)},K=0;function tt(){this._="@"+(++K).toString(36)}tt.prototype=function(){return new tt}.prototype={constructor:tt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var nt=function(t){return"string"==typeof t?new G([document.querySelectorAll(t)],[document.documentElement]):new G([null==t?[]:t],$)},et=function(){return new it};function it(){this.reset()}it.prototype={constructor:it,reset:function(){this.s=this.t=0},add:function(t){at(rt,t,this.t),at(this,rt.s,this.s),this.s?this.t+=rt.t:this.s=rt.t},valueOf:function(){return this.s}};var rt=new it;function at(t,n,e){var i=t.s=n+e,r=i-n,a=i-r;t.t=n-a+(e-r)}var ot=1e-6,st=Math.PI,ct=st/2,ut=st/4,ft=2*st,lt=180/st,ht=st/180,pt=Math.abs,dt=Math.atan,_t=Math.atan2,yt=Math.cos,vt=(Math.ceil,Math.exp),bt=(Math.floor,Math.log),mt=(Math.pow,Math.sin),gt=(Math.sign,Math.sqrt),xt=Math.tan;function wt(t){return t>1?0:t<-1?st:Math.acos(t)}function Mt(t){return t>1?ct:t<-1?-ct:Math.asin(t)}function kt(){}function Tt(t,n){t&&Et.hasOwnProperty(t.type)&&Et[t.type](t,n)}var Nt={Feature:function(t,n){Tt(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)Tt(e[i].geometry,n)}},Et={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){St(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)St(e[i],n,0)},Polygon:function(t,n){At(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)At(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)Tt(e[i],n)}};function St(t,n,e){var i,r=-1,a=t.length-e;for(n.lineStart();++r<a;)i=t[r],n.point(i[0],i[1],i[2]);n.lineEnd()}function At(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)St(t[e],n,1);n.polygonEnd()}var Ct=function(t,n){t&&Nt.hasOwnProperty(t.type)?Nt[t.type](t,n):Tt(t,n)};et(),et();function Pt(t){return[_t(t[1],t[0]),Mt(t[2])]}function Ot(t){var n=t[0],e=t[1],i=yt(e);return[i*yt(n),i*mt(n),mt(e)]}function Lt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function jt(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Dt(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Rt(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Ut(t){var n=gt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}et();var Yt=function(t,n){function e(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,i){return(e=n.invert(e,i))&&t.invert(e[0],e[1])}),e};function zt(t,n){return[t>st?t-ft:t<-st?t+ft:t,n]}function It(t,n,e){return(t%=ft)?n||e?Yt(Ft(t),Ht(n,e)):Ft(t):n||e?Ht(n,e):zt}function qt(t){return function(n,e){return[(n+=t)>st?n-ft:n<-st?n+ft:n,e]}}function Ft(t){var n=qt(t);return n.invert=qt(-t),n}function Ht(t,n){var e=yt(t),i=mt(t),r=yt(n),a=mt(n);function o(t,n){var o=yt(n),s=yt(t)*o,c=mt(t)*o,u=mt(n),f=u*e+s*i;return[_t(c*r-f*a,s*e-u*i),Mt(f*r+c*a)]}return o.invert=function(t,n){var o=yt(n),s=yt(t)*o,c=mt(t)*o,u=mt(n),f=u*r-c*a;return[_t(c*r+u*a,s*e+f*i),Mt(f*e-s*i)]},o}zt.invert=zt;function Xt(t,n,e,i,r,a){if(e){var o=yt(n),s=mt(n),c=i*e;null==r?(r=n+i*ft,a=n-c/2):(r=Bt(o,r),a=Bt(o,a),(i>0?r<a:r>a)&&(r+=i*ft));for(var u,f=r;i>0?f>a:f<a;f-=c)u=Pt([o,-s*yt(f),-s*mt(f)]),t.point(u[0],u[1])}}function Bt(t,n){(n=Ot(n))[0]-=t,Ut(n);var e=wt(-n[1]);return((-n[2]<0?-e:e)+ft-ot)%ft}var Wt=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:kt,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},Vt=function(t,n){return pt(t[0]-n[0])<ot&&pt(t[1]-n[1])<ot};function $t(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}var Gt=function(t,n,e,i,r){var a,o,s=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],o=t[n];if(Vt(i,o)){for(r.lineStart(),a=0;a<n;++a)r.point((i=t[a])[0],i[1]);r.lineEnd()}else s.push(e=new $t(i,t,null,!0)),c.push(e.o=new $t(i,null,e,!1)),s.push(e=new $t(o,t,null,!1)),c.push(e.o=new $t(o,null,e,!0))}}),s.length){for(c.sort(n),Zt(s),Zt(c),a=0,o=c.length;a<o;++a)c[a].e=e=!e;for(var u,f,l=s[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;u=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,o=u.length;a<o;++a)r.point((f=u[a])[0],f[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(u=h.p.z,a=u.length-1;a>=0;--a)r.point((f=u[a])[0],f[1]);else i(h.x,h.p.x,-1,r);h=h.p}u=(h=h.o).z,p=!p}while(!h.v);r.lineEnd()}}};function Zt(t){if(n=t.length){for(var n,e,i=0,r=t[0];++i<n;)r.n=e=t[i],e.p=r,r=e;r.n=e=t[0],e.p=r}}var Jt=et(),Qt=function(t,n){var e=n[0],i=n[1],r=mt(i),a=[mt(e),-yt(e),0],o=0,s=0;Jt.reset(),1===r?i=ct+ot:-1===r&&(i=-ct-ot);for(var c=0,u=t.length;c<u;++c)if(l=(f=t[c]).length)for(var f,l,h=f[l-1],p=h[0],d=h[1]/2+ut,_=mt(d),y=yt(d),v=0;v<l;++v,p=m,_=x,y=w,h=b){var b=f[v],m=b[0],g=b[1]/2+ut,x=mt(g),w=yt(g),M=m-p,k=M>=0?1:-1,T=k*M,N=T>st,E=_*x;if(Jt.add(_t(E*k*mt(T),y*w+E*yt(T))),o+=N?M+k*ft:M,N^p>=e^m>=e){var S=jt(Ot(h),Ot(b));Ut(S);var A=jt(a,S);Ut(A);var C=(N^M>=0?-1:1)*Mt(A[2]);(i>C||i===C&&(S[0]||S[1]))&&(s+=N^M>=0?1:-1)}}return(o<-ot||o<ot&&Jt<-ot)^1&s},Kt=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},tn=function(t){return 1===t.length&&(t=function(t){return function(n,e){return Kt(t(n),e)}}(t)),{left:function(n,e,i,r){for(null==i&&(i=0),null==r&&(r=n.length);i<r;){var a=i+r>>>1;t(n[a],e)<0?i=a+1:r=a}return i},right:function(n,e,i,r){for(null==i&&(i=0),null==r&&(r=n.length);i<r;){var a=i+r>>>1;t(n[a],e)>0?r=a:i=a+1}return i}}};var nn=tn(Kt),en=nn.right,rn=(nn.left,en);var an=Array.prototype,on=(an.slice,an.map,function(t,n,e){t=+t,n=+n,e=(r=arguments.length)<2?(n=t,t=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(r);++i<r;)a[i]=t+i*e;return a}),sn=Math.sqrt(50),cn=Math.sqrt(10),un=Math.sqrt(2),fn=function(t,n,e){var i,r,a,o,s=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((i=n<t)&&(r=t,t=n,n=r),0===(o=ln(t,n,e))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),a=new Array(r=Math.ceil(n-t+1));++s<r;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),a=new Array(r=Math.ceil(t-n+1));++s<r;)a[s]=(t-s)/o;return i&&a.reverse(),a};function ln(t,n,e){var i=(n-t)/Math.max(0,e),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=sn?10:a>=cn?5:a>=un?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=sn?10:a>=cn?5:a>=un?2:1)}function hn(t,n,e){var i=Math.abs(n-t)/Math.max(0,e),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=sn?r*=10:a>=cn?r*=5:a>=un&&(r*=2),n<t?-r:r}var pn=function(t,n){var e,i,r=t.length,a=-1;if(null==n){for(;++a<r;)if(null!=(e=t[a])&&e>=e)for(i=e;++a<r;)null!=(e=t[a])&&e>i&&(i=e)}else for(;++a<r;)if(null!=(e=n(t[a],a,t))&&e>=e)for(i=e;++a<r;)null!=(e=n(t[a],a,t))&&e>i&&(i=e);return i},dn=function(t){for(var n,e,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(e=new Array(o);--r>=0;)for(n=(i=t[r]).length;--n>=0;)e[--o]=i[n];return e},_n=function(t,n){var e,i,r=t.length,a=-1;if(null==n){for(;++a<r;)if(null!=(e=t[a])&&e>=e)for(i=e;++a<r;)null!=(e=t[a])&&i>e&&(i=e)}else for(;++a<r;)if(null!=(e=n(t[a],a,t))&&e>=e)for(i=e;++a<r;)null!=(e=n(t[a],a,t))&&i>e&&(i=e);return i};var yn=function(t,n,e,i){return function(r){var a,o,s,c=n(r),u=Wt(),f=n(u),l=!1,h={point:p,lineStart:_,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=m,o=[],a=[]},polygonEnd:function(){h.point=p,h.lineStart=_,h.lineEnd=y,o=dn(o);var t=Qt(a,i);o.length?(l||(r.polygonStart(),l=!0),Gt(o,bn,t,e,r)):t&&(l||(r.polygonStart(),l=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),o=a=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(n,e){t(n,e)&&r.point(n,e)}function d(t,n){c.point(t,n)}function _(){h.point=d,c.lineStart()}function y(){h.point=p,c.lineEnd()}function v(t,n){s.push([t,n]),f.point(t,n)}function b(){f.lineStart(),s=[]}function m(){v(s[0][0],s[0][1]),f.lineEnd();var t,n,e,i,c=f.clean(),h=u.result(),p=h.length;if(s.pop(),a.push(s),s=null,p)if(1&c){if((n=(e=h[0]).length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),t=0;t<n;++t)r.point((i=e[t])[0],i[1]);r.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),o.push(h.filter(vn))}return h}};function vn(t){return t.length>1}function bn(t,n){return((t=t.x)[0]<0?t[1]-ct-ot:ct-t[1])-((n=n.x)[0]<0?n[1]-ct-ot:ct-n[1])}var mn=yn(function(){return!0},function(t){var n,e=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var s=a>0?st:-st,c=pt(a-e);pt(c-st)<ot?(t.point(e,i=(i+o)/2>0?ct:-ct),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),n=0):r!==s&&c>=st&&(pt(e-r)<ot&&(e-=r*ot),pt(a-s)<ot&&(a-=s*ot),i=function(t,n,e,i){var r,a,o=mt(t-e);return pt(o)>ot?dt((mt(n)*(a=yt(i))*mt(e)-mt(i)*(r=yt(n))*mt(t))/(r*a*o)):(n+i)/2}(e,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),n=0),t.point(e=a,i=o),r=s},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-n}}},function(t,n,e,i){var r;if(null==t)r=e*ct,i.point(-st,r),i.point(0,r),i.point(st,r),i.point(st,0),i.point(st,-r),i.point(0,-r),i.point(-st,-r),i.point(-st,0),i.point(-st,r);else if(pt(t[0]-n[0])>ot){var a=t[0]<n[0]?st:-st;r=e*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(n[0],n[1])},[-st,-ct]);var gn=function(t){var n=yt(t),e=6*ht,i=n>0,r=pt(n)>ot;function a(t,e){return yt(t)*yt(e)>n}function o(t,e,i){var r=[1,0,0],a=jt(Ot(t),Ot(e)),o=Lt(a,a),s=a[0],c=o-s*s;if(!c)return!i&&t;var u=n*o/c,f=-n*s/c,l=jt(r,a),h=Rt(r,u);Dt(h,Rt(a,f));var p=l,d=Lt(h,p),_=Lt(p,p),y=d*d-_*(Lt(h,h)-1);if(!(y<0)){var v=gt(y),b=Rt(p,(-d-v)/_);if(Dt(b,h),b=Pt(b),!i)return b;var m,g=t[0],x=e[0],w=t[1],M=e[1];x<g&&(m=g,g=x,x=m);var k=x-g,T=pt(k-st)<ot;if(!T&&M<w&&(m=w,w=M,M=m),T||k<ot?T?w+M>0^b[1]<(pt(b[0]-g)<ot?w:M):w<=b[1]&&b[1]<=M:k>st^(g<=b[0]&&b[0]<=x)){var N=Rt(p,(-d+v)/_);return Dt(N,h),[b,Pt(N)]}}}function s(n,e){var r=i?t:st-t,a=0;return n<-r?a|=1:n>r&&(a|=2),e<-r?a|=4:e>r&&(a|=8),a}return yn(a,function(t){var n,e,c,u,f;return{lineStart:function(){u=c=!1,f=1},point:function(l,h){var p,d=[l,h],_=a(l,h),y=i?_?0:s(l,h):_?s(l+(l<0?st:-st),h):0;if(!n&&(u=c=_)&&t.lineStart(),_!==c&&(!(p=o(n,d))||Vt(n,p)||Vt(d,p))&&(d[0]+=ot,d[1]+=ot,_=a(d[0],d[1])),_!==c)f=0,_?(t.lineStart(),p=o(d,n),t.point(p[0],p[1])):(p=o(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(r&&n&&i^_){var v;y&e||!(v=o(d,n,!0))||(f=0,i?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!_||n&&Vt(n,d)||t.point(d[0],d[1]),n=d,c=_,e=y},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return f|(u&&c)<<1}}},function(n,i,r,a){Xt(a,t,e,r,n,i)},i?[0,-t]:[-st,t-st])},xn=function(t,n,e,i,r,a){var o,s=t[0],c=t[1],u=0,f=1,l=n[0]-s,h=n[1]-c;if(o=e-s,l||!(o>0)){if(o/=l,l<0){if(o<u)return;o<f&&(f=o)}else if(l>0){if(o>f)return;o>u&&(u=o)}if(o=r-s,l||!(o<0)){if(o/=l,l<0){if(o>f)return;o>u&&(u=o)}else if(l>0){if(o<u)return;o<f&&(f=o)}if(o=i-c,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>u&&(u=o)}if(o=a-c,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<f&&(f=o)}return u>0&&(t[0]=s+u*l,t[1]=c+u*h),f<1&&(n[0]=s+f*l,n[1]=c+f*h),!0}}}}},wn=1e9,Mn=-wn;function kn(t,n,e,i){function r(r,a){return t<=r&&r<=e&&n<=a&&a<=i}function a(r,a,s,u){var f=0,l=0;if(null==r||(f=o(r,s))!==(l=o(a,s))||c(r,a)<0^s>0)do{u.point(0===f||3===f?t:e,f>1?i:n)}while((f=(f+s+4)%4)!==l);else u.point(a[0],a[1])}function o(i,r){return pt(i[0]-t)<ot?r>0?0:3:pt(i[0]-e)<ot?r>0?2:1:pt(i[1]-n)<ot?r>0?1:0:r>0?3:2}function s(t,n){return c(t.x,n.x)}function c(t,n){var e=o(t,1),i=o(n,1);return e!==i?e-i:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var c,u,f,l,h,p,d,_,y,v,b,m=o,g=Wt(),x={point:w,lineStart:function(){x.point=M,u&&u.push(f=[]);v=!0,y=!1,d=_=NaN},lineEnd:function(){c&&(M(l,h),p&&y&&g.rejoin(),c.push(g.result()));x.point=w,y&&m.lineEnd()},polygonStart:function(){m=g,c=[],u=[],b=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,r=u.length;e<r;++e)for(var a,o,s=u[e],c=1,f=s.length,l=s[0],h=l[0],p=l[1];c<f;++c)a=h,o=p,l=s[c],h=l[0],p=l[1],o<=i?p>i&&(h-a)*(i-o)>(p-o)*(t-a)&&++n:p<=i&&(h-a)*(i-o)<(p-o)*(t-a)&&--n;return n}(),e=b&&n,r=(c=dn(c)).length;(e||r)&&(o.polygonStart(),e&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),r&&Gt(c,s,n,a,o),o.polygonEnd());m=o,c=u=f=null}};function w(t,n){r(t,n)&&m.point(t,n)}function M(a,o){var s=r(a,o);if(u&&f.push([a,o]),v)l=a,h=o,p=s,v=!1,s&&(m.lineStart(),m.point(a,o));else if(s&&y)m.point(a,o);else{var c=[d=Math.max(Mn,Math.min(wn,d)),_=Math.max(Mn,Math.min(wn,_))],g=[a=Math.max(Mn,Math.min(wn,a)),o=Math.max(Mn,Math.min(wn,o))];xn(c,g,t,n,e,i)?(y||(m.lineStart(),m.point(c[0],c[1])),m.point(g[0],g[1]),s||m.lineEnd(),b=!1):s&&(m.lineStart(),m.point(a,o),b=!1)}d=a,_=o,y=s}return x}}et();var Tn=function(t){return t};et(),et();var Nn=1/0,En=Nn,Sn=-Nn,An=Sn;var Cn={point:function(t,n){t<Nn&&(Nn=t);t>Sn&&(Sn=t);n<En&&(En=n);n>An&&(An=n)},lineStart:kt,lineEnd:kt,polygonStart:kt,polygonEnd:kt,result:function(){var t=[[Nn,En],[Sn,An]];return Sn=An=-(En=Nn=1/0),t}};function Pn(t){this._context=t}Pn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ft)}},result:kt};et();function On(){this._string=[]}function Ln(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}On.prototype={_radius:4.5,_circle:Ln(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Ln(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function jn(t){return function(n){var e=new Dn;for(var i in t)e[i]=t[i];return e.stream=n,e}}function Dn(){}function Rn(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Ct(e,t.stream(Cn)),n(Cn.result()),null!=i&&t.clipExtent(i),t}function Un(t,n,e){return Rn(t,function(e){var i=n[1][0]-n[0][0],r=n[1][1]-n[0][1],a=Math.min(i/(e[1][0]-e[0][0]),r/(e[1][1]-e[0][1])),o=+n[0][0]+(i-a*(e[1][0]+e[0][0]))/2,s=+n[0][1]+(r-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,s])},e)}function Yn(t,n,e){return Un(t,[[0,0],n],e)}function zn(t,n,e){return Rn(t,function(e){var i=+n,r=i/(e[1][0]-e[0][0]),a=(i-r*(e[1][0]+e[0][0]))/2,o=-r*e[0][1];t.scale(150*r).translate([a,o])},e)}function In(t,n,e){return Rn(t,function(e){var i=+n,r=i/(e[1][1]-e[0][1]),a=-r*e[0][0],o=(i-r*(e[1][1]+e[0][1]))/2;t.scale(150*r).translate([a,o])},e)}Dn.prototype={constructor:Dn,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var qn=16,Fn=yt(30*ht),Hn=function(t,n){return+n?function(t,n){function e(i,r,a,o,s,c,u,f,l,h,p,d,_,y){var v=u-i,b=f-r,m=v*v+b*b;if(m>4*n&&_--){var g=o+h,x=s+p,w=c+d,M=gt(g*g+x*x+w*w),k=Mt(w/=M),T=pt(pt(w)-1)<ot||pt(a-l)<ot?(a+l)/2:_t(x,g),N=t(T,k),E=N[0],S=N[1],A=E-i,C=S-r,P=b*A-v*C;(P*P/m>n||pt((v*A+b*C)/m-.5)>.3||o*h+s*p+c*d<Fn)&&(e(i,r,a,o,s,c,E,S,T,g/=M,x/=M,w,_,y),y.point(E,S),e(E,S,T,g,x,w,u,f,l,h,p,d,_,y))}}return function(n){var i,r,a,o,s,c,u,f,l,h,p,d,_={point:y,lineStart:v,lineEnd:m,polygonStart:function(){n.polygonStart(),_.lineStart=g},polygonEnd:function(){n.polygonEnd(),_.lineStart=v}};function y(e,i){e=t(e,i),n.point(e[0],e[1])}function v(){f=NaN,_.point=b,n.lineStart()}function b(i,r){var a=Ot([i,r]),o=t(i,r);e(f,l,u,h,p,d,f=o[0],l=o[1],u=i,h=a[0],p=a[1],d=a[2],qn,n),n.point(f,l)}function m(){_.point=y,n.lineEnd()}function g(){v(),_.point=x,_.lineEnd=w}function x(t,n){b(i=t,n),r=f,a=l,o=h,s=p,c=d,_.point=b}function w(){e(f,l,u,h,p,d,r,a,i,o,s,c,qn,n),_.lineEnd=m,m()}return _}}(t,n):function(t){return jn({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var Xn=jn({point:function(t,n){this.stream.point(t*ht,n*ht)}});function Bn(t,n,e,i){var r=yt(i),a=mt(i),o=r*t,s=a*t,c=r/t,u=a/t,f=(a*e-r*n)/t,l=(a*n+r*e)/t;function h(t,i){return[o*t-s*i+n,e-s*t-o*i]}return h.invert=function(t,n){return[c*t-u*n+f,l-u*t-c*n]},h}function Wn(t){return Vn(function(){return t})()}function Vn(t){var n,e,i,r,a,o,s,c,u,f,l=150,h=480,p=250,d=0,_=0,y=0,v=0,b=0,m=0,g=null,x=mn,w=null,M=Tn,k=.5;function T(t){return c(t[0]*ht,t[1]*ht)}function N(t){return(t=c.invert(t[0],t[1]))&&[t[0]*lt,t[1]*lt]}function E(){var t=Bn(l,0,0,m).apply(null,n(d,_)),i=(m?Bn:function(t,n,e){function i(i,r){return[n+t*i,e-t*r]}return i.invert=function(i,r){return[(i-n)/t,(e-r)/t]},i})(l,h-t[0],p-t[1],m);return e=It(y,v,b),s=Yt(n,i),c=Yt(e,s),o=Hn(s,k),S()}function S(){return u=f=null,T}return T.stream=function(t){return u&&f===t?u:u=Xn(function(t){return jn({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}(e)(x(o(M(f=t)))))},T.preclip=function(t){return arguments.length?(x=t,g=void 0,S()):x},T.postclip=function(t){return arguments.length?(M=t,w=i=r=a=null,S()):M},T.clipAngle=function(t){return arguments.length?(x=+t?gn(g=t*ht):(g=null,mn),S()):g*lt},T.clipExtent=function(t){return arguments.length?(M=null==t?(w=i=r=a=null,Tn):kn(w=+t[0][0],i=+t[0][1],r=+t[1][0],a=+t[1][1]),S()):null==w?null:[[w,i],[r,a]]},T.scale=function(t){return arguments.length?(l=+t,E()):l},T.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],E()):[h,p]},T.center=function(t){return arguments.length?(d=t[0]%360*ht,_=t[1]%360*ht,E()):[d*lt,_*lt]},T.rotate=function(t){return arguments.length?(y=t[0]%360*ht,v=t[1]%360*ht,b=t.length>2?t[2]%360*ht:0,E()):[y*lt,v*lt,b*lt]},T.angle=function(t){return arguments.length?(m=t%360*ht,E()):m*lt},T.precision=function(t){return arguments.length?(o=Hn(s,k=t*t),S()):gt(k)},T.fitExtent=function(t,n){return Un(T,t,n)},T.fitSize=function(t,n){return Yn(T,t,n)},T.fitWidth=function(t,n){return zn(T,t,n)},T.fitHeight=function(t,n){return In(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&N,E()}}function $n(t){return function(n,e){var i=yt(n),r=yt(e),a=t(i*r);return[a*r*mt(n),a*mt(e)]}}function Gn(t){return function(n,e){var i=gt(n*n+e*e),r=t(i),a=mt(r),o=yt(r);return[_t(n*a,i*o),Mt(i&&e*a/i)]}}var Zn=$n(function(t){return gt(2/(1+t))});Zn.invert=Gn(function(t){return 2*Mt(t/2)});var Jn=$n(function(t){return(t=wt(t))&&t/mt(t)});Jn.invert=Gn(function(t){return t});function Qn(t,n){return[t,bt(xt((ct+n)/2))]}Qn.invert=function(t,n){return[t,2*dt(vt(n))-ct]};function Kn(t,n){return[t,n]}Kn.invert=Kn;var te=1.340264,ne=-.081106,ee=893e-6,ie=.003796,re=gt(3)/2;function ae(t,n){var e=Mt(re*mt(n)),i=e*e,r=i*i*i;return[t*yt(e)/(re*(te+3*ne*i+r*(7*ee+9*ie*i))),e*(te+ne*i+r*(ee+ie*i))]}ae.invert=function(t,n){for(var e,i=n,r=i*i,a=r*r*r,o=0;o<12&&(a=(r=(i-=e=(i*(te+ne*r+a*(ee+ie*r))-n)/(te+3*ne*r+a*(7*ee+9*ie*r)))*i)*r*r,!(pt(e)<1e-12));++o);return[re*t*(te+3*ne*r+a*(7*ee+9*ie*r))/yt(i),Mt(mt(i)/re)]};function oe(t,n){var e=yt(n),i=yt(t)*e;return[e*mt(t)/i,mt(n)/i]}oe.invert=Gn(dt);function se(t,n){var e=n*n,i=e*e;return[t*(.8707-.131979*e+i*(i*(.003971*e-.001529*i)-.013791)),n*(1.007226+e*(.015085+i*(.028874*e-.044475-.005916*i)))]}se.invert=function(t,n){var e,i=n,r=25;do{var a=i*i,o=a*a;i-=e=(i*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-n)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(pt(e)>ot&&--r>0);return[t/(.8707+(a=i*i)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),i]};function ce(t,n){return[yt(n)*mt(t),mt(n)]}ce.invert=Gn(Mt);function ue(t,n){var e=yt(n),i=1+yt(t)*e;return[e*mt(t)/i,mt(n)/i]}ue.invert=Gn(function(t){return 2*dt(t)});function fe(t,n){return[bt(xt((ct+n)/2)),-t]}fe.invert=function(t,n){return[-n,2*dt(vt(t))-ct]};var le=Math.abs,he=Math.atan,pe=Math.atan2,de=(Math.ceil,Math.cos),_e=Math.exp,ye=Math.floor,ve=Math.log,be=Math.max,me=Math.min,ge=Math.pow,xe=(Math.round,Math.sign||function(t){return t>0?1:t<0?-1:0}),we=Math.sin,Me=Math.tan,ke=1e-6,Te=1e-12,Ne=Math.PI,Ee=Ne/2,Se=Ne/4,Ae=Math.SQRT1_2,Ce=Ue(2),Pe=Ue(Ne),Oe=2*Ne,Le=180/Ne,je=Ne/180;function De(t){return t>1?Ee:t<-1?-Ee:Math.asin(t)}function Re(t){return t>1?0:t<-1?Ne:Math.acos(t)}function Ue(t){return t>0?Math.sqrt(t):0}function Ye(t){return(_e(t)-_e(-t))/2}function ze(t){return(_e(t)+_e(-t))/2}function Ie(t,n){var e=de(n),i=function(t){return t?t/Math.sin(t):1}(Re(e*de(t/=2)));return[2*e*we(t)*i,we(n)*i]}Ie.invert=function(t,n){if(!(t*t+4*n*n>Ne*Ne+ke)){var e=t,i=n,r=25;do{var a,o=we(e),s=we(e/2),c=de(e/2),u=we(i),f=de(i),l=we(2*i),h=u*u,p=f*f,d=s*s,_=1-p*c*c,y=_?Re(f*c)*Ue(a=1/_):a=0,v=2*y*f*s-t,b=y*u-n,m=a*(p*d+y*f*c*h),g=a*(.5*o*l-2*y*u*s),x=.25*a*(l*s-y*u*p*o),w=a*(h*c+y*d*f),M=g*x-w*m;if(!M)break;var k=(b*g-v*w)/M,T=(v*x-b*m)/M;e-=k,i-=T}while((le(k)>ke||le(T)>ke)&&--r>0);return[e,i]}};function qe(t,n){var e=Me(n/2),i=Ue(1-e*e),r=1+i*de(t/=2),a=we(t)*i/r,o=e/r,s=a*a,c=o*o;return[4/3*a*(3+s-3*c),4/3*o*(3+3*s-c)]}qe.invert=function(t,n){if(n*=3/8,!(t*=3/8)&&le(n)>1)return null;var e=1+t*t+n*n,i=Ue((e-Ue(e*e-4*n*n))/2),r=De(i)/3,a=i?function(t){return ve(t+Ue(t*t-1))}(le(n/i))/3:function(t){return ve(t+Ue(t*t+1))}(le(t))/3,o=de(r),s=ze(a),c=s*s-o*o;return[2*xe(t)*pe(Ye(a)*o,.25-c),2*xe(n)*pe(s*we(r),.25+c)]};var Fe=Ue(8),He=ve(1+Ce);function Xe(t,n){var e=le(n);return e<Se?[t,ve(Me(Se+n/2))]:[t*de(e)*(2*Ce-1/we(e)),xe(n)*(2*Ce*(e-Se)-ve(Me(e/2)))]}Xe.invert=function(t,n){if((i=le(n))<He)return[t,2*he(_e(n))-Ee];var e,i,r=Se,a=25;do{var o=de(r/2),s=Me(r/2);r-=e=(Fe*(r-Se)-ve(s)-i)/(Fe-o*o/(2*s))}while(le(e)>Te&&--a>0);return[t/(de(r)*(Fe-1/we(r))),xe(n)*r]};function Be(t,n){return[t*de(n)/de(n/=2),2*we(n)]}Be.invert=function(t,n){var e=2*De(n/2);return[t*de(e/2)/de(e),e]};function We(t,n){var e,i=t*we(n),r=30;do{n-=e=(n+we(n)-i)/(1+de(n))}while(le(e)>ke&&--r>0);return n/2}function Ve(t,n,e){function i(i,r){return[t*i*de(r=We(e,r)),n*we(r)]}return i.invert=function(i,r){return r=De(r/n),[i/(t*de(r)),De((2*r+we(2*r))/e)]},i}var $e=Ve(Ce/Ee,Ce,Ne),Ge=2.00276,Ze=1.11072;function Je(t,n){var e=We(Ne,n);return[Ge*t/(1/de(n)+Ze/de(e)),(n+Ce*we(e))/Ge]}Je.invert=function(t,n){var e,i,r=Ge*n,a=n<0?-Se:Se,o=25;do{i=r-Ce*we(a),a-=e=(we(2*a)+2*a-Ne*we(i))/(2*de(2*a)+2+Ne*de(i)*Ce*de(a))}while(le(e)>ke&&--o>0);return i=r-Ce*we(a),[t*(1/de(i)+Ze/de(a))/Ge,i]};function Qe(t,n){return[t*de(n),n]}Qe.invert=function(t,n){return[t/de(n),n]};Ve(1,4/Ne,Ne);function Ke(t,n){var e=Ue(1-we(n));return[2/Pe*t*e,Pe*(1-e)]}Ke.invert=function(t,n){var e=(e=n/Pe-1)*e;return[e>0?t*Ue(Ne/e)/2:0,De(1-e)]};var ti=Ue(3);function ni(t,n){return[ti*t*(2*de(2*n/3)-1)/Pe,ti*Pe*we(n/3)]}ni.invert=function(t,n){var e=3*De(n/(ti*Pe));return[Pe*t/(ti*(2*de(2*e/3)-1)),e]};function ei(t){var n=de(t);function e(t,e){return[t*n,we(e)/n]}return e.invert=function(t,e){return[t/n,De(e*n)]},e}function ii(t,n){var e=Ue(8/(3*Ne));return[e*t*(1-le(n)/Ne),e*n]}ii.invert=function(t,n){var e=Ue(8/(3*Ne)),i=n/e;return[t/(e*(1-le(i)/Ne)),i]};function ri(t,n){var e=Ue(4-3*we(le(n)));return[2/Ue(6*Ne)*t*e,xe(n)*Ue(2*Ne/3)*(2-e)]}ri.invert=function(t,n){var e=2-le(n)/Ue(2*Ne/3);return[t*Ue(6*Ne)/(2*e),xe(n)*De((4-e*e)/3)]};function ai(t,n){var e=Ue(Ne*(4+Ne));return[2/e*t*(1+Ue(1-4*n*n/(Ne*Ne))),4/e*n]}ai.invert=function(t,n){var e=Ue(Ne*(4+Ne))/2;return[t*e/(1+Ue(1-n*n*(4+Ne)/(4*Ne))),n*e/2]};function oi(t,n){var e=(2+Ee)*we(n);n/=2;for(var i=0,r=1/0;i<10&&le(r)>ke;i++){var a=de(n);n-=r=(n+we(n)*(a+2)-e)/(2*a*(1+a))}return[2/Ue(Ne*(4+Ne))*t*(1+de(n)),2*Ue(Ne/(4+Ne))*we(n)]}oi.invert=function(t,n){var e=n*Ue((4+Ne)/Ne)/2,i=De(e),r=de(i);return[t/(2/Ue(Ne*(4+Ne))*(1+r)),De((i+e*(r+2))/(2+Ee))]};function si(t,n){return[t*(1+de(n))/Ue(2+Ne),2*n/Ue(2+Ne)]}si.invert=function(t,n){var e=Ue(2+Ne),i=n*e/2;return[e*t/(1+de(i)),i]};function ci(t,n){for(var e=(1+Ee)*we(n),i=0,r=1/0;i<10&&le(r)>ke;i++)n-=r=(n+we(n)-e)/(1+de(n));return e=Ue(2+Ne),[t*(1+de(n))/e,2*n/e]}ci.invert=function(t,n){var e=1+Ee,i=Ue(e/2);return[2*t*i/(1+de(n*=i)),De((n+we(n))/e)]};var ui=3+2*Ce;function fi(t,n){var e=we(t/=2),i=de(t),r=Ue(de(n)),a=de(n/=2),o=we(n)/(a+Ce*i*r),s=Ue(2/(1+o*o)),c=Ue((Ce*a+(i+e)*r)/(Ce*a+(i-e)*r));return[ui*(s*(c-1/c)-2*ve(c)),ui*(s*o*(c+1/c)-2*he(o))]}fi.invert=function(t,n){if(!(e=qe.invert(t/1.2,1.065*n)))return null;var e,i=e[0],r=e[1],a=20;t/=ui,n/=ui;do{var o=i/2,s=r/2,c=we(o),u=de(o),f=we(s),l=de(s),h=de(r),p=Ue(h),d=f/(l+Ce*u*p),_=d*d,y=Ue(2/(1+_)),v=(Ce*l+(u+c)*p)/(Ce*l+(u-c)*p),b=Ue(v),m=b-1/b,g=b+1/b,x=y*m-2*ve(b)-t,w=y*d*g-2*he(d)-n,M=f&&Ae*p*c*_/f,k=(Ce*u*l+p)/(2*(l+Ce*u*p)*(l+Ce*u*p)*p),T=-.5*d*y*y*y,N=T*M,E=T*k,S=(S=2*l+Ce*p*(u-c))*S*b,A=(Ce*u*l*p+h)/S,C=-Ce*c*f/(p*S),P=m*N-2*A/b+y*(A+A/v),O=m*E-2*C/b+y*(C+C/v),L=d*g*N-2*M/(1+_)+y*g*M+y*d*(A-A/v),j=d*g*E-2*k/(1+_)+y*g*k+y*d*(C-C/v),D=O*L-j*P;if(!D)break;var R=(w*O-x*j)/D,U=(x*L-w*P)/D;i-=R,r=be(-Ee,me(Ee,r-U))}while((le(R)>ke||le(U)>ke)&&--a>0);return le(le(r)-Ee)<ke?[0,r]:a&&[i,r]};var li=de(35*je);function hi(t,n){var e=Me(n/2);return[t*li*Ue(1-e*e),(1+li)*e]}hi.invert=function(t,n){var e=n/(1+li);return[t&&t/(li*Ue(1-e*e)),2*he(e)]};function pi(t,n){var e=n/2,i=de(e);return[2*t/Pe*de(n)*i*i,Pe*Me(e)]}pi.invert=function(t,n){var e=he(n/Pe),i=de(e),r=2*e;return[t*Pe/2/(de(r)*i*i),r]};var di=function(t,n,e,i,r,a,o,s){function c(c,u){if(!u)return[t*c/Ne,0];var f=u*u,l=t+f*(n+f*(e+f*i)),h=u*(r-1+f*(a-s+f*o)),p=(l*l+h*h)/(2*h),d=c*De(l/p)/Ne;return[p*we(d),u*(1+f*s)+p*(1-de(d))]}return arguments.length<8&&(s=0),c.invert=function(c,u){var f,l,h=Ne*c/t,p=u,d=50;do{var _=p*p,y=t+_*(n+_*(e+_*i)),v=p*(r-1+_*(a-s+_*o)),b=y*y+v*v,m=2*v,g=b/m,x=g*g,w=De(y/g)/Ne,M=h*w,k=y*y,T=(2*n+_*(4*e+6*_*i))*p,N=r+_*(3*a+5*_*o),E=(2*(y*T+v*(N-1))*m-b*(2*(N-1)))/(m*m),S=de(M),A=we(M),C=g*S,P=g*A,O=h/Ne*(1/Ue(1-k/x))*(T*g-y*E)/x,L=P-c,j=p*(1+_*s)+g-C-u,D=E*A+C*O,R=C*w,U=1+E-(E*S-P*O),Y=P*w,z=D*Y-U*R;if(!z)break;h-=f=(j*D-L*U)/z,p-=l=(L*Y-j*R)/z}while((le(f)>ke||le(l)>ke)&&--d>0);return[h,p]},c};di(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),di(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),di(5/6*Ne,-.62636,-.0344,0,1.3493,-.05524,0,.045);function _i(t,n){var e=t*t,i=n*n;return[t*(1-.162388*i)*(.87-952426e-9*e*e),n*(1+i/12)]}_i.invert=function(t,n){var e,i=t,r=n,a=50;do{var o=r*r;r-=e=(r*(1+o/12)-n)/(1+o/4)}while(le(e)>ke&&--a>0);a=50,t/=1-.162388*o;do{var s=(s=i*i)*s;i-=e=(i*(.87-952426e-9*s)-t)/(.87-.00476213*s)}while(le(e)>ke&&--a>0);return[i,r]};di(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function yi(t,n){var e=xe(t),i=xe(n),r=de(n),a=de(t)*r,o=we(t)*r,s=we(i*n);t=le(pe(o,s)),n=De(a),le(t-Ee)>ke&&(t%=Ee);var c=function(t,n){if(n===Ee)return[0,0];var e,i,r=we(n),a=r*r,o=a*a,s=1+o,c=1+3*o,u=1-o,f=De(1/Ue(s)),l=u+a*s*f,h=(1-r)/l,p=Ue(h),d=h*s,_=Ue(d),y=p*u;if(0===t)return[0,-(y+a*_)];var v,b=de(n),m=1/b,g=2*r*b,x=(-l*b-(-3*a+f*c)*g*(1-r))/(l*l),w=-m*g,M=-m*(a*s*x+h*c*g),k=-2*m*(u*(.5*x/p)-2*a*p*g),T=4*t/Ne;if(t>.222*Ne||n<Ne/4&&t>.175*Ne){if(e=(y+a*Ue(d*(1+o)-y*y))/(1+o),t>Ne/4)return[e,e];var N=e,E=.5*e;e=.5*(E+N),i=50;do{var S=Ue(d-e*e),A=e*(k+w*S)+M*De(e/_)-T;if(!A)break;A<0?E=e:N=e,e=.5*(E+N)}while(le(N-E)>ke&&--i>0)}else{e=ke,i=25;do{var C=e*e,P=Ue(d-C),O=k+w*P,L=e*O+M*De(e/_)-T,j=O+(M-w*C)/P;e-=v=P?L/j:0}while(le(v)>ke&&--i>0)}return[e,-y-a*Ue(d-e*e)]}(t>Ne/4?Ee-t:t,n);return t>Ne/4&&(s=c[0],c[0]=-c[1],c[1]=-s),c[0]*=e,c[1]*=-i,c}yi.invert=function(t,n){le(t)>1&&(t=2*xe(t)-t),le(n)>1&&(n=2*xe(n)-n);var e=xe(t),i=xe(n),r=-e*t,a=-i*n,o=a/r<1,s=function(t,n){var e=0,i=1,r=.5,a=50;for(;;){var o=r*r,s=Ue(r),c=De(1/Ue(1+o)),u=1-o+r*(1+o)*c,f=(1-s)/u,l=Ue(f),h=f*(1+o),p=l*(1-o),d=h-t*t,_=Ue(d),y=n+p+r*_;if(le(i-e)<Te||0==--a||0===y)break;y>0?e=r:i=r,r=.5*(e+i)}if(!a)return null;var v=De(s),b=de(v),m=1/b,g=2*s*b,x=(-u*b-(-3*r+c*(1+3*o))*g*(1-s))/(u*u);return[Ne/4*(t*(-2*m*(.5*x/l*(1-o)-2*r*l*g)+-m*g*_)+-m*(r*(1+o)*x+f*(1+3*o)*g)*De(t/Ue(h))),v]}(o?a:r,o?r:a),c=s[0],u=s[1],f=de(u);return o&&(c=-Ee-c),[e*(pe(we(c)*f,-we(u))+Ne),i*De(de(c)*f)]};function vi(t,n){var e,i,r,a,o;if(n<ke)return[(a=we(t))-(e=n*(t-a*(i=de(t)))/4)*i,i+e*a,1-n*a*a/2,t-e];if(n>=1-ke)return e=(1-n)/4,r=1/(i=ze(t)),[(a=function(t){return((t=_e(2*t))-1)/(t+1)}(t))+e*((o=i*Ye(t))-t)/(i*i),r-e*a*r*(o-t),r+e*a*r*(o+t),2*he(_e(t))-Ee+e*(o-t)/i];var s=[1,0,0,0,0,0,0,0,0],c=[Ue(n),0,0,0,0,0,0,0,0],u=0;for(i=Ue(1-n),o=1;le(c[u]/s[u])>ke&&u<8;)e=s[u++],c[u]=(e-i)/2,s[u]=(e+i)/2,i=Ue(e*i),o*=2;r=o*s[u]*t;do{r=(De(a=c[u]*we(i=r)/s[u])+r)/2}while(--u);return[we(r),a=de(r),a/de(r-i),r]}function bi(t,n){if(!n)return t;if(1===n)return ve(Me(t/2+Se));for(var e=1,i=Ue(1-n),r=Ue(n),a=0;le(r)>ke;a++){if(t%Ne){var o=he(i*Me(t)/e);o<0&&(o+=Ne),t+=o+~~(t/Ne)*Ne}else t+=t;r=(e+i)/2,i=Ue(e*i),r=((e=r)-i)/2}return t/(ge(2,a)*e)}function mi(t,n){var e=(Ce-1)/(Ce+1),i=Ue(1-e*e),r=bi(Ee,i*i),a=ve(Me(Ne/4+le(n)/2)),o=_e(-1*a)/Ue(e),s=function(t,n){var e=t*t,i=n+1,r=1-e-n*n;return[.5*((t>=0?Ee:-Ee)-pe(r,2*t)),-.25*ve(r*r+4*e)+.5*ve(i*i+e)]}(o*de(-1*t),o*we(-1*t)),c=function(t,n,e){var i=le(t),r=Ye(le(n));if(i){var a=1/we(i),o=1/(Me(i)*Me(i)),s=-(o+e*(r*r*a*a)-1+e),c=(-s+Ue(s*s-(e-1)*o*4))/2;return[bi(he(1/Ue(c)),e)*xe(t),bi(he(Ue((c/o-1)/e)),1-e)*xe(n)]}return[0,bi(he(r),1-e)*xe(n)]}(s[0],s[1],i*i);return[-c[1],(n>=0?1:-1)*(.5*r-c[0])]}mi.invert=function(t,n){var e=(Ce-1)/(Ce+1),i=Ue(1-e*e),r=function(t,n,e){var i,r,a;return t?(i=vi(t,e),n?(a=(r=vi(n,1-e))[1]*r[1]+e*i[0]*i[0]*r[0]*r[0],[[i[0]*r[2]/a,i[1]*i[2]*r[0]*r[1]/a],[i[1]*r[1]/a,-i[0]*i[2]*r[0]*r[2]/a],[i[2]*r[1]*r[2]/a,-e*i[0]*i[1]*r[0]/a]]):[[i[0],0],[i[1],0],[i[2],0]]):[[0,(r=vi(n,1-e))[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]]}(.5*bi(Ee,i*i)-n,-t,i*i),a=function(t,n){var e=n[0]*n[0]+n[1]*n[1];return[(t[0]*n[0]+t[1]*n[1])/e,(t[1]*n[0]-t[0]*n[1])/e]}(r[0],r[1]);return[pe(a[1],a[0])/-1,2*he(_e(-.5*ve(e*a[0]*a[0]+e*a[1]*a[1])))-Ee]};ei(0);var gi=.7109889596207567,xi=.0528035274542;function wi(t,n){return n>-gi?((t=$e(t,n))[1]+=xi,t):Qe(t,n)}wi.invert=function(t,n){return n>-gi?$e.invert(t,n-xi):Qe.invert(t,n)};function Mi(t,n){return le(n)>gi?((t=$e(t,n))[1]-=n>0?xi:-xi,t):Qe(t,n)}Mi.invert=function(t,n){return le(n)>gi?$e.invert(t,n+(n>0?xi:-xi)):Qe.invert(t,n)};function ki(t,n){return[3/Oe*t*Ue(Ne*Ne/3-n*n),n]}ki.invert=function(t,n){return[Oe/3*t/Ue(Ne*Ne/3-n*n),n]};var Ti=Ne/Ce;function Ni(t,n){return[t*(1+Ue(de(n)))/2,n/(de(n/2)*de(t/6))]}Ni.invert=function(t,n){var e=le(t),i=le(n),r=ke,a=Ee;i<Ti?a*=i/Ti:r+=6*Re(Ti/i);for(var o=0;o<25;o++){var s=we(a),c=Ue(de(a)),u=we(a/2),f=de(a/2),l=we(r/6),h=de(r/6),p=.5*r*(1+c)-e,d=a/(f*h)-i,_=c?-.25*r*s/c:0,y=.5*(1+c),v=(1+.5*a*u/f)/(f*h),b=a/f*(l/6)/(h*h),m=_*b-v*y,g=(p*b-d*y)/m,x=(d*_-p*v)/m;if(a-=g,r-=x,le(g)<ke&&le(x)<ke)break}return[t<0?-r:r,n<0?-a:a]};function Ei(t,n){var e=t*t,i=n*n;return[t*(.975534+i*(-.0143059*e-.119161+-.0547009*i)),n*(1.00384+e*(.0802894+-.02855*i+199025e-9*e)+i*(.0998909+-.0491032*i))]}Ei.invert=function(t,n){var e=xe(t)*Ne,i=n/2,r=50;do{var a=e*e,o=i*i,s=e*i,c=e*(.975534+o*(-.0143059*a-.119161+-.0547009*o))-t,u=i*(1.00384+a*(.0802894+-.02855*o+199025e-9*a)+o*(.0998909+-.0491032*o))-n,f=.975534-o*(.119161+3*a*.0143059+.0547009*o),l=-s*(.238322+.2188036*o+.0286118*a),h=s*(.1605788+7961e-7*a+-.0571*o),p=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-.245516*o),d=l*h-p*f,_=(u*l-c*p)/d,y=(c*h-u*f)/d;e-=_,i-=y}while((le(_)>ke||le(y)>ke)&&--r>0);return r&&[e,i]};function Si(t,n){return[we(t)/de(n),Me(n)*de(t)]}Si.invert=function(t,n){var e=t*t,i=n*n+1,r=e+i,a=t?Ae*Ue((r-Ue(r*r-4*e))/e):1/Ue(i);return[De(t*a),xe(n)*Re(a)]};function Ai(t,n){return[t,1.25*ve(Me(Se+.4*n))]}Ai.invert=function(t,n){return[t,2.5*he(_e(.8*n))-.625*Ne]};var Ci=Ue(6),Pi=Ue(7);function Oi(t,n){var e=De(7*we(n)/(3*Ci));return[Ci*t*(2*de(2*e/3)-1)/Pi,9*we(e/3)/Pi]}Oi.invert=function(t,n){var e=3*De(n*Pi/9);return[t*Pi/(Ci*(2*de(2*e/3)-1)),De(3*we(e)*Ci/7)]};function Li(t,n){for(var e,i=(1+Ae)*we(n),r=n,a=0;a<25&&(r-=e=(we(r/2)+we(r)-i)/(.5*de(r/2)+de(r)),!(le(e)<ke));a++);return[t*(1+2*de(r)/de(r/2))/(3*Ce),2*Ue(3)*we(r/2)/Ue(2+Ce)]}Li.invert=function(t,n){var e=n*Ue(2+Ce)/(2*Ue(3)),i=2*De(e);return[3*Ce*t/(1+2*de(i)/de(i/2)),De((e+we(i))/(1+Ae))]};function ji(t,n){for(var e,i=Ue(6/(4+Ne)),r=(1+Ne/4)*we(n),a=n/2,o=0;o<25&&(a-=e=(a/2+we(a)-r)/(.5+de(a)),!(le(e)<ke));o++);return[i*(.5+de(a))*t/1.5,i*a]}ji.invert=function(t,n){var e=Ue(6/(4+Ne)),i=n/e;return le(le(i)-Ee)<ke&&(i=i<0?-Ee:Ee),[1.5*t/(e*(.5+de(i))),De((i/2+we(i))/(1+Ne/4))]};function Di(t,n){var e=n*n,i=e*e,r=e*i;return[t*(.84719-.13063*e+r*r*(.05494*e-.04515-.02326*i+.00331*r)),n*(1.01183+i*i*(.01926*e-.02625-.00396*i))]}Di.invert=function(t,n){var e,i,r,a,o=n,s=25;do{o-=e=(o*(1.01183+(r=(i=o*o)*i)*r*(.01926*i-.02625-.00396*r))-n)/(1.01183+r*r*(.21186*i-.23625+-.05148*r))}while(le(e)>Te&&--s>0);return[t/(.84719-.13063*(i=o*o)+(a=i*(r=i*i))*a*(.05494*i-.04515-.02326*r+.00331*a)),o]};function Ri(t,n){return[t*(1+de(n))/2,2*(n-Me(n/2))]}Ri.invert=function(t,n){for(var e=n/2,i=0,r=1/0;i<10&&le(r)>ke;++i){var a=de(n/2);n-=r=(n-Me(n/2)-e)/(1-.5/(a*a))}return[2*t/(1+de(n)),n]};var Ui=function(){return Wn(Ri).scale(152.63)},Yi=1.0148,zi=.23185,Ii=-.14499,qi=.02406,Fi=Yi,Hi=5*zi,Xi=7*Ii,Bi=9*qi;function Wi(t,n){var e=n*n;return[t,n*(Yi+e*e*(zi+e*(Ii+qi*e)))]}Wi.invert=function(t,n){n>1.790857183?n=1.790857183:n<-1.790857183&&(n=-1.790857183);var e,i=n;do{var r=i*i;i-=e=(i*(Yi+r*r*(zi+r*(Ii+qi*r)))-n)/(Fi+r*r*(Hi+r*(Xi+Bi*r)))}while(le(e)>ke);return[t,i]};function Vi(t,n){if(le(n)<ke)return[t,0];var e=Me(n),i=t*we(n);return[we(i)/e,n+(1-de(i))/e]}Vi.invert=function(t,n){if(le(n)<ke)return[t,0];var e,i=t*t+n*n,r=.5*n,a=10;do{var o=Me(r),s=1/de(r),c=i-2*n*r+r*r;r-=e=(o*c+2*(r-n))/(2+c*s*s+2*(r-n)*o)}while(le(e)>ke&&--a>0);return o=Me(r),[(le(n)<le(r+1/o)?De(t*o):xe(t)*(Re(le(t*o))+Ee))/we(r),r]};var $i=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Gi=([[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(t){return t.map(function(t){return $i[t]})}),2/Ue(3));function Zi(t,n){var e=Ke(t,n);return[e[0]*Gi,e[1]]}Zi.invert=function(t,n){return Ke.invert(t/Gi,n)};var Ji=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Qi(t,n){var e,i=me(18,36*le(n)/Ne),r=ye(i),a=i-r,o=(e=Ji[r])[0],s=e[1],c=(e=Ji[++r])[0],u=e[1],f=(e=Ji[me(19,++r)])[0],l=e[1];return[t*(c+a*(f-o)/2+a*a*(f-2*c+o)/2),(n>0?Ee:-Ee)*(u+a*(l-s)/2+a*a*(l-2*u+s)/2)]}Ji.forEach(function(t){t[1]*=1.0144}),Qi.invert=function(t,n){var e=n/Ee,i=90*e,r=me(18,le(i/5)),a=be(0,ye(r));do{var o=Ji[a][1],s=Ji[a+1][1],c=Ji[me(19,a+2)][1],u=c-o,f=c-2*s+o,l=2*(le(e)-s)/u,h=f/u,p=l*(1-h*l*(1-2*h*l));if(p>=0||1===a){i=(n>=0?5:-5)*(p+r);var d,_=50;do{p=(r=me(18,le(i)/5))-(a=ye(r)),o=Ji[a][1],s=Ji[a+1][1],c=Ji[me(19,a+2)][1],i-=(d=(n>=0?Ee:-Ee)*(s+p*(c-o)/2+p*p*(c-2*s+o)/2)-n)*Le}while(le(d)>Te&&--_>0);break}}while(--a>=0);var y=Ji[a][0],v=Ji[a+1][0],b=Ji[me(19,a+2)][0];return[t/(v+p*(b-y)/2+p*p*(b-2*v+y)/2),i*je]};function Ki(t,n){var e=Me(n/2),i=we(Se*e);return[t*(.74482-.34588*i*i),1.70711*e]}Ki.invert=function(t,n){var e=n/1.70711,i=we(Se*e);return[t/(.74482-.34588*i*i),2*he(e)]};function tr(t,n){if(le(n)<ke)return[t,0];var e=le(n/Ee),i=De(e);if(le(t)<ke||le(le(n)-Ee)<ke)return[0,xe(n)*Ne*Me(i/2)];var r=de(i),a=le(Ne/t-t/Ne)/2,o=a*a,s=r/(e+r-1),c=s*(2/e-1),u=c*c,f=u+o,l=s-u,h=o+s;return[xe(t)*Ne*(a*l+Ue(o*l*l-f*(s*s-u)))/f,xe(n)*Ne*(c*h-a*Ue((o+1)*f-h*h))/f]}tr.invert=function(t,n){if(le(n)<ke)return[t,0];if(le(t)<ke)return[0,Ee*we(2*he(n/Ne))];var e=(t/=Ne)*t,i=(n/=Ne)*n,r=e+i,a=r*r,o=-le(n)*(1+r),s=o-2*i+e,c=-2*o+1+2*i+a,u=i/c+(2*s*s*s/(c*c*c)-9*o*s/(c*c))/27,f=(o-s*s/(3*c))/c,l=2*Ue(-f/3),h=Re(3*u/(f*l))/3;return[Ne*(r-1+Ue(1+2*(e-i)+a))/(2*t),xe(n)*Ne*(-l*de(h+Ne/3)-s/(3*c))]};function nr(t,n){if(le(n)<ke)return[t,0];var e=le(n/Ee),i=De(e);if(le(t)<ke||le(le(n)-Ee)<ke)return[0,xe(n)*Ne*Me(i/2)];var r=de(i),a=le(Ne/t-t/Ne)/2,o=a*a,s=r*(Ue(1+o)-a*r)/(1+o*e*e);return[xe(t)*Ne*s,xe(n)*Ne*Ue(1-s*(2*a+s))]}nr.invert=function(t,n){if(!t)return[0,Ee*we(2*he(n/Ne))];var e=le(t/Ne),i=(1-e*e-(n/=Ne)*n)/(2*e),r=Ue(i*i+1);return[xe(t)*Ne*(r-i),xe(n)*Ee*we(2*pe(Ue((1-2*i*e)*(i+r)-e),Ue(r+i+e)))]};function er(t,n){if(le(n)<ke)return[t,0];var e=n/Ee,i=De(e);if(le(t)<ke||le(le(n)-Ee)<ke)return[0,Ne*Me(i/2)];var r=(Ne/t-t/Ne)/2,a=e/(1+de(i));return[Ne*(xe(t)*Ue(r*r+1-a*a)-r),Ne*a]}er.invert=function(t,n){if(!n)return[t,0];var e=n/Ne,i=(Ne*Ne*(1-e*e)-t*t)/(2*Ne*t);return[t?Ne*(xe(t)*Ue(i*i+1)-i):0,Ee*we(2*he(e))]};function ir(t,n){if(!n)return[t,0];var e=le(n);if(!t||e===Ee)return[0,n];var i=e/Ee,r=i*i,a=(8*i-r*(r+2)-5)/(2*r*(i-1)),o=a*a,s=i*a,c=r+o+2*s,u=i+3*a,f=t/Ee,l=f+1/f,h=xe(le(t)-Ee)*Ue(l*l-4),p=h*h,d=(h*(c+o-1)+2*Ue(c*(r+o*p-1)+(1-r)*(r*(u*u+4*o)+12*s*o+4*o*o)))/(4*c+p);return[xe(t)*Ee*d,xe(n)*Ee*Ue(1+h*le(d)-d*d)]}ir.invert=function(t,n){var e;if(!t||!n)return[t,n];n/=Ne;var i=xe(t)*t/Ee,r=(i*i-1+4*n*n)/le(i),a=r*r,o=2*n,s=50;do{var c=o*o,u=(8*o-c*(c+2)-5)/(2*c*(o-1)),f=(3*o-c*o-10)/(2*c*o),l=u*u,h=o*u,p=o+u,d=p*p,_=o+3*u,y=-2*p*(4*h*l+(1-4*c+3*c*c)*(1+f)+l*(14*c-6-a+(8*c-8-2*a)*f)+h*(12*c-8+(10*c-10-a)*f)),v=Ue(d*(c+l*a-1)+(1-c)*(c*(_*_+4*l)+l*(12*h+4*l)));o-=e=(r*(d+l-1)+2*v-i*(4*d+a))/(r*(2*u*f+2*p*(1+f))+y/v-8*p*(r*(-1+l+d)+2*v)*(1+f)/(a+4*d))}while(e>ke&&--s>0);return[xe(t)*(Ue(r*r+4)+r)*Ne/4,Ee*o]};var rr=4*Ne+3*Ue(3),ar=2*Ue(2*Ne*Ue(3)/rr);Ve(ar*Ue(3)/Ne,ar,rr/6);function or(t,n){return[t*Ue(1-3*n*n/(Ne*Ne)),n]}or.invert=function(t,n){return[t/Ue(1-3*n*n/(Ne*Ne)),n]};function sr(t,n){var e=.90631*we(n),i=Ue(1-e*e),r=Ue(2/(1+i*de(t/=3)));return[2.66723*i*r*we(t),1.24104*e*r]}sr.invert=function(t,n){var e=t/2.66723,i=n/1.24104,r=Ue(e*e+i*i),a=2*De(r/2);return[3*pe(t*Me(a),2.66723*r),r&&De(n*we(a)/(1.24104*.90631*r))]};function cr(t,n){var e=de(n),i=de(t)*e,r=1-i,a=de(t=pe(we(t)*e,-we(n))),o=we(t);return[o*(e=Ue(1-i*i))-a*r,-a*e-o*r]}cr.invert=function(t,n){var e=(t*t+n*n)/-2,i=Ue(-e*(2+e)),r=n*e+t*i,a=t*e-n*i,o=Ue(a*a+r*r);return[pe(i*r,o*(1+e)),o?-De(i*a/o):0]};function ur(t,n){var e=Ie(t,n);return[(e[0]+t/Ee)/2,(e[1]+n)/2]}ur.invert=function(t,n){var e=t,i=n,r=25;do{var a,o=de(i),s=we(i),c=we(2*i),u=s*s,f=o*o,l=we(e),h=de(e/2),p=we(e/2),d=p*p,_=1-f*h*h,y=_?Re(o*h)*Ue(a=1/_):a=0,v=.5*(2*y*o*p+e/Ee)-t,b=.5*(y*s+i)-n,m=.5*a*(f*d+y*o*h*u)+.5/Ee,g=a*(l*c/4-y*s*p),x=.125*a*(c*p-y*s*f*l),w=.5*a*(u*h+y*d*o)+.5,M=g*x-w*m,k=(b*g-v*w)/M,T=(v*x-b*m)/M;e-=k,i-=T}while((le(k)>ke||le(T)>ke)&&--r>0);return[e,i]};var fr="http://www.w3.org/1999/xhtml",lr={svg:"http://www.w3.org/2000/svg",xhtml:fr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hr=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),lr.hasOwnProperty(n)?{space:lr[n],local:t}:t};var pr=function(t){var n=hr(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===fr&&n.documentElement.namespaceURI===fr?n.createElement(t):n.createElementNS(e,t)}})(n)},dr=0;function _r(){this._="@"+(++dr).toString(36)}_r.prototype=function(){return new _r}.prototype={constructor:_r,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var yr=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var vr=document.documentElement;if(!vr.matches){var br=vr.webkitMatchesSelector||vr.msMatchesSelector||vr.mozMatchesSelector||vr.oMatchesSelector;yr=function(t){return function(){return br.call(this,t)}}}}var mr=yr,gr={},xr=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(gr={mouseenter:"mouseover",mouseleave:"mouseout"}));function wr(t,n,e){return t=Mr(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Mr(t,n,e){return function(i){var r=xr;xr=i;try{t.call(this,this.__data__,n,e)}finally{xr=r}}}function kr(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,a=n.length;i<a;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?n.length=r:delete this.__on}}}function Tr(t,n,e){var i=gr.hasOwnProperty(t.type)?wr:Mr;return function(r,a,o){var s,c=this.__on,u=i(n,a,o);if(c)for(var f=0,l=c.length;f<l;++f)if((s=c[f]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=e),void(s.value=n);this.addEventListener(t.type,u,e),s={type:t.type,name:t.name,value:n,listener:u,capture:e},c?c.push(s):this.__on=[s]}}function Nr(t,n,e,i){var r=xr;t.sourceEvent=xr,xr=t;try{return n.apply(e,i)}finally{xr=r}}var Er=function(){for(var t,n=xr;t=n.sourceEvent;)n=t;return n},Sr=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]},Ar=function(t){var n=Er();return n.changedTouches&&(n=n.changedTouches[0]),Sr(t,n)};function Cr(){}var Pr=function(t){return null==t?Cr:function(){return this.querySelector(t)}};function Or(){return[]}var Lr=function(t){return new Array(t.length)};function jr(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}jr.prototype={constructor:jr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Dr="$";function Rr(t,n,e,i,r,a){for(var o,s=0,c=n.length,u=a.length;s<u;++s)(o=n[s])?(o.__data__=a[s],i[s]=o):e[s]=new jr(t,a[s]);for(;s<c;++s)(o=n[s])&&(r[s]=o)}function Ur(t,n,e,i,r,a,o){var s,c,u,f={},l=n.length,h=a.length,p=new Array(l);for(s=0;s<l;++s)(c=n[s])&&(p[s]=u=Dr+o.call(c,c.__data__,s,n),u in f?r[s]=c:f[u]=c);for(s=0;s<h;++s)(c=f[u=Dr+o.call(t,a[s],s,a)])?(i[s]=c,c.__data__=a[s],f[u]=null):e[s]=new jr(t,a[s]);for(s=0;s<l;++s)(c=n[s])&&f[p[s]]===c&&(r[s]=c)}function Yr(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var zr=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Ir(t){return t.trim().split(/^|\s+/)}function qr(t){return t.classList||new Fr(t)}function Fr(t){this._node=t,this._names=Ir(t.getAttribute("class")||"")}function Hr(t,n){for(var e=qr(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Xr(t,n){for(var e=qr(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}Fr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Br(){this.textContent=""}function Wr(){this.innerHTML=""}function Vr(){this.nextSibling&&this.parentNode.appendChild(this)}function $r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gr(){return null}function Zr(){var t=this.parentNode;t&&t.removeChild(this)}function Jr(t,n,e){var i=zr(t),r=i.CustomEvent;r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}var Qr=[null];function Kr(t,n){this._groups=t,this._parents=n}function ta(){return new Kr([[document.documentElement]],Qr)}Kr.prototype=ta.prototype={constructor:Kr,select:function(t){"function"!=typeof t&&(t=Pr(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var a,o,s=n[r],c=s.length,u=i[r]=new Array(c),f=0;f<c;++f)(a=s[f])&&(o=t.call(a,a.__data__,f,s))&&("__data__"in a&&(o.__data__=a.__data__),u[f]=o);return new Kr(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?Or:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,i=[],r=[],a=0;a<e;++a)for(var o,s=n[a],c=s.length,u=0;u<c;++u)(o=s[u])&&(i.push(t.call(o,o.__data__,u,s)),r.push(o));return new Kr(i,r)},filter:function(t){"function"!=typeof t&&(t=mr(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var a,o=n[r],s=o.length,c=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Kr(i,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),u=-1,this.each(function(t){p[++u]=t}),p;var e=n?Ur:Rr,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,o=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],l=r[u],h=l.length,p=t.call(f,f&&f.__data__,u,i),d=p.length,_=s[u]=new Array(d),y=o[u]=new Array(d);e(f,l,_,y,c[u]=new Array(h),p,n);for(var v,b,m=0,g=0;m<d;++m)if(v=_[m]){for(m>=g&&(g=m+1);!(b=y[g])&&++g<d;);v._next=b||null}}return(o=new Kr(o,i))._enter=s,o._exit=c,o},enter:function(){return new Kr(this._enter||this._groups.map(Lr),this._parents)},exit:function(){return new Kr(this._exit||this._groups.map(Lr),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,i=n.length,r=e.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,u=n[s],f=e[s],l=u.length,h=o[s]=new Array(l),p=0;p<l;++p)(c=u[p]||f[p])&&(h[p]=c);for(;s<i;++s)o[s]=n[s];return new Kr(o,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Yr);for(var e=this._groups,i=e.length,r=new Array(i),a=0;a<i;++a){for(var o,s=e[a],c=s.length,u=r[a]=new Array(c),f=0;f<c;++f)(o=s[f])&&(u[f]=o);u.sort(n)}return new Kr(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,a=n[e],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,n){var e=hr(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){var i;return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):zr(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Ir(t+"");if(arguments.length<2){for(var i=qr(this.node()),r=-1,a=e.length;++r<a;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?Hr:Xr)(this,t)}}:n?function(t){return function(){Hr(this,t)}}:function(t){return function(){Xr(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Br:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Wr:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Vr)},lower:function(){return this.each($r)},append:function(t){var n="function"==typeof t?t:pr(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:pr(t),i=null==n?Gr:"function"==typeof n?n:Pr(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(Zr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var i,r,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),o=a.length;if(!(arguments.length<2)){for(s=n?Tr:kr,null==e&&(e=!1),i=0;i<o;++i)this.each(s(a[i],n,e));return this}var s=this.node().__on;if(s)for(var c,u=0,f=s.length;u<f;++u)for(i=0,c=s[u];i<o;++i)if((r=a[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Jr(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Jr(this,t,n)}})(t,n))}};var na=function(t){return"string"==typeof t?new Kr([[document.querySelector(t)]],[document.documentElement]):new Kr([[t]],Qr)},ea=function(t,n,e){arguments.length<3&&(e=n,n=Er().changedTouches);for(var i,r=0,a=n?n.length:0;r<a;++r)if((i=n[r]).identifier===e)return Sr(t,i);return null},ia={value:function(){}};function ra(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new aa(i)}function aa(t){this._=t}function oa(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function sa(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=ia,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}aa.prototype=ra.prototype={constructor:aa,on:function(t,n){var e,i=this._,r=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=r[a]).type)i[e]=sa(i[e],t.name,n);else if(null==n)for(e in i)i[e]=sa(i[e],t.name,null);return this}for(;++a<o;)if((e=(t=r[a]).type)&&(e=oa(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new aa(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),a=0;a<e;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(i=this._[t]).length;a<e;++a)i[a].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(n,e)}};var ca=ra;function ua(){xr.stopImmediatePropagation()}var fa=function(){xr.preventDefault(),xr.stopImmediatePropagation()},la=function(t){var n=t.document.documentElement,e=na(t).on("dragstart.drag",fa,!0);"onselectstart"in n?e.on("selectstart.drag",fa,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};var ha=function(t){return function(){return t}};function pa(t,n,e,i,r,a,o,s,c,u){this.target=t,this.type=n,this.subject=e,this.identifier=i,this.active=r,this.x=a,this.y=o,this.dx=s,this.dy=c,this._=u}function da(){return!xr.button}function _a(){return this.parentNode}function ya(t){return null==t?{x:xr.x,y:xr.y}:t}pa.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var va=function(){var t,n,e=da,i=_a,r=ya,a={},o=ca("start","drag","end"),s=0;function c(t){t.on("mousedown.drag",u).on("touchstart.drag",h).on("touchmove.drag",p).on("touchend.drag touchcancel.drag",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){if(!n&&e.apply(this,arguments)){var r=_("mouse",i.apply(this,arguments),Ar,this,arguments);r&&(na(xr.view).on("mousemove.drag",f,!0).on("mouseup.drag",l,!0),la(xr.view),ua(),t=!1,r("start"))}}function f(){fa(),t=!0,a.mouse("drag")}function l(){na(xr.view).on("mousemove.drag mouseup.drag",null),function(t,n){var e=t.document.documentElement,i=na(t).on("dragstart.drag",null);n&&(i.on("click.drag",fa,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(xr.view,t),fa(),a.mouse("end")}function h(){if(e.apply(this,arguments)){var t,n,r=xr.changedTouches,a=i.apply(this,arguments),o=r.length;for(t=0;t<o;++t)(n=_(r[t].identifier,a,ea,this,arguments))&&(ua(),n("start"))}}function p(){var t,n,e=xr.changedTouches,i=e.length;for(t=0;t<i;++t)(n=a[e[t].identifier])&&(fa(),n("drag"))}function d(){var t,e,i=xr.changedTouches,r=i.length;for(n&&clearTimeout(n),n=setTimeout(function(){n=null},500),t=0;t<r;++t)(e=a[i[t].identifier])&&(ua(),e("end"))}function _(t,n,e,i,u){var f,l,h,p=e(n,t),d=o.copy();if(Nr(new pa(c,"beforestart",f,t,s,p[0],p[1],0,0,d),function(){return null!=(xr.subject=f=r.apply(i,u))&&(l=f.x-p[0]||0,h=f.y-p[1]||0,!0)}))return function r(o){var _,y=p;switch(o){case"start":a[t]=r,_=s++;break;case"end":delete a[t],--s;case"drag":p=e(n,t),_=s}Nr(new pa(c,o,f,t,_,p[0]+l,p[1]+h,p[0]-y[0],p[1]-y[1],d),d.apply,d,[o,i,u])}}return c.filter=function(t){return arguments.length?(e="function"==typeof t?t:ha(!!t),c):e},c.container=function(t){return arguments.length?(i="function"==typeof t?t:ha(t),c):i},c.subject=function(t){return arguments.length?(r="function"==typeof t?t:ha(t),c):r},c.on=function(){var t=o.on.apply(o,arguments);return t===o?c:t},c},ba=Math.PI,ma=2*ba,ga=ma-1e-6;function xa(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wa(){return new xa}xa.prototype=wa.prototype={constructor:xa,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,r,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,n,e,i,r){t=+t,n=+n,e=+e,i=+i,r=+r;var a=this._x1,o=this._y1,s=e-t,c=i-n,u=a-t,f=o-n,l=u*u+f*f;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*s-c*u)>1e-6&&r){var h=e-a,p=i-o,d=s*s+c*c,_=h*h+p*p,y=Math.sqrt(d),v=Math.sqrt(l),b=r*Math.tan((ba-Math.acos((d+l-_)/(2*y*v)))/2),m=b/v,g=b/y;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*u)+","+(n+m*f)),this._+="A"+r+","+r+",0,0,"+ +(f*h>u*p)+","+(this._x1=t+g*s)+","+(this._y1=n+g*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,i,r,a){t=+t,n=+n;var o=(e=+e)*Math.cos(i),s=e*Math.sin(i),c=t+o,u=n+s,f=1^a,l=a?i-r:r-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+c+","+u),e&&(l<0&&(l=l%ma+ma),l>ga?this._+="A"+e+","+e+",0,1,"+f+","+(t-o)+","+(n-s)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=u):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=ba)+","+f+","+(this._x1=t+e*Math.cos(r))+","+(this._y1=n+e*Math.sin(r))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};var Ma=wa,ka=function(t){return function(){return t}},Ta=1e-12,Na=Math.PI,Ea=Na/2,Sa=2*Na;function Aa(t){return t.innerRadius}function Ca(t){return t.outerRadius}function Pa(t){return t.startAngle}function Oa(t){return t.endAngle}function La(t){return t&&t.padAngle}function ja(t){return t>=1?Ea:t<=-1?-Ea:Math.asin(t)}function Da(t,n,e,i,r,a,o){var s=t-e,c=n-i,u=(o?a:-a)/Math.sqrt(s*s+c*c),f=u*c,l=-u*s,h=t+f,p=n+l,d=e+f,_=i+l,y=(h+d)/2,v=(p+_)/2,b=d-h,m=_-p,g=b*b+m*m,x=r-a,w=h*_-d*p,M=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*g-w*w)),k=(w*m-b*M)/g,T=(-w*b-m*M)/g,N=(w*m+b*M)/g,E=(-w*b+m*M)/g,S=k-y,A=T-v,C=N-y,P=E-v;return S*S+A*A>C*C+P*P&&(k=N,T=E),{cx:k,cy:T,x01:-f,y01:-l,x11:k*(r/x-1),y11:T*(r/x-1)}}function Ra(t){this._context=t}Ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var Ua=function(t){return new Ra(t)};function Ya(t){return t[0]}function za(t){return t[1]}var Ia=function(){var t=Ya,n=za,e=ka(!0),i=null,r=Ua,a=null;function o(o){var s,c,u,f=o.length,l=!1;for(null==i&&(a=r(u=Ma())),s=0;s<=f;++s)!(s<f&&e(c=o[s],s,o))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+t(c,s,o),+n(c,s,o));if(u)return a=null,u+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:ka(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:ka(+t),o):n},o.defined=function(t){return arguments.length?(e="function"==typeof t?t:ka(!!t),o):e},o.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),o):r},o.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),o):i},o};Fa(Ua);function qa(t){this._curve=t}function Fa(t){function n(n){return new qa(t(n))}return n._curve=t,n}qa.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};Math.sqrt(1/3);var Ha=Math.sin(Na/10)/Math.sin(7*Na/10),Xa=(Math.sin(Sa/10),Math.cos(Sa/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function Ba(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Wa(t){this._context=t}Wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ba(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ba(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Va(t){this._context=t}Va.prototype={areaStart:Xa,areaEnd:Xa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Ba(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function $a(t){this._context=t}$a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:Ba(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Ga(t,n){this._basis=new Wa(t),this._beta=n}Ga.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var i,r=t[0],a=n[0],o=t[e]-r,s=n[e]-a,c=-1;++c<=e;)i=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+i*o),this._beta*n[c]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};(function t(n){function e(t){return 1===n?new Wa(t):new Ga(t,n)}return e.beta=function(n){return t(+n)},e})(.85);function Za(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Ja(t,n){this._context=t,this._k=(1-n)/6}Ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Za(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Za(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new Ja(t,n)}return e.tension=function(n){return t(+n)},e})(0);function Qa(t,n){this._context=t,this._k=(1-n)/6}Qa.prototype={areaStart:Xa,areaEnd:Xa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Za(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new Qa(t,n)}return e.tension=function(n){return t(+n)},e})(0);function Ka(t,n){this._context=t,this._k=(1-n)/6}Ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Za(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new Ka(t,n)}return e.tension=function(n){return t(+n)},e})(0);function to(t,n,e){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Ta){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Ta){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-n*t._l12_2a)/f,o=(o*u+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}function no(t,n){this._context=t,this._alpha=n}no.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:to(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var eo=function t(n){function e(t){return n?new no(t,n):new Ja(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function io(t,n){this._context=t,this._alpha=n}io.prototype={areaStart:Xa,areaEnd:Xa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:to(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new io(t,n):new Qa(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function ro(t,n){this._context=t,this._alpha=n}ro.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:to(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new ro(t,n):new Ka(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function ao(t){this._context=t}ao.prototype={areaStart:Xa,areaEnd:Xa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function oo(t){return t<0?-1:1}function so(t,n,e){var i=t._x1-t._x0,r=n-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(e-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(oo(a)+oo(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function co(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function uo(t,n,e){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*n,a-s,o-s*e,a,o)}function fo(t){this._context=t}function lo(t){this._context=new ho(t)}function ho(t){this._context=t}function po(t){this._context=t}function _o(t){var n,e,i=t.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],n=1;n<i-1;++n)r[n]=1,a[n]=4,o[n]=4*t[n]+2*t[n+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=r[n]/a[n-1],a[n]-=e,o[n]-=e*o[n-1];for(r[i-1]=o[i-1]/a[i-1],n=i-2;n>=0;--n)r[n]=(o[n]-r[n+1])/a[n];for(a[i-1]=(t[i]+r[i-1])/2,n=0;n<i-1;++n)a[n]=2*t[n+1]-r[n+1];return[r,a]}fo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uo(this,this._t0,co(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,uo(this,co(this,e=so(this,t,n)),e);break;default:uo(this,this._t0,e=so(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(lo.prototype=Object.create(fo.prototype)).point=function(t,n){fo.prototype.point.call(this,n,t)},ho.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,a){this._context.bezierCurveTo(n,t,i,e,a,r)}},po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var i=_o(t),r=_o(n),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],n[o]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function yo(t,n){this._context=t,this._t=n}yo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};Array.prototype.slice;var vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},mo=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),go=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xo=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var a=Object.getPrototypeOf(n);return null===a?void 0:t(a,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},wo=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},Mo=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},ko=function(){function t(n){var e=n.x,i=void 0===e?0:e,r=n.y,a=void 0===r?0:r,o=n.nx,s=n.ny,c=n.dy,u=void 0===c?0:c,f=n.dx,l=void 0===f?0:f,h=n.color,p=void 0===h?"grey":h,d=n.data,_=n.type,y=n.subject,v=n.connector,b=n.note,m=n.disable,g=n.id,x=n.className;bo(this,t),this._dx=void 0!==o?o-i:l,this._dy=void 0!==s?s-a:u,this._x=i,this._y=a,this._color=p,this.id=g,this._className=x||"",this.type=_||"",this.data=d,this.note=b||{},this.connector=v||{},this.subject=y||{},this.disable=m||[]}return mo(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var n=t.x,e=t.y;this._dx=n,this._dy=e,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var n=t.x,e=t.y;this._x=n,this._y=e,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),To=function(){function t(n){var e=n.annotations,i=n.accessors,r=n.accessorsInverse;bo(this,t),this.accessors=i,this.accessorsInverse=r,this.annotations=e}return mo(t,[{key:"clearTypes",value:function(t){this.annotations.forEach(function(n){n.type=void 0,n.subject=t&&t.subject||n.subject,n.connector=t&&t.connector||n.connector,n.note=t&&t.note||n.note})}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach(function(n){n.type.setPositionWithAccessors(t.accessors)})}},{key:"editMode",value:function(t){this.annotations.forEach(function(n){n.type&&(n.type.editMode=t,n.type.updateEditMode())})}},{key:"updateDisable",value:function(t){this.annotations.forEach(function(n){n.disable=t,n.type&&t.forEach(function(t){n.type[t]&&(n.type[t].remove&&n.type[t].remove(),n.type[t]=void 0)})})}},{key:"updateTextWrap",value:function(t){this.annotations.forEach(function(n){n.type&&n.type.updateTextWrap&&n.type.updateTextWrap(t)})}},{key:"updateText",value:function(){this.annotations.forEach(function(t){t.type&&t.type.drawText&&t.type.drawText()})}},{key:"updateNotePadding",value:function(t){this.annotations.forEach(function(n){n.type&&(n.type.notePadding=t)})}},{key:"json",get:function(){var t=this;return this.annotations.map(function(n){var e=n.json;return t.accessorsInverse&&n.data&&(e.data={},Object.keys(t.accessorsInverse).forEach(function(i){e.data[i]=t.accessorsInverse[i]({x:n.x,y:n.y})})),e})}},{key:"noteNodes",get:function(){return this.annotations.map(function(t){return go({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})})}}]),t}(),No=function(t,n){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=n<0?"top":"bottom"),t},Eo=function(t,n){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=n<0?"right":"left"),t},So=["topBottom","top","bottom"],Ao=["leftRight","left","right"],Co=function(t){var n=t.data,e=t.curve,i=void 0===e?Ua:e,r=t.canvasContext,a=t.className,o=t.classID,s=Ia().curve(i),c={type:"path",className:a,classID:o,data:n};return r?(s.context(r),c.pathMethods=s):c.attrs={d:s(n)},c},Po=function(t){var n=t.data,e=t.canvasContext,i={type:"path",className:t.className,classID:t.classID,data:n},r=function(){var t=Aa,n=Ca,e=ka(0),i=null,r=Pa,a=Oa,o=La,s=null;function c(){var c,u,f=+t.apply(this,arguments),l=+n.apply(this,arguments),h=r.apply(this,arguments)-Ea,p=a.apply(this,arguments)-Ea,d=Math.abs(p-h),_=p>h;if(s||(s=c=Ma()),l<f&&(u=l,l=f,f=u),l>Ta)if(d>Sa-Ta)s.moveTo(l*Math.cos(h),l*Math.sin(h)),s.arc(0,0,l,h,p,!_),f>Ta&&(s.moveTo(f*Math.cos(p),f*Math.sin(p)),s.arc(0,0,f,p,h,_));else{var y,v,b=h,m=p,g=h,x=p,w=d,M=d,k=o.apply(this,arguments)/2,T=k>Ta&&(i?+i.apply(this,arguments):Math.sqrt(f*f+l*l)),N=Math.min(Math.abs(l-f)/2,+e.apply(this,arguments)),E=N,S=N;if(T>Ta){var A=ja(T/f*Math.sin(k)),C=ja(T/l*Math.sin(k));(w-=2*A)>Ta?(g+=A*=_?1:-1,x-=A):(w=0,g=x=(h+p)/2),(M-=2*C)>Ta?(b+=C*=_?1:-1,m-=C):(M=0,b=m=(h+p)/2)}var P=l*Math.cos(b),O=l*Math.sin(b),L=f*Math.cos(x),j=f*Math.sin(x);if(N>Ta){var D=l*Math.cos(m),R=l*Math.sin(m),U=f*Math.cos(g),Y=f*Math.sin(g);if(d<Na){var z=w>Ta?function(t,n,e,i,r,a,o,s){var c=e-t,u=i-n,f=o-r,l=s-a,h=(f*(n-a)-l*(t-r))/(l*c-f*u);return[t+h*c,n+h*u]}(P,O,U,Y,D,R,L,j):[L,j],I=P-z[0],q=O-z[1],F=D-z[0],H=R-z[1],X=1/Math.sin(Math.acos((I*F+q*H)/(Math.sqrt(I*I+q*q)*Math.sqrt(F*F+H*H)))/2),B=Math.sqrt(z[0]*z[0]+z[1]*z[1]);E=Math.min(N,(f-B)/(X-1)),S=Math.min(N,(l-B)/(X+1))}}M>Ta?S>Ta?(y=Da(U,Y,P,O,l,S,_),v=Da(D,R,L,j,l,S,_),s.moveTo(y.cx+y.x01,y.cy+y.y01),S<N?s.arc(y.cx,y.cy,S,Math.atan2(y.y01,y.x01),Math.atan2(v.y01,v.x01),!_):(s.arc(y.cx,y.cy,S,Math.atan2(y.y01,y.x01),Math.atan2(y.y11,y.x11),!_),s.arc(0,0,l,Math.atan2(y.cy+y.y11,y.cx+y.x11),Math.atan2(v.cy+v.y11,v.cx+v.x11),!_),s.arc(v.cx,v.cy,S,Math.atan2(v.y11,v.x11),Math.atan2(v.y01,v.x01),!_))):(s.moveTo(P,O),s.arc(0,0,l,b,m,!_)):s.moveTo(P,O),f>Ta&&w>Ta?E>Ta?(y=Da(L,j,D,R,f,-E,_),v=Da(P,O,U,Y,f,-E,_),s.lineTo(y.cx+y.x01,y.cy+y.y01),E<N?s.arc(y.cx,y.cy,E,Math.atan2(y.y01,y.x01),Math.atan2(v.y01,v.x01),!_):(s.arc(y.cx,y.cy,E,Math.atan2(y.y01,y.x01),Math.atan2(y.y11,y.x11),!_),s.arc(0,0,f,Math.atan2(y.cy+y.y11,y.cx+y.x11),Math.atan2(v.cy+v.y11,v.cx+v.x11),_),s.arc(v.cx,v.cy,E,Math.atan2(v.y11,v.x11),Math.atan2(v.y01,v.x01),!_))):s.arc(0,0,f,x,g,_):s.lineTo(L,j)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-Na/2;return[Math.cos(i)*e,Math.sin(i)*e]},c.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:ka(+n),c):t},c.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ka(+t),c):n},c.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ka(+t),c):e},c.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:ka(+t),c):i},c.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:ka(+t),c):r},c.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:ka(+t),c):a},c.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:ka(+t),c):o},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}().innerRadius(n.innerRadius||0).outerRadius(n.outerRadius||n.radius||2).startAngle(n.startAngle||0).endAngle(n.endAngle||2*Math.PI);return e?(r.context(e),i.pathMethods=lineGen):i.attrs={d:r()},i},Oo=function(t){var n=t.type,e=t.subjectType,i=n.annotation,r=i.position,a=i.x-r.x,o=a+i.dx,s=i.y-r.y,c=s+i.dy,u=i.subject;if("circle"===e&&(u.outerRadius||u.radius)){var f=Math.sqrt((a-o)*(a-o)+(s-c)*(s-c)),l=Math.asin(-c/f),h=u.outerRadius||u.radius+(u.radiusPadding||0);a=Math.abs(Math.cos(l)*h)*(o<0?-1:1),s=Math.abs(Math.sin(l)*h)*(c<0?-1:1)}if("rect"===e){var p=u.width,d=u.height;(p>0&&i.dx>0||p<0&&i.dx<0)&&(a=Math.abs(p)>Math.abs(i.dx)?p/2:p),(d>0&&i.dy>0||d<0&&i.dy<0)&&(s=Math.abs(d)>Math.abs(i.dy)?d/2:d),a===p/2&&s===d/2&&(a=o,s=c)}return[[a,s],[o,c]]},Lo=function(t){var n=t.type,e=t.connectorData,i=t.subjectType;e||(e={}),e.points&&"number"!=typeof e.points||(e.points=jo(n.annotation.offset,e.points)),e.curve||(e.curve=eo);var r=[];if(n.editMode){var a=e.points.map(function(t,n){return go({},function(t){var n=t.cx,e=void 0===n?0:n,i=t.cy;return{move:{x:e,y:void 0===i?0:i}}}({cx:t[0],cy:t[1]}),{index:n})});r=n.mapHandles(a.map(function(t){return go({},t.move,{drag:function(t){e.points[t][0]+=xr.dx,e.points[t][1]+=xr.dy,n.redrawConnector()}.bind(n,t.index)})}))}var o=Oo({type:n,subjectType:i});return o=[o[0]].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(e.points),[o[1]]),{components:[Co({data:o,curve:e.curve,className:"connector"})],handles:r}},jo=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t.x/(n+1),i=t.y/(n+1),r=[],a=1;a<=n;a++)r.push([e*a+a%2*20,i*a-a%2*20]);return r},Do=function(t){var n=t.subjectData,e=t.type;n.radius||n.outerRadius||(n.radius=20);var i=[],r=Po({data:n,className:"subject"});if(e.editMode){var a=function(t){var n=t.cx,e=void 0===n?0:n,i=t.cy,r=void 0===i?0:i,a=t.r1,o=t.r2,s=t.padding,c={move:{x:e,y:r}};return void 0!==a&&(c.r1={x:e+a/Math.sqrt(2),y:r+a/Math.sqrt(2)}),void 0!==o&&(c.r2={x:e+o/Math.sqrt(2),y:r+o/Math.sqrt(2)}),void 0!==s&&(c.padding={x:e+a+s,y:r}),c}({r1:r.data.outerRadius||r.data.radius,r2:r.data.innerRadius,padding:n.radiusPadding}),o=function(t){var i=n[t]+xr.dx*Math.sqrt(2);n[t]=i,e.redrawSubject(),e.redrawConnector()},s=[go({},a.r1,{drag:o.bind(e,void 0!==n.outerRadius?"outerRadius":"radius")})];n.innerRadius&&s.push(go({},a.r2,{drag:o.bind(e,"innerRadius")})),i=e.mapHandles(s)}return r.attrs["fill-opacity"]=0,{components:[r],handles:i}},Ro=function(){function t(n){var e=n.a,i=n.annotation,r=n.editMode,a=n.dispatcher,o=n.notePadding,s=n.accessors;if(bo(this,t),this.a=e,this.note=-1===i.disable.indexOf("note")&&e.select("g.annotation-note"),this.noteContent=this.note&&e.select("g.annotation-note-content"),this.connector=-1===i.disable.indexOf("connector")&&e.select("g.annotation-connector"),this.subject=-1===i.disable.indexOf("subject")&&e.select("g.annotation-subject"),this.dispatcher=a,a){var c=Fo.bind(null,a,i);c({component:this.note,name:"note"}),c({component:this.connector,name:"connector"}),c({component:this.subject,name:"subject"})}this.annotation=i,this.editMode=i.editMode||r,this.notePadding=void 0!==o?o:3,this.offsetCornerX=0,this.offsetCornerY=0,s&&i.data&&this.init(s)}return mo(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,n){var e=this;Array.isArray(n)||(n=[n]),n.filter(function(t){return t}).forEach(function(n){var i=n.type,r=n.className,a=n.attrs,o=n.handles,s=n.classID;if("handle"===i)!function(t){var n=t.group,e=t.handles,i=t.r,r=void 0===i?10:i,a=n.selectAll("circle.handle").data(e);a.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(va().container(na("g.annotations").node()).on("start",function(t){return t.start&&t.start(t)}).on("drag",function(t){return t.drag&&t.drag(t)}).on("end",function(t){return t.end&&t.end(t)})),n.selectAll("circle.handle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return t.r||r}).attr("class",function(t){return"handle "+(t.className||"")}),a.exit().remove()}({group:t,r:a&&a.r,handles:o});else{qo(t,[e.annotation],i,r,s);for(var c=t.select(i+"."+(s||r)),u=Object.keys(a),f=[],l=c.node().attributes,h=l.length-1;h>=0;h--){var p=l[h].name;-1===u.indexOf(p)&&"class"!==p&&f.push(p)}u.forEach(function(t){"text"===t?c.text(a[t]):c.attr(t,a[t])}),f.forEach(function(t){return c.attr(t,null)})}})}},{key:"getNoteBBox",value:function(){return Xo(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=Xo(this.note,".annotation-note-content"),n=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(n[1])+this.annotation.dx,t.offsetCornerY=parseFloat(n[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.annotation.subject,i=n.type,r={type:this,subjectData:e},a={};"circle"===i?a=Do(r):"rect"===i?a=function(t){var n=t.subjectData,e=t.type;n.width||(n.width=100),n.height||(n.height=100);var i=[],r=n.width,a=n.height,o=Co({data:[[0,0],[r,0],[r,a],[0,a],[0,0]],className:"subject"});if(e.editMode){var s=[{x:r,y:a/2,drag:function(){n.width=xr.x,e.redrawSubject(),e.redrawConnector()}.bind(e)},{x:r/2,y:a,drag:function(){n.height=xr.y,e.redrawSubject(),e.redrawConnector()}.bind(e)}];i=e.mapHandles(s)}return o.attrs["fill-opacity"]=.1,{components:[o],handles:i}}(r):"threshold"===i?a=function(t){var n=t.subjectData,e=t.type.annotation.position,i=(void 0!==n.x1?n.x1:e.x)-e.x,r=(void 0!==n.x2?n.x2:e.x)-e.x,a=(void 0!==n.y1?n.y1:e.y)-e.y,o=(void 0!==n.y2?n.y2:e.y)-e.y;return{components:[Co({data:[[i,a],[r,o]],className:"subject"})]}}(r):"badge"===i&&(a=function(t){var n=t.subjectData,e=void 0===n?{}:n,i=t.type,r=void 0===i?{}:i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.typeSettings&&r.typeSettings.subject;e.radius||(o&&o.radius?e.radius=o.radius:e.radius=14),e.x||o&&o.x&&(e.x=o.x),e.y||o&&o.y&&(e.y=o.y);var s=[],c=[],u=e.radius,f=.7*u,l=0,h=0,p=Math.sqrt(2)*u,d={xleftcorner:-u,xrightcorner:u,ytopcorner:-u,ybottomcorner:u,xleft:-p,xright:p,ytop:-p,ybottom:p};e.x&&!e.y?l=d["x"+e.x]:e.y&&!e.x?h=d["y"+e.y]:e.x&&e.y&&(l=d["x"+e.x+"corner"],h=d["y"+e.y+"corner"]);var _="translate("+l+", "+h+")",y=Po({className:"subject",data:{radius:u}});y.attrs.transform=_,y.attrs.fill=a.color,y.attrs["stroke-linecap"]="round",y.attrs["stroke-width"]="3px";var v=Po({className:"subject-ring",data:{outerRadius:u,innerRadius:f}});v.attrs.transform=_,v.attrs["stroke-width"]="3px",v.attrs.fill="white";var b=void 0;if(l&&h||!l&&!h)b=Co({className:"subject-pointer",data:[[0,0],[l||0,0],[0,h||0],[0,0]]});else if(l||h){var m=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||n*u/Math.sqrt(2)};b=Co({className:"subject-pointer",data:[[0,0],[m(l),m(h)],[m(l,-1),m(h,-1)],[0,0]]})}if(b&&(b.attrs.fill=a.color,b.attrs["stroke-linecap"]="round",b.attrs["stroke-width"]="3px",c.push(b)),r.editMode){var g={x:2*l,y:2*h,drag:function(){e.x=xr.x<2*-u?"left":xr.x>2*u?"right":void 0,e.y=xr.y<2*-u?"top":xr.y>2*u?"bottom":void 0,r.redrawSubject()}.bind(r)};g.x||g.y||(g.y=-u),s=r.mapHandles([g])}var x=void 0;return e.text&&(x={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:e.text,"text-anchor":"middle",dy:".25em",x:l,y:h}}),c.push(y),c.push(v),c.push(x),{components:c,handles:s}}(r,this.annotation));var o=a,s=o.components,c=void 0===s?[]:s,u=o.handles,f=void 0===u?[]:u;return c.forEach(function(n){n&&n.attrs&&!n.attrs.stroke&&(n.attrs.stroke=t.annotation.color)}),this.editMode&&(f=f.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),c.push({type:"handle",handles:f})),c}},{key:"drawConnector",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.annotation.connector,i=e.type||n.type,r={type:this,connectorData:e};r.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var a="curve"===i?Lo(r):"elbow"===i?function(t){var n=t.type,e=t.subjectType,i=n.annotation,r=i.position,a=i.x-r.x,o=a+i.dx,s=i.y-r.y,c=s+i.dy,u=i.subject;if("rect"===e){var f=u.width,l=u.height;(f>0&&i.dx>0||f<0&&i.dx<0)&&(a=Math.abs(f)>Math.abs(i.dx)?f/2:f),(l>0&&i.dy>0||l<0&&i.dy<0)&&(s=Math.abs(l)>Math.abs(i.dy)?l/2:l),a===f/2&&s===l/2&&(a=o,s=c)}var h=[[a,s],[o,c]],p=c-s,d=o-a,_=o,y=c,v=c<s&&o>a||o<a&&c>s?-1:1;if(Math.abs(d)<Math.abs(p)?(_=o,y=s+d*v):(y=c,_=a+p*v),"circle"===e&&(u.outerRadius||u.radius)){var b=(u.outerRadius||u.radius)+(u.radiusPadding||0),m=b/Math.sqrt(2);if(Math.abs(d)>m&&Math.abs(p)>m)h=[[a=m*(o<0?-1:1),s=m*(c<0?-1:1)],[_,y],[o,c]];else if(Math.abs(d)>Math.abs(p)){var g=Math.asin(-c/b);h=[[a=Math.abs(Math.cos(g)*b)*(o<0?-1:1),c],[o,c]]}else{var x=Math.acos(o/b);h=[[o,s=Math.abs(Math.sin(x)*b)*(c<0?-1:1)],[o,c]]}}else h=[[a,s],[_,y],[o,c]];return{components:[Co({data:h,className:"connector"})]}}(r):function(t){var n=Oo(t);return{components:[Co({data:n,className:"connector"})]}}(r),o=a.components,s=void 0===o?[]:o,c=a.handles,u=void 0===c?[]:c,f=s[0];f&&(f.attrs.stroke=this.annotation.color,f.attrs.fill="none");var l=e.end||n.end,h={};if("arrow"===l){var p=f.data[1],d=f.data[0];Math.sqrt(Math.pow(p[0]-d[0],2)+Math.pow(p[1]-d[1],2))<5&&f.data[2]&&(p=f.data[2]),h=function(t){var n=t.annotation,e=t.start,i=t.end,r=t.scale,a=void 0===r?1:r,o=n.position;e=e?[-i[0]+e[0],-i[1]+e[1]]:[n.dx,n.dy],i||(i=[n.x-o.x,n.y-o.y]);var s=i[0],c=i[1],u=e[0],f=e[1],l=10*a,h=16/180*Math.PI,p=Math.atan(f/u);u<0&&(p+=Math.PI);var d=[[s,c],[Math.cos(p+h)*l+s,Math.sin(p+h)*l+c],[Math.cos(p-h)*l+s,Math.sin(p-h)*l+c],[s,c]];return{components:[Co({data:d,className:"connector-end connector-arrow",classID:"connector-end"})]}}({annotation:this.annotation,start:p,end:d,scale:e.endScale})}else"dot"===l?h=function(t){var n=t.line,e=t.scale,i=void 0===e?1:e,r=Po({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(i)}});return r.attrs.transform="translate("+n.data[0][0]+", "+n.data[0][1]+")",{components:[r]}}({line:f,scale:e.endScale}):l&&"none"!==l||this.connector&&this.connector.select(".connector-end").remove();return h.components&&(h.components.forEach(function(n){n.attrs.fill=t.annotation.color,n.attrs.stroke=t.annotation.color}),s=s.concat(h.components)),this.editMode&&0!==u.length&&s.push({type:"handle",handles:u}),s}},{key:"drawNote",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.annotation.note,i=e.align||n.align||"dynamic",r={bbox:n.bbox,align:i,offset:this.annotation.offset},a=e.lineType||n.lineType,o={};"vertical"===a?o=function(t){var n=t.align,e=t.x,i=void 0===e?0:e,r=t.y,a=void 0===r?0:r,o=t.bbox,s=t.offset;"top"===(n=No(n,s.y))?a-=o.height:"middle"===n&&(a-=o.height/2);var c=[[i,a],[i,a+o.height]];return{components:[Co({data:c,className:"note-line"})]}}(r):"horizontal"===a&&(o=function(t){var n=t.align,e=t.x,i=void 0===e?0:e,r=t.y,a=void 0===r?0:r,o=t.offset,s=t.bbox;"right"===(n=Eo(n,o.x))?i-=s.width:"middle"===n&&(i-=s.width/2);var c=[[i,a],[i+s.width,a]];return{components:[Co({data:c,className:"note-line"})]}}(r));var s=o,c=s.components,u=void 0===c?[]:c,f=s.handles,l=void 0===f?[]:f;if(u.forEach(function(n){n.attrs.stroke=t.annotation.color}),this.editMode){l=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),u.push({type:"handle",handles:l});var h=this.dragNote.bind(this),p=this.dragstarted.bind(this),d=this.dragended.bind(this);this.note.call(va().container(na("g.annotations").node()).on("start",function(t){return p(t)}).on("drag",function(t){return h(t)}).on("end",function(t){return d(t)}))}else this.note.on("mousedown.drag",null);return u}},{key:"drawNoteContent",value:function(t){var n=this.annotation.note,e=void 0!==n.padding?n.padding:this.notePadding,i=n.orientation||t.orientation||"topBottom",r=n.lineType||t.lineType,a=n.align||t.align||"dynamic";"vertical"===r?i="leftRight":"horizontal"===r&&(i="topBottom");var o=function(t){var n=t.padding,e=void 0===n?0:n,i=t.bbox,r=void 0===i?{x:0,y:0,width:0,height:0}:i,a=t.align,o=t.orientation,s=t.offset,c=void 0===s?{x:0,y:0}:s,u=-r.x,f=0;return-1!==So.indexOf(o)?(a=Eo(a,c.x),c.y<0&&"topBottom"===o||"top"===o?f-=r.height+e:f+=e,"middle"===a?u-=r.width/2:"right"===a&&(u-=r.width)):-1!==Ao.indexOf(o)&&(a=No(a,c.y),c.x<0&&"leftRight"===o||"left"===o?u-=r.width+e:u+=e,"middle"===a?f-=r.height/2:"top"===a&&(f-=r.height)),{x:u,y:f}}({padding:e,bbox:t.bbox,offset:this.annotation.offset,orientation:i,align:a}),s=o.x,c=o.y;return this.offsetCornerX=s+this.annotation.dx,this.offsetCornerY=c+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+s+", "+c+")"),[]}},{key:"drawOnScreen",value:function(t,n){return this.drawOnSVG(t,n)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){xr.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=xr.dx,t.y+=xr.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=xr.dx,t.y+=xr.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var n=this;return t.map(function(t){return go({},t,{start:n.dragstarted.bind(n),end:n.dragended.bind(n)})})}}]),t}(),Uo=function(t,n,e){return function(i){function r(t){bo(this,r);var e=Mo(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return e.typeSettings=n,n.disable&&n.disable.forEach(function(t){e[t]&&e[t].remove(),e[t]=void 0,"note"===t&&(e.noteContent=void 0)}),e}return wo(r,t),mo(r,[{key:"className",value:function(){return""+(n.className||xo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this)&&xo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=go({},n.subject,this.typeSettings.subject),xo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawSubject",this).call(this,go({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=go({},n.connector,this.typeSettings.connector),xo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawConnector",this).call(this,go({},t,n.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=go({},n.note,this.typeSettings.note),xo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNote",this).call(this,go({},t,n.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return xo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNoteContent",this).call(this,go({},t,n.note,this.typeSettings.note))}}],[{key:"init",value:function(t,n){return xo(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,t,n),e&&(t=e(t,n)),t}}]),r}()},Yo=function(t){function n(t){bo(this,n);var e=Mo(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.textWrap=t.textWrap||120,e.drawText(),e}return wo(n,Ro),mo(n,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){qo(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");qo(t,[this.annotation],"rect","annotation-note-bg"),qo(t,[this.annotation],"text","annotation-note-label"),qo(t,[this.annotation],"text","annotation-note-title");var n={height:0},e=this.a.select("text.annotation-note-label"),i=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,r=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,a=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,o={top:0,bottom:0,left:0,right:0};if("number"==typeof a?o={top:a,bottom:a,left:a,right:a}:a&&"object"===(void 0===a?"undefined":vo(a))&&(o=go(o,a)),this.annotation.note.title){var s=this.a.select("text.annotation-note-title");s.text(this.annotation.note.title),s.attr("fill",this.annotation.color),s.attr("font-weight","bold"),s.call(Ho,i,r),n=s.node().getBBox()}e.text(this.annotation.note.label).attr("dx","0"),e.call(Ho,i,r),e.attr("y",1.1*n.height||0),e.attr("fill",this.annotation.color);var c=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",c.width+o.left+o.right).attr("height",c.height+o.top+o.bottom).attr("x",c.x-o.left).attr("y",-o.top).attr("fill","white").attr("fill-opacity",0)}}}]),n}(),zo=Uo(Yo,{className:"label",note:{align:"middle"},disable:["subject"]}),Io=Uo(Yo,{className:"callout",note:{lineType:"horizontal"},disable:["subject"]}),qo=(Uo(Io,{className:"callout elbow",connector:{type:"elbow"},disable:["subject"]}),Uo(Io,{className:"callout curve",connector:{type:"curve"},disable:["subject"]}),Uo(Ro,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),Uo(Yo,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),Uo(Yo,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),Uo(function(t){function n(){return bo(this,n),Mo(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return wo(n,Io),mo(n,[{key:"mapY",value:function(t){xo(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"mapY",this).call(this,t);var e=this.annotation;(e.subject.x1||e.subject.x2)&&e.data&&t.y&&(e.y=t.y(e.data)),!e.subject.x1&&!e.subject.x2||e.x||(e.x=e.subject.x1||e.subject.x2)}},{key:"mapX",value:function(t){xo(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"mapX",this).call(this,t);var e=this.annotation;(e.subject.y1||e.subject.y2)&&e.data&&t.x&&(e.x=t.x(e.data)),!e.subject.y1&&!e.subject.y2||e.y||(e.y=e.subject.y1||e.subject.y2)}}]),n}(),{className:"callout xythreshold",subject:{type:"threshold"}}),function(t,n,e,i,r){var a=t.selectAll(e+"."+(r||i)).data(n);return a.enter().append(e).merge(a).attr("class",i),a.exit().remove(),t}),Fo=function(t,n,e){var i=e.component,r=e.name;i&&i.on("mouseover.annotations",function(){t.call(r+"over",i,n)}).on("mouseout.annotations",function(){return t.call(r+"out",i,n)}).on("click.annotations",function(){return t.call(r+"click",i,n)})},Ho=function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;t.each(function(){for(var t=na(this),r=t.text().split(e||/[ \t\r\n]+/).reverse().filter(function(t){return""!==t}),a=void 0,o=[],s=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");a=r.pop();)o.push(a),s.text(o.join(" ")),s.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),s.text(o.join(" ")),o=[a],s=t.append("tspan").attr("x",0).attr("dy",i+"em").text(a))})},Xo=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(n).nodes().reduce(function(t,n){var e=n.getBBox();t.x=Math.min(t.x,e.x),t.y=Math.min(t.y,e.y),t.width=Math.max(t.width,e.width);var i=n&&n.attributes&&n.attributes.y;return t.height=Math.max(t.height,(i&&parseFloat(i.value)||0)+e.height),t},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function Bo(){var t=[],n=void 0,e=void 0,i=[],r={},a={},o=!1,s=void 0,c=Io,u=void 0,f=void 0,l=ca("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),h=void 0,p=function(e){h=e,o||e.selectAll("circle.handle").remove();var p=t.map(function(t){return t.type||(t.type=c),t.disable||(t.disable=i),new ko(t)});n=n||new To({annotations:p,accessors:r,accessorsInverse:a,ids:s}),e.selectAll("g").data([n]).enter().append("g").attr("class","annotations");var d=e.select("g.annotations");qo(d,n.annotations,"g","annotation");var _=d.selectAll("g.annotation");_.each(function(t){var n=na(this);n.attr("class","annotation"),qo(n,[t],"g","annotation-connector"),qo(n,[t],"g","annotation-subject"),qo(n,[t],"g","annotation-note"),qo(n.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:n,annotation:t,textWrap:u,notePadding:f,editMode:o,dispatcher:l,accessors:r}),t.type.draw(),t.type.drawText&&t.type.drawText()})};return p.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",n.json),window.copy(JSON.stringify(n.json.map(function(t){return delete t.type,t}))),p},p.update=function(){return t&&n&&(t=n.annotations.map(function(t){return t.type.draw(),t})),p},p.updateText=function(){return n&&(n.updateText(u),t=n.annotations),p},p.updatedAccessors=function(){return n.setPositionWithAccessors(),t=n.annotations,p},p.disable=function(e){return arguments.length?(i=e,n&&(n.updateDisable(i),t=n.annotations),p):i},p.textWrap=function(e){return arguments.length?(u=e,n&&(n.updateTextWrap(u),t=n.annotations),p):u},p.notePadding=function(e){return arguments.length?(f=e,n&&(n.updateNotePadding(f),t=n.annotations),p):f},p.type=function(e,i){return arguments.length?(c=e,n&&(n.annotations.map(function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=c,t.subject=i&&i.subject||t.subject,t.connector=i&&i.connector||t.connector,t.note=i&&i.note||t.note}),t=n.annotations),p):c},p.annotations=function(e){if(!arguments.length)return n&&n.annotations||t;(t=e,n&&n.annotations)&&(t.some(function(t){return!t.type||"[object Object]"!==t.type.toString()})?(n=null,p(h)):n.annotations=t);return p},p.context=function(t){return arguments.length?(e=t,p):e},p.accessors=function(t){return arguments.length?(r=t,p):r},p.accessorsInverse=function(t){return arguments.length?(a=t,p):a},p.ids=function(t){return arguments.length?(s=t,p):s},p.editMode=function(e){return arguments.length?(o=e,h&&h.selectAll("g.annotation").classed("editable",o),n&&(n.editMode(o),t=n.annotations),p):o},p.collection=function(t){return arguments.length?(n=t,p):n},p.on=function(){var t=l.on.apply(l,arguments);return t===l?p:t},p}var Wo=function(t){return function(){return t}},Vo=function(){return 1e-6*(Math.random()-.5)};function $o(t,n,e,i){if(isNaN(n)||isNaN(e))return t;var r,a,o,s,c,u,f,l,h,p=t._root,d={data:i},_=t._x0,y=t._y0,v=t._x1,b=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((u=n>=(a=(_+v)/2))?_=a:v=a,(f=e>=(o=(y+b)/2))?y=o:b=o,r=p,!(p=p[l=f<<1|u]))return r[l]=d,t;if(s=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===s&&e===c)return d.next=p,r?r[l]=d:t._root=d,t;do{r=r?r[l]=new Array(4):t._root=new Array(4),(u=n>=(a=(_+v)/2))?_=a:v=a,(f=e>=(o=(y+b)/2))?y=o:b=o}while((l=f<<1|u)==(h=(c>=o)<<1|s>=a));return r[h]=p,r[l]=d,t}var Go=function(t,n,e,i,r){this.node=t,this.x0=n,this.y0=e,this.x1=i,this.y1=r};function Zo(t){return t[0]}function Jo(t){return t[1]}function Qo(t,n,e){var i=new Ko(null==n?Zo:n,null==e?Jo:e,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Ko(t,n,e,i,r,a){this._x=t,this._y=n,this._x0=e,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function ts(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ns=Qo.prototype=Ko.prototype;ns.copy=function(){var t,n,e=new Ko(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=ts(i),e;for(t=[{source:i,target:e._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(n=i.source[r])&&(n.length?t.push({source:n,target:i.target[r]=new Array(4)}):i.target[r]=ts(n));return e},ns.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return $o(this.cover(n,e),n,e,t)},ns.addAll=function(t){var n,e,i,r,a=t.length,o=new Array(a),s=new Array(a),c=1/0,u=1/0,f=-1/0,l=-1/0;for(e=0;e<a;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(r=+this._y.call(null,n))||(o[e]=i,s[e]=r,i<c&&(c=i),i>f&&(f=i),r<u&&(u=r),r>l&&(l=r));for(f<c&&(c=this._x0,f=this._x1),l<u&&(u=this._y0,l=this._y1),this.cover(c,u).cover(f,l),e=0;e<a;++e)$o(this,o[e],s[e],t[e]);return this},ns.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(e))r=(e=Math.floor(t))+1,a=(i=Math.floor(n))+1;else{if(!(e>t||t>r||i>n||n>a))return this;var o,s,c=r-e,u=this._root;switch(s=(n<(i+a)/2)<<1|t<(e+r)/2){case 0:do{(o=new Array(4))[s]=u,u=o}while(a=i+(c*=2),t>(r=e+c)||n>a);break;case 1:do{(o=new Array(4))[s]=u,u=o}while(a=i+(c*=2),(e=r-c)>t||n>a);break;case 2:do{(o=new Array(4))[s]=u,u=o}while(i=a-(c*=2),t>(r=e+c)||i>n);break;case 3:do{(o=new Array(4))[s]=u,u=o}while(i=a-(c*=2),(e=r-c)>t||i>n)}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=i,this._x1=r,this._y1=a,this},ns.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},ns.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ns.find=function(t,n,e){var i,r,a,o,s,c,u,f=this._x0,l=this._y0,h=this._x1,p=this._y1,d=[],_=this._root;for(_&&d.push(new Go(_,f,l,h,p)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(_=c.node)||(r=c.x0)>h||(a=c.y0)>p||(o=c.x1)<f||(s=c.y1)<l))if(_.length){var y=(r+o)/2,v=(a+s)/2;d.push(new Go(_[3],y,v,o,s),new Go(_[2],r,v,y,s),new Go(_[1],y,a,o,v),new Go(_[0],r,a,y,v)),(u=(n>=v)<<1|t>=y)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-u],d[d.length-1-u]=c)}else{var b=t-+this._x.call(null,_.data),m=n-+this._y.call(null,_.data),g=b*b+m*m;if(g<e){var x=Math.sqrt(e=g);f=t-x,l=n-x,h=t+x,p=n+x,i=_.data}}return i},ns.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,i,r,a,o,s,c,u,f,l,h,p=this._root,d=this._x0,_=this._y0,y=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((u=a>=(s=(d+y)/2))?d=s:y=s,(f=o>=(c=(_+v)/2))?_=c:v=c,n=p,!(p=p[l=f<<1|u]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):n?(r?n[l]=r:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=r,this)},ns.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},ns.root=function(){return this._root},ns.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},ns.visit=function(t){var n,e,i,r,a,o,s=[],c=this._root;for(c&&s.push(new Go(c,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(c=n.node,i=n.x0,r=n.y0,a=n.x1,o=n.y1)&&c.length){var u=(i+a)/2,f=(r+o)/2;(e=c[3])&&s.push(new Go(e,u,f,a,o)),(e=c[2])&&s.push(new Go(e,i,f,u,o)),(e=c[1])&&s.push(new Go(e,u,r,a,f)),(e=c[0])&&s.push(new Go(e,i,r,u,f))}return this},ns.visitAfter=function(t){var n,e=[],i=[];for(this._root&&e.push(new Go(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var r=n.node;if(r.length){var a,o=n.x0,s=n.y0,c=n.x1,u=n.y1,f=(o+c)/2,l=(s+u)/2;(a=r[0])&&e.push(new Go(a,o,s,f,l)),(a=r[1])&&e.push(new Go(a,f,s,c,l)),(a=r[2])&&e.push(new Go(a,o,l,f,u)),(a=r[3])&&e.push(new Go(a,f,l,c,u))}i.push(n)}for(;n=i.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},ns.x=function(t){return arguments.length?(this._x=t,this):this._x},ns.y=function(t){return arguments.length?(this._y=t,this):this._y};function es(){}function is(t,n){var e=new es;if(t instanceof es)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==n)for(;++r<a;)e.set(r,t[r]);else for(;++r<a;)e.set(n(i=t[r],r,t),i)}else if(t)for(var o in t)e.set(o,t[o]);return e}es.prototype=is.prototype={constructor:es,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var rs=is;function as(){}var os=rs.prototype;function ss(t,n){var e=new as;if(t instanceof as)t.each(function(t){e.add(t)});else if(t){var i=-1,r=t.length;if(null==n)for(;++i<r;)e.add(t[i]);else for(;++i<r;)e.add(n(t[i],i,t))}return e}as.prototype=ss.prototype={constructor:as,has:os.has,add:function(t){return this["$"+(t+="")]=t,this},remove:os.remove,clear:os.clear,values:os.keys,size:os.size,empty:os.empty,each:os.each};var cs={value:function(){}};function us(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new fs(i)}function fs(t){this._=t}function ls(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function hs(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=cs,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}fs.prototype=us.prototype={constructor:fs,on:function(t,n){var e,i=this._,r=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=r[a]).type)i[e]=hs(i[e],t.name,n);else if(null==n)for(e in i)i[e]=hs(i[e],t.name,null);return this}for(;++a<o;)if((e=(t=r[a]).type)&&(e=ls(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new fs(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),a=0;a<e;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(i=this._[t]).length;a<e;++a)i[a].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(n,e)}};var ps,ds,_s=us,ys=0,vs=0,bs=0,ms=1e3,gs=0,xs=0,ws=0,Ms="object"==typeof performance&&performance.now?performance:Date,ks="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ts(){return xs||(ks(Ns),xs=Ms.now()+ws)}function Ns(){xs=0}function Es(){this._call=this._time=this._next=null}function Ss(t,n,e){var i=new Es;return i.restart(t,n,e),i}function As(){xs=(gs=Ms.now())+ws,ys=vs=0;try{!function(){Ts(),++ys;for(var t,n=ps;n;)(t=xs-n._time)>=0&&n._call.call(null,t),n=n._next;--ys}()}finally{ys=0,function(){var t,n,e=ps,i=1/0;for(;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ps=n);ds=t,Ps(i)}(),xs=0}}function Cs(){var t=Ms.now(),n=t-gs;n>ms&&(ws-=n,gs=t)}function Ps(t){ys||(vs&&(vs=clearTimeout(vs)),t-xs>24?(t<1/0&&(vs=setTimeout(As,t-Ms.now()-ws)),bs&&(bs=clearInterval(bs))):(bs||(gs=Ms.now(),bs=setInterval(Cs,ms)),ys=1,ks(As)))}Es.prototype=Ss.prototype={constructor:Es,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ts():+e)+(null==n?0:+n),this._next||ds===this||(ds?ds._next=this:ps=this,ds=this),this._call=t,this._time=e,Ps()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ps())}};var Os=function(t,n,e){var i=new Es;return n=null==n?0:+n,i.restart(function(e){i.stop(),t(e+n)},n,e),i};function Ls(t){return t.x}function js(t){return t.y}var Ds=10,Rs=Math.PI*(3-Math.sqrt(5)),Us=function(t){var n,e=1,i=.001,r=1-Math.pow(i,1/300),a=0,o=.6,s=rs(),c=Ss(f),u=_s("tick","end");function f(){l(),u.call("tick",n),e<i&&(c.stop(),u.call("end",n))}function l(){var n,i,c=t.length;for(e+=(a-e)*r,s.each(function(t){t(e)}),n=0;n<c;++n)null==(i=t[n]).fx?i.x+=i.vx*=o:(i.x=i.fx,i.vx=0),null==i.fy?i.y+=i.vy*=o:(i.y=i.fy,i.vy=0)}function h(){for(var n,e=0,i=t.length;e<i;++e){if((n=t[e]).index=e,isNaN(n.x)||isNaN(n.y)){var r=Ds*Math.sqrt(e),a=e*Rs;n.x=r*Math.cos(a),n.y=r*Math.sin(a)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function p(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:l,restart:function(){return c.restart(f),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),s.each(p),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(i=+t,n):i},alphaDecay:function(t){return arguments.length?(r=+t,n):+r},alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,e){return arguments.length>1?(null==e?s.remove(t):s.set(t,p(e)),n):s.get(t)},find:function(n,e,i){var r,a,o,s,c,u=0,f=t.length;for(null==i?i=1/0:i*=i,u=0;u<f;++u)(o=(r=n-(s=t[u]).x)*r+(a=e-s.y)*a)<i&&(c=s,i=o);return c},on:function(t,e){return arguments.length>1?(u.on(t,e),n):u.on(t)}}},Ys=function(){var t,n,e,i,r=Wo(-30),a=1,o=1/0,s=.81;function c(i){var r,a=t.length,o=Qo(t,Ls,js).visitAfter(f);for(e=i,r=0;r<a;++r)n=t[r],o.visit(l)}function u(){if(t){var n,e,a=t.length;for(i=new Array(a),n=0;n<a;++n)e=t[n],i[e.index]=+r(e,n,t)}}function f(t){var n,e,r,a,o,s=0,c=0;if(t.length){for(r=a=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(s+=n.value,c+=e,r+=e*n.x,a+=e*n.y);t.x=r/c,t.y=a/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{s+=i[n.data.index]}while(n=n.next)}t.value=s}function l(t,r,c,u){if(!t.value)return!0;var f=t.x-n.x,l=t.y-n.y,h=u-r,p=f*f+l*l;if(h*h/s<p)return p<o&&(0===f&&(p+=(f=Vo())*f),0===l&&(p+=(l=Vo())*l),p<a&&(p=Math.sqrt(a*p)),n.vx+=f*t.value*e/p,n.vy+=l*t.value*e/p),!0;if(!(t.length||p>=o)){(t.data!==n||t.next)&&(0===f&&(p+=(f=Vo())*f),0===l&&(p+=(l=Vo())*l),p<a&&(p=Math.sqrt(a*p)));do{t.data!==n&&(h=i[t.data.index]*e/p,n.vx+=f*h,n.vy+=l*h)}while(t=t.next)}}return c.initialize=function(n){t=n,u()},c.strength=function(t){return arguments.length?(r="function"==typeof t?t:Wo(+t),u(),c):r},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c},zs=function(t){var n,e,i,r=Wo(.1);function a(t){for(var r,a=0,o=n.length;a<o;++a)(r=n[a]).vx+=(i[a]-r.x)*e[a]*t}function o(){if(n){var a,o=n.length;for(e=new Array(o),i=new Array(o),a=0;a<o;++a)e[a]=isNaN(i[a]=+t(n[a],a,n))?0:+r(n[a],a,n)}}return"function"!=typeof t&&(t=Wo(null==t?0:+t)),a.initialize=function(t){n=t,o()},a.strength=function(t){return arguments.length?(r="function"==typeof t?t:Wo(+t),o(),a):r},a.x=function(n){return arguments.length?(t="function"==typeof n?n:Wo(+n),o(),a):t},a},Is=function(t){var n,e,i,r=Wo(.1);function a(t){for(var r,a=0,o=n.length;a<o;++a)(r=n[a]).vy+=(i[a]-r.y)*e[a]*t}function o(){if(n){var a,o=n.length;for(e=new Array(o),i=new Array(o),a=0;a<o;++a)e[a]=isNaN(i[a]=+t(n[a],a,n))?0:+r(n[a],a,n)}}return"function"!=typeof t&&(t=Wo(null==t?0:+t)),a.initialize=function(t){n=t,o()},a.strength=function(t){return arguments.length?(r="function"==typeof t?t:Wo(+t),o(),a):r},a.y=function(n){return arguments.length?(t="function"==typeof n?n:Wo(+n),o(),a):t},a};var qs={},Fs={},Hs=34,Xs=10,Bs=13;function Ws(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}var Vs=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function i(t,n){var i,r=[],a=t.length,o=0,s=0,c=a<=0,u=!1;function f(){if(c)return Fs;if(u)return u=!1,qs;var n,i,r=o;if(t.charCodeAt(r)===Hs){for(;o++<a&&t.charCodeAt(o)!==Hs||t.charCodeAt(++o)===Hs;);return(n=o)>=a?c=!0:(i=t.charCodeAt(o++))===Xs?u=!0:i===Bs&&(u=!0,t.charCodeAt(o)===Xs&&++o),t.slice(r+1,n-1).replace(/""/g,'"')}for(;o<a;){if((i=t.charCodeAt(n=o++))===Xs)u=!0;else if(i===Bs)u=!0,t.charCodeAt(o)===Xs&&++o;else if(i!==e)continue;return t.slice(r,n)}return c=!0,t.slice(r,a)}for(t.charCodeAt(a-1)===Xs&&--a,t.charCodeAt(a-1)===Bs&&--a;(i=f())!==Fs;){for(var l=[];i!==qs&&i!==Fs;)l.push(i),i=f();n&&null==(l=n(l,s++))||r.push(l)}return r}function r(n){return n.map(a).join(t)}function a(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,r,a=i(t,function(t,i){if(e)return e(t,i-1);r=t,e=n?function(t,n){var e=Ws(t);return function(i,r){return n(e(i),r,t)}}(t,n):Ws(t)});return a.columns=r||[],a},parseRows:i,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var i in t)i in n||e.push(n[i]=i)}),e}(n)),[e.map(a).join(t)].concat(n.map(function(n){return e.map(function(t){return a(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}},$s=Vs(","),Gs=$s.parse,Zs=($s.parseRows,$s.format,$s.formatRows,Vs("\t")),Js=Zs.parse;Zs.parseRows,Zs.format,Zs.formatRows;function Qs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Ks=function(t,n){return fetch(t,n).then(Qs)};function tc(t){return function(n,e,i){return 2===arguments.length&&"function"==typeof e&&(i=e,e=void 0),Ks(n,e).then(function(n){return t(n,i)})}}var nc=tc(Gs);tc(Js);function ec(t){return function(n,e){return Ks(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}var ic=ec("application/xml"),rc=(ec("text/html"),ec("image/svg+xml"),Array.prototype),ac=rc.map,oc=rc.slice;var sc=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function cc(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function uc(){}var fc="\\s*([+-]?\\d+)\\s*",lc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pc=/^#([0-9a-f]{3})$/,dc=/^#([0-9a-f]{6})$/,_c=new RegExp("^rgb\\("+[fc,fc,fc]+"\\)$"),yc=new RegExp("^rgb\\("+[hc,hc,hc]+"\\)$"),vc=new RegExp("^rgba\\("+[fc,fc,fc,lc]+"\\)$"),bc=new RegExp("^rgba\\("+[hc,hc,hc,lc]+"\\)$"),mc=new RegExp("^hsl\\("+[lc,hc,hc]+"\\)$"),gc=new RegExp("^hsla\\("+[lc,hc,hc,lc]+"\\)$"),xc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wc(t){var n;return t=(t+"").trim().toLowerCase(),(n=pc.exec(t))?new Ec((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=dc.exec(t))?Mc(parseInt(n[1],16)):(n=_c.exec(t))?new Ec(n[1],n[2],n[3],1):(n=yc.exec(t))?new Ec(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=vc.exec(t))?kc(n[1],n[2],n[3],n[4]):(n=bc.exec(t))?kc(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=mc.exec(t))?Ac(n[1],n[2]/100,n[3]/100,1):(n=gc.exec(t))?Ac(n[1],n[2]/100,n[3]/100,n[4]):xc.hasOwnProperty(t)?Mc(xc[t]):"transparent"===t?new Ec(NaN,NaN,NaN,0):null}function Mc(t){return new Ec(t>>16&255,t>>8&255,255&t,1)}function kc(t,n,e,i){return i<=0&&(t=n=e=NaN),new Ec(t,n,e,i)}function Tc(t){return t instanceof uc||(t=wc(t)),t?new Ec((t=t.rgb()).r,t.g,t.b,t.opacity):new Ec}function Nc(t,n,e,i){return 1===arguments.length?Tc(t):new Ec(t,n,e,null==i?1:i)}function Ec(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function Sc(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ac(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Pc(t,n,e,i)}function Cc(t,n,e,i){return 1===arguments.length?function(t){if(t instanceof Pc)return new Pc(t.h,t.s,t.l,t.opacity);if(t instanceof uc||(t=wc(t)),!t)return new Pc;if(t instanceof Pc)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),a=Math.max(n,e,i),o=NaN,s=a-r,c=(a+r)/2;return s?(o=n===a?(e-i)/s+6*(e<i):e===a?(i-n)/s+2:(n-e)/s+4,s/=c<.5?a+r:2-a-r,o*=60):s=c>0&&c<1?0:o,new Pc(o,s,c,t.opacity)}(t):new Pc(t,n,e,null==i?1:i)}function Pc(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function Oc(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}sc(uc,wc,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),sc(Ec,Nc,cc(uc,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ec(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ec(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Sc(this.r)+Sc(this.g)+Sc(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),sc(Pc,Cc,cc(uc,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Pc(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Pc(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new Ec(Oc(t>=240?t-240:t+120,r,i),Oc(t,r,i),Oc(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Lc=Math.PI/180,jc=180/Math.PI,Dc=.96422,Rc=1,Uc=.82521,Yc=4/29,zc=6/29,Ic=3*zc*zc,qc=zc*zc*zc;function Fc(t){if(t instanceof Xc)return new Xc(t.l,t.a,t.b,t.opacity);if(t instanceof Jc){if(isNaN(t.h))return new Xc(t.l,0,0,t.opacity);var n=t.h*Lc;return new Xc(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Ec||(t=Tc(t));var e,i,r=$c(t.r),a=$c(t.g),o=$c(t.b),s=Bc((.2225045*r+.7168786*a+.0606169*o)/Rc);return r===a&&a===o?e=i=s:(e=Bc((.4360747*r+.3850649*a+.1430804*o)/Dc),i=Bc((.0139322*r+.0971045*a+.7141733*o)/Uc)),new Xc(116*s-16,500*(e-s),200*(s-i),t.opacity)}function Hc(t,n,e,i){return 1===arguments.length?Fc(t):new Xc(t,n,e,null==i?1:i)}function Xc(t,n,e,i){this.l=+t,this.a=+n,this.b=+e,this.opacity=+i}function Bc(t){return t>qc?Math.pow(t,1/3):t/Ic+Yc}function Wc(t){return t>zc?t*t*t:Ic*(t-Yc)}function Vc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function $c(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Gc(t){if(t instanceof Jc)return new Jc(t.h,t.c,t.l,t.opacity);if(t instanceof Xc||(t=Fc(t)),0===t.a&&0===t.b)return new Jc(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*jc;return new Jc(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Zc(t,n,e,i){return 1===arguments.length?Gc(t):new Jc(t,n,e,null==i?1:i)}function Jc(t,n,e,i){this.h=+t,this.c=+n,this.l=+e,this.opacity=+i}sc(Xc,Hc,cc(uc,{brighter:function(t){return new Xc(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Xc(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ec(Vc(3.1338561*(n=Dc*Wc(n))-1.6168667*(t=Rc*Wc(t))-.4906146*(e=Uc*Wc(e))),Vc(-.9787684*n+1.9161415*t+.033454*e),Vc(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),sc(Jc,Zc,cc(uc,{brighter:function(t){return new Jc(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Jc(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Fc(this).rgb()}}));var Qc=-.29227,Kc=-.90649,tu=1.97294,nu=tu*Kc,eu=1.78277*tu,iu=1.78277*Qc- -.14861*Kc;function ru(t,n,e,i){return 1===arguments.length?function(t){if(t instanceof au)return new au(t.h,t.s,t.l,t.opacity);t instanceof Ec||(t=Tc(t));var n=t.r/255,e=t.g/255,i=t.b/255,r=(iu*i+nu*n-eu*e)/(iu+nu-eu),a=i-r,o=(tu*(e-r)-Qc*a)/Kc,s=Math.sqrt(o*o+a*a)/(tu*r*(1-r)),c=s?Math.atan2(o,a)*jc-120:NaN;return new au(c<0?c+360:c,s,r,t.opacity)}(t):new au(t,n,e,null==i?1:i)}function au(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function ou(t,n,e,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*i+o*r)/6}sc(au,ru,cc(uc,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new au(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new au(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Lc,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(t),r=Math.sin(t);return new Ec(255*(n+e*(-.14861*i+1.78277*r)),255*(n+e*(Qc*i+Kc*r)),255*(n+e*(tu*i)),this.opacity)}}));var su=function(t){return function(){return t}};function cu(t,n){return function(e){return t+e*n}}function uu(t,n){var e=n-t;return e?cu(t,e>180||e<-180?e-360*Math.round(e/360):e):su(isNaN(t)?n:t)}function fu(t){return 1==(t=+t)?lu:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):su(isNaN(n)?e:n)}}function lu(t,n){var e=n-t;return e?cu(t,e):su(isNaN(t)?n:t)}var hu=function t(n){var e=fu(n);function i(t,n){var i=e((t=Nc(t)).r,(n=Nc(n)).r),r=e(t.g,n.g),a=e(t.b,n.b),o=lu(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=r(n),t.b=a(n),t.opacity=o(n),t+""}}return i.gamma=t,i}(1);function pu(t){return function(n){var e,i,r=n.length,a=new Array(r),o=new Array(r),s=new Array(r);for(e=0;e<r;++e)i=Nc(n[e]),a[e]=i.r||0,o[e]=i.g||0,s[e]=i.b||0;return a=t(a),o=t(o),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=o(t),i.b=s(t),i+""}}}var du=pu(function(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),r=t[i],a=t[i+1],o=i>0?t[i-1]:2*r-a,s=i<n-1?t[i+2]:2*a-r;return ou((e-i/n)*n,o,r,a,s)}}),_u=(pu(function(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n),r=t[(i+n-1)%n],a=t[i%n],o=t[(i+1)%n],s=t[(i+2)%n];return ou((e-i/n)*n,r,a,o,s)}}),function(t,n){return n-=t=+t,function(e){return t+n*e}}),yu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vu=new RegExp(yu.source,"g");var bu,mu,gu,xu,wu=function(t,n){var e,i,r,a=yu.lastIndex=vu.lastIndex=0,o=-1,s=[],c=[];for(t+="",n+="";(e=yu.exec(t))&&(i=vu.exec(n));)(r=i.index)>a&&(r=n.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(e=e[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:_u(e,i)})),a=vu.lastIndex;return a<n.length&&(r=n.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,i=0;i<n;++i)s[(e=c[i]).i]=e.x(t);return s.join("")})},Mu=function(t,n){var e,i=typeof n;return null==n||"boolean"===i?su(n):("number"===i?_u:"string"===i?(e=wc(n))?(n=e,hu):wu:n instanceof wc?hu:n instanceof Date?function(t,n){var e=new Date;return n-=t=+t,function(i){return e.setTime(t+n*i),e}}:Array.isArray(n)?function(t,n){var e,i=n?n.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(e=0;e<r;++e)a[e]=Mu(t[e],n[e]);for(;e<i;++e)o[e]=n[e];return function(t){for(e=0;e<r;++e)o[e]=a[e](t);return o}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,i={},r={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?i[e]=Mu(t[e],n[e]):r[e]=n[e];return function(t){for(e in i)r[e]=i[e](t);return r}}:_u)(t,n)},ku=function(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}},Tu=180/Math.PI,Nu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Eu=function(t,n,e,i,r,a){var o,s,c;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(c=t*e+n*i)&&(e-=t*c,i-=n*c),(s=Math.sqrt(e*e+i*i))&&(e/=s,i/=s,c/=s),t*i<n*e&&(t=-t,n=-n,c=-c,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(n,t)*Tu,skewX:Math.atan(c)*Tu,scaleX:o,scaleY:s}};function Su(t,n,e,i){function r(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],c=[];return a=t(a),o=t(o),function(t,i,r,a,o,s){if(t!==r||i!==a){var c=o.push("translate(",null,n,null,e);s.push({i:c-4,x:_u(t,r)},{i:c-2,x:_u(i,a)})}else(r||a)&&o.push("translate("+r+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,s,c),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(r(e)+"rotate(",null,i)-2,x:_u(t,n)})):n&&e.push(r(e)+"rotate("+n+i)}(a.rotate,o.rotate,s,c),function(t,n,e,a){t!==n?a.push({i:e.push(r(e)+"skewX(",null,i)-2,x:_u(t,n)}):n&&e.push(r(e)+"skewX("+n+i)}(a.skewX,o.skewX,s,c),function(t,n,e,i,a,o){if(t!==e||n!==i){var s=a.push(r(a)+"scale(",null,",",null,")");o.push({i:s-4,x:_u(t,e)},{i:s-2,x:_u(n,i)})}else 1===e&&1===i||a.push(r(a)+"scale("+e+","+i+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,c),a=o=null,function(t){for(var n,e=-1,i=c.length;++e<i;)s[(n=c[e]).i]=n.x(t);return s.join("")}}}var Au=Su(function(t){return"none"===t?Nu:(bu||(bu=document.createElement("DIV"),mu=document.documentElement,gu=document.defaultView),bu.style.transform=t,t=gu.getComputedStyle(mu.appendChild(bu),null).getPropertyValue("transform"),mu.removeChild(bu),t=t.slice(7,-1).split(","),Eu(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Cu=Su(function(t){return null==t?Nu:(xu||(xu=document.createElementNS("http://www.w3.org/2000/svg","g")),xu.setAttribute("transform",t),(t=xu.transform.baseVal.consolidate())?(t=t.matrix,Eu(t.a,t.b,t.c,t.d,t.e,t.f)):Nu)},", ",")",")");Math.SQRT2;function Pu(t){return function(n,e){var i=t((n=Cc(n)).h,(e=Cc(e)).h),r=lu(n.s,e.s),a=lu(n.l,e.l),o=lu(n.opacity,e.opacity);return function(t){return n.h=i(t),n.s=r(t),n.l=a(t),n.opacity=o(t),n+""}}}Pu(uu),Pu(lu);function Ou(t,n){var e=lu((t=Hc(t)).l,(n=Hc(n)).l),i=lu(t.a,n.a),r=lu(t.b,n.b),a=lu(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=i(n),t.b=r(n),t.opacity=a(n),t+""}}function Lu(t){return function(n,e){var i=t((n=Zc(n)).h,(e=Zc(e)).h),r=lu(n.c,e.c),a=lu(n.l,e.l),o=lu(n.opacity,e.opacity);return function(t){return n.h=i(t),n.c=r(t),n.l=a(t),n.opacity=o(t),n+""}}}Lu(uu),Lu(lu);function ju(t){return function n(e){function i(n,i){var r=t((n=ru(n)).h,(i=ru(i)).h),a=lu(n.s,i.s),o=lu(n.l,i.l),s=lu(n.opacity,i.opacity);return function(t){return n.h=r(t),n.s=a(t),n.l=o(Math.pow(t,e)),n.opacity=s(t),n+""}}return e=+e,i.gamma=n,i}(1)}ju(uu);var Du=ju(lu);var Ru=function(t){return function(){return t}},Uu=function(t){return+t},Yu=[0,1];function zu(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Ru(n)}function Iu(t,n,e,i){var r=t[0],a=t[1],o=n[0],s=n[1];return a<r?(r=e(a,r),o=i(s,o)):(r=e(r,a),o=i(o,s)),function(t){return o(r(t))}}function qu(t,n,e,i){var r=Math.min(t.length,n.length)-1,a=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<r;)a[s]=e(t[s],t[s+1]),o[s]=i(n[s],n[s+1]);return function(n){var e=rn(t,n,1,r)-1;return o[e](a[e](n))}}function Fu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Hu(t,n){var e,i,r,a=Yu,o=Yu,s=Mu,c=!1;function u(){return e=Math.min(a.length,o.length)>2?qu:Iu,i=r=null,f}function f(n){return(i||(i=e(a,o,c?function(t){return function(n,e){var i=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:i(t)}}}(t):t,s)))(+n)}return f.invert=function(t){return(r||(r=e(o,a,zu,c?function(t){return function(n,e){var i=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:i(t)}}}(n):n)))(+t)},f.domain=function(t){return arguments.length?(a=ac.call(t,Uu),u()):a.slice()},f.range=function(t){return arguments.length?(o=oc.call(t),u()):o.slice()},f.rangeRound=function(t){return o=oc.call(t),s=ku,u()},f.clamp=function(t){return arguments.length?(c=!!t,u()):c},f.interpolate=function(t){return arguments.length?(s=t,u()):s},u()}var Xu=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]},Bu=function(t){return(t=Xu(Math.abs(t)))?t[1]:NaN},Wu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vu(t){return new $u(t)}function $u(t){if(!(n=Wu.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}Vu.prototype=$u.prototype,$u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Gu,Zu,Ju,Qu,Ku=function(t){t:for(var n,e=t.length,i=1,r=-1;i<e;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(n+1):t},tf=function(t,n){var e=Xu(t,n);if(!e)return t+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},nf={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return tf(100*t,n)},r:tf,s:function(t,n){var e=Xu(t,n);if(!e)return t+"";var i=e[0],r=e[1],a=r-(Gu=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Xu(t,Math.max(0,n+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ef=function(t){return t},rf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],af=function(t){var n=t.grouping&&t.thousands?function(t,n){return function(e,i){for(var r=e.length,a=[],o=0,s=t[0],c=0;r>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),a.push(e.substring(r-=s,r+s)),!((c+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}(t.grouping,t.thousands):ef,e=t.currency,i=t.decimal,r=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):ef,a=t.percent||"%";function o(t){var o=(t=Vu(t)).fill,s=t.align,c=t.sign,u=t.symbol,f=t.zero,l=t.width,h=t.comma,p=t.precision,d=t.trim,_=t.type;"n"===_?(h=!0,_="g"):nf[_]||(null==p&&(p=12),d=!0,_="g"),(f||"0"===o&&"="===s)&&(f=!0,o="0",s="=");var y="$"===u?e[0]:"#"===u&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",v="$"===u?e[1]:/[%p]/.test(_)?a:"",b=nf[_],m=/[defgprs%]/.test(_);function g(t){var e,a,u,g=y,x=v;if("c"===_)x=b(t)+x,t="";else{var w=(t=+t)<0;if(t=b(Math.abs(t),p),d&&(t=Ku(t)),w&&0==+t&&(w=!1),g=(w?"("===c?c:"-":"-"===c||"("===c?"":c)+g,x=("s"===_?rf[8+Gu/3]:"")+x+(w&&"("===c?")":""),m)for(e=-1,a=t.length;++e<a;)if(48>(u=t.charCodeAt(e))||u>57){x=(46===u?i+t.slice(e+1):t.slice(e))+x,t=t.slice(0,e);break}}h&&!f&&(t=n(t,1/0));var M=g.length+t.length+x.length,k=M<l?new Array(l-M+1).join(o):"";switch(h&&f&&(t=n(k+t,k.length?l-x.length:1/0),k=""),s){case"<":t=g+t+x+k;break;case"=":t=g+k+t+x;break;case"^":t=k.slice(0,M=k.length>>1)+g+t+x+k.slice(M);break;default:t=k+g+t+x}return r(t)}return p=null==p?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),g.toString=function(){return t+""},g}return{format:o,formatPrefix:function(t,n){var e=o(((t=Vu(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Bu(n)/3))),r=Math.pow(10,-i),a=rf[8+i/3];return function(t){return e(r*t)+a}}}};!function(t){Zu=af(t),Ju=Zu.format,Qu=Zu.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var of=function(t){return Math.max(0,-Bu(Math.abs(t)))},sf=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bu(n)/3)))-Bu(Math.abs(t)))},cf=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Bu(n)-Bu(t))+1},uf=function(t,n,e){var i,r=t[0],a=t[t.length-1],o=hn(r,a,null==n?10:n);switch((e=Vu(null==e?",f":e)).type){case"s":var s=Math.max(Math.abs(r),Math.abs(a));return null!=e.precision||isNaN(i=sf(o,s))||(e.precision=i),Qu(e,s);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(i=cf(o,Math.max(Math.abs(r),Math.abs(a))))||(e.precision=i-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(i=of(o))||(e.precision=i-2*("%"===e.type))}return Ju(e)};function ff(t){var n=t.domain;return t.ticks=function(t){var e=n();return fn(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return uf(n(),t,e)},t.nice=function(e){null==e&&(e=10);var i,r=n(),a=0,o=r.length-1,s=r[a],c=r[o];return c<s&&(i=s,s=c,c=i,i=a,a=o,o=i),(i=ln(s,c,e))>0?i=ln(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,e):i<0&&(i=ln(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,e)),i>0?(r[a]=Math.floor(s/i)*i,r[o]=Math.ceil(c/i)*i,n(r)):i<0&&(r[a]=Math.ceil(s*i)/i,r[o]=Math.floor(c*i)/i,n(r)),t},t}function lf(){var t=Hu(zu,_u);return t.copy=function(){return Fu(t,lf())},ff(t)}function hf(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function pf(){var t=1,n=Hu(function(n,e){return(e=hf(e,t)-(n=hf(n,t)))?function(i){return(hf(i,t)-n)/e}:Ru(e)},function(n,e){return e=hf(e,t)-(n=hf(n,t)),function(i){return hf(n+e*i,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return Fu(n,pf().exponent(t))},ff(n)}var df=new Date,_f=new Date;function yf(t,n,e,i){function r(n){return t(n=new Date(+n)),n}return r.floor=r,r.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},r.round=function(t){var n=r(t),e=r.ceil(t);return t-n<e-t?n:e},r.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},r.range=function(e,i,a){var o,s=[];if(e=r.ceil(e),a=null==a?1:Math.floor(a),!(e<i&&a>0))return s;do{s.push(o=new Date(+e)),n(e,a),t(e)}while(o<e&&e<i);return s},r.filter=function(e){return yf(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;n(t,-1),!e(t););else for(;--i>=0;)for(;n(t,1),!e(t););})},e&&(r.count=function(n,i){return df.setTime(+n),_f.setTime(+i),t(df),t(_f),Math.floor(e(df,_f))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(n){return i(n)%t==0}:function(n){return r.count(0,n)%t==0}):r:null}),r}var vf=yf(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});vf.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?yf(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):vf:null};vf.range;var bf=6e4,mf=6048e5,gf=yf(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),xf=(gf.range,yf(function(t){t.setTime(Math.floor(t/bf)*bf)},function(t,n){t.setTime(+t+n*bf)},function(t,n){return(n-t)/bf},function(t){return t.getMinutes()})),wf=(xf.range,yf(function(t){var n=t.getTimezoneOffset()*bf%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()})),Mf=(wf.range,yf(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*bf)/864e5},function(t){return t.getDate()-1})),kf=Mf;Mf.range;function Tf(t){return yf(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*bf)/mf})}var Nf=Tf(0),Ef=Tf(1),Sf=Tf(2),Af=Tf(3),Cf=Tf(4),Pf=Tf(5),Of=Tf(6),Lf=(Nf.range,Ef.range,Sf.range,Af.range,Cf.range,Pf.range,Of.range,yf(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),jf=(Lf.range,yf(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));jf.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yf(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var Df=jf,Rf=(jf.range,yf(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*bf)},function(t,n){return(n-t)/bf},function(t){return t.getUTCMinutes()})),Uf=(Rf.range,yf(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()})),Yf=(Uf.range,yf(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1})),zf=Yf;Yf.range;function If(t){return yf(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/mf})}var qf=If(0),Ff=If(1),Hf=If(2),Xf=If(3),Bf=If(4),Wf=If(5),Vf=If(6),$f=(qf.range,Ff.range,Hf.range,Xf.range,Bf.range,Wf.range,Vf.range,yf(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),Gf=($f.range,yf(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Gf.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yf(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Zf=Gf;Gf.range;function Jf(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qf(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kf(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var tl,nl,el,il={"-":"",_:" ",0:"0"},rl=/^\s*\d+/,al=/^%/,ol=/[\\^$*+?|[\]().{}]/g;function sl(t,n,e){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<e?new Array(e-a+1).join(n)+r:r)}function cl(t){return t.replace(ol,"\\$&")}function ul(t){return new RegExp("^(?:"+t.map(cl).join("|")+")","i")}function fl(t){for(var n={},e=-1,i=t.length;++e<i;)n[t[e].toLowerCase()]=e;return n}function ll(t,n,e){var i=rl.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function hl(t,n,e){var i=rl.exec(n.slice(e,e+1));return i?(t.u=+i[0],e+i[0].length):-1}function pl(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.U=+i[0],e+i[0].length):-1}function dl(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.V=+i[0],e+i[0].length):-1}function _l(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.W=+i[0],e+i[0].length):-1}function yl(t,n,e){var i=rl.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function vl(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function bl(t,n,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function ml(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function gl(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function xl(t,n,e){var i=rl.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function wl(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function Ml(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function kl(t,n,e){var i=rl.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function Tl(t,n,e){var i=rl.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function Nl(t,n,e){var i=rl.exec(n.slice(e,e+6));return i?(t.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function El(t,n,e){var i=al.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function Sl(t,n,e){var i=rl.exec(n.slice(e));return i?(t.Q=+i[0],e+i[0].length):-1}function Al(t,n,e){var i=rl.exec(n.slice(e));return i?(t.Q=1e3*+i[0],e+i[0].length):-1}function Cl(t,n){return sl(t.getDate(),n,2)}function Pl(t,n){return sl(t.getHours(),n,2)}function Ol(t,n){return sl(t.getHours()%12||12,n,2)}function Ll(t,n){return sl(1+kf.count(Df(t),t),n,3)}function jl(t,n){return sl(t.getMilliseconds(),n,3)}function Dl(t,n){return jl(t,n)+"000"}function Rl(t,n){return sl(t.getMonth()+1,n,2)}function Ul(t,n){return sl(t.getMinutes(),n,2)}function Yl(t,n){return sl(t.getSeconds(),n,2)}function zl(t){var n=t.getDay();return 0===n?7:n}function Il(t,n){return sl(Nf.count(Df(t),t),n,2)}function ql(t,n){var e=t.getDay();return t=e>=4||0===e?Cf(t):Cf.ceil(t),sl(Cf.count(Df(t),t)+(4===Df(t).getDay()),n,2)}function Fl(t){return t.getDay()}function Hl(t,n){return sl(Ef.count(Df(t),t),n,2)}function Xl(t,n){return sl(t.getFullYear()%100,n,2)}function Bl(t,n){return sl(t.getFullYear()%1e4,n,4)}function Wl(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+sl(n/60|0,"0",2)+sl(n%60,"0",2)}function Vl(t,n){return sl(t.getUTCDate(),n,2)}function $l(t,n){return sl(t.getUTCHours(),n,2)}function Gl(t,n){return sl(t.getUTCHours()%12||12,n,2)}function Zl(t,n){return sl(1+zf.count(Zf(t),t),n,3)}function Jl(t,n){return sl(t.getUTCMilliseconds(),n,3)}function Ql(t,n){return Jl(t,n)+"000"}function Kl(t,n){return sl(t.getUTCMonth()+1,n,2)}function th(t,n){return sl(t.getUTCMinutes(),n,2)}function nh(t,n){return sl(t.getUTCSeconds(),n,2)}function eh(t){var n=t.getUTCDay();return 0===n?7:n}function ih(t,n){return sl(qf.count(Zf(t),t),n,2)}function rh(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Bf(t):Bf.ceil(t),sl(Bf.count(Zf(t),t)+(4===Zf(t).getUTCDay()),n,2)}function ah(t){return t.getUTCDay()}function oh(t,n){return sl(Ff.count(Zf(t),t),n,2)}function sh(t,n){return sl(t.getUTCFullYear()%100,n,2)}function ch(t,n){return sl(t.getUTCFullYear()%1e4,n,4)}function uh(){return"+0000"}function fh(){return"%"}function lh(t){return+t}function hh(t){return Math.floor(+t/1e3)}!function(t){tl=function(t){var n=t.dateTime,e=t.date,i=t.time,r=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=ul(r),f=fl(r),l=ul(a),h=fl(a),p=ul(o),d=fl(o),_=ul(s),y=fl(s),v=ul(c),b=fl(c),m={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Cl,e:Cl,f:Dl,H:Pl,I:Ol,j:Ll,L:jl,m:Rl,M:Ul,p:function(t){return r[+(t.getHours()>=12)]},Q:lh,s:hh,S:Yl,u:zl,U:Il,V:ql,w:Fl,W:Hl,x:null,X:null,y:Xl,Y:Bl,Z:Wl,"%":fh},g={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Vl,e:Vl,f:Ql,H:$l,I:Gl,j:Zl,L:Jl,m:Kl,M:th,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:lh,s:hh,S:nh,u:eh,U:ih,V:rh,w:ah,W:oh,x:null,X:null,y:sh,Y:ch,Z:uh,"%":fh},x={a:function(t,n,e){var i=p.exec(n.slice(e));return i?(t.w=d[i[0].toLowerCase()],e+i[0].length):-1},A:function(t,n,e){var i=l.exec(n.slice(e));return i?(t.w=h[i[0].toLowerCase()],e+i[0].length):-1},b:function(t,n,e){var i=v.exec(n.slice(e));return i?(t.m=b[i[0].toLowerCase()],e+i[0].length):-1},B:function(t,n,e){var i=_.exec(n.slice(e));return i?(t.m=y[i[0].toLowerCase()],e+i[0].length):-1},c:function(t,e,i){return k(t,n,e,i)},d:gl,e:gl,f:Nl,H:wl,I:wl,j:xl,L:Tl,m:ml,M:Ml,p:function(t,n,e){var i=u.exec(n.slice(e));return i?(t.p=f[i[0].toLowerCase()],e+i[0].length):-1},Q:Sl,s:Al,S:kl,u:hl,U:pl,V:dl,w:ll,W:_l,x:function(t,n,i){return k(t,e,n,i)},X:function(t,n,e){return k(t,i,n,e)},y:vl,Y:yl,Z:bl,"%":El};function w(t,n){return function(e){var i,r,a,o=[],s=-1,c=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++s<u;)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(r=il[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(a=n[i])&&(i=a(e,r)),o.push(i),c=s+1);return o.push(t.slice(c,s)),o.join("")}}function M(t,n){return function(e){var i,r,a=Kf(1900);if(k(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=(i=Qf(Kf(a.y))).getUTCDay())>4||0===r?Ff.ceil(i):Ff(i),i=zf.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(i=(r=(i=n(Kf(a.y))).getDay())>4||0===r?Ef.ceil(i):Ef(i),i=kf.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?Qf(Kf(a.y)).getUTCDay():n(Kf(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Qf(a)):n(a)}}function k(t,n,e,i){for(var r,a,o=0,s=n.length,c=e.length;o<s;){if(i>=c)return-1;if(37===(r=n.charCodeAt(o++))){if(r=n.charAt(o++),!(a=x[r in il?n.charAt(o++):r])||(i=a(t,e,i))<0)return-1}else if(r!=e.charCodeAt(i++))return-1}return i}return m.x=w(e,m),m.X=w(i,m),m.c=w(n,m),g.x=w(e,g),g.X=w(i,g),g.c=w(n,g),{format:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",Jf);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",g);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,Qf);return n.toString=function(){return t},n}}}(t),tl.format,tl.parse,nl=tl.utcFormat,el=tl.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||nl("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||el("%Y-%m-%dT%H:%M:%S.%LZ");var ph=function(t){for(var n=t.length/6|0,e=new Array(n),i=0;i<n;)e[i]="#"+t.slice(6*i,6*++i);return e},dh=(ph("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ph("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ph("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),ph("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ph("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ph("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ph("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ph("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ph("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),function(t){return du(t[t.length-1])});dh(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ph)),dh(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ph)),dh(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ph)),dh(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ph)),dh(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ph)),dh(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ph)),dh(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ph)),dh(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ph)),dh(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ph)),dh(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ph)),dh(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ph)),dh(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ph)),dh(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ph)),dh(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ph)),dh(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ph)),dh(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ph)),dh(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ph)),dh(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ph)),dh(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ph)),dh(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ph)),dh(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ph)),dh(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ph)),dh(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ph)),dh(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ph)),dh(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ph)),dh(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ph)),dh(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ph)),Du(ru(300,.5,0),ru(-240,.5,1)),Du(ru(-100,.75,.35),ru(80,1.5,.8)),Du(ru(260,.75,.35),ru(80,1.5,.8)),ru(),Nc(),Math.PI,Math.PI;function _h(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var yh=_h(ph("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),vh=(_h(ph("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),_h(ph("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),_h(ph("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),_s("start","end","interrupt")),bh=[],mh=0,gh=1,xh=2,wh=3,Mh=4,kh=5,Th=6,Nh=function(t,n,e,i,r,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var i,r=t.__transition;function a(c){var u,f,l,h;if(e.state!==gh)return s();for(u in r)if((h=r[u]).name===e.name){if(h.state===wh)return Os(a);h.state===Mh?(h.state=Th,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<n&&(h.state=Th,h.timer.stop(),delete r[u])}if(Os(function(){e.state===wh&&(e.state=Mh,e.timer.restart(o,e.delay,e.time),o(c))}),e.state=xh,e.on.call("start",t,t.__data__,e.index,e.group),e.state===xh){for(e.state=wh,i=new Array(l=e.tween.length),u=0,f=-1;u<l;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++f]=h);i.length=f+1}}function o(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=kh,1),a=-1,o=i.length;++a<o;)i[a].call(null,r);e.state===kh&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var i in e.state=Th,e.timer.stop(),delete r[n],r)return;delete t.__transition}r[n]=e,e.timer=Ss(function(t){e.state=gh,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)},0,e.time)}(t,e,{name:n,index:i,group:r,on:vh,tween:bh,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:mh})};function Eh(t,n){var e=Ah(t,n);if(e.state>mh)throw new Error("too late; already scheduled");return e}function Sh(t,n){var e=Ah(t,n);if(e.state>xh)throw new Error("too late; already started");return e}function Ah(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Ch=function(t,n){var e,i,r,a=t.__transition,o=!0;if(a){for(r in n=null==n?null:n+"",a)(e=a[r]).name===n?(i=e.state>xh&&e.state<kh,e.state=Th,e.timer.stop(),i&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete a[r]):o=!1;o&&delete t.__transition}};function Ph(t,n,e){var i=t._id;return t.each(function(){var t=Sh(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Ah(t,i).value[n]}}var Oh=function(t,n){var e;return("number"==typeof n?_u:n instanceof wc?hu:(e=wc(n))?(n=e,hu):wu)(t,n)};var Lh=J.prototype.constructor;var jh=0;function Dh(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Rh(){return++jh}var Uh=J.prototype;Dh.prototype=function(t){return J().transition(t)}.prototype={constructor:Dh,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=p(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s,c,u=i[o],f=u.length,l=a[o]=new Array(f),h=0;h<f;++h)(s=u[h])&&(c=t.call(s,s.__data__,h,u))&&("__data__"in s&&(c.__data__=s.__data__),l[h]=c,Nh(l[h],n,e,h,l,Ah(s,e)));return new Dh(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=_(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var c,u=i[s],f=u.length,l=0;l<f;++l)if(c=u[l]){for(var h,p=t.call(c,c.__data__,l,u),d=Ah(c,e),y=0,v=p.length;y<v;++y)(h=p[y])&&Nh(h,n,e,y,p,d);a.push(p),o.push(c)}return new Dh(a,o,n,e)},filter:function(t){"function"!=typeof t&&(t=m(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var a,o=n[r],s=o.length,c=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Dh(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,u=n[s],f=e[s],l=u.length,h=o[s]=new Array(l),p=0;p<l;++p)(c=u[p]||f[p])&&(h[p]=c);for(;s<i;++s)o[s]=n[s];return new Dh(o,this._parents,this._name,this._id)},selection:function(){return new Lh(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Rh(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],c=s.length,u=0;u<c;++u)if(o=s[u]){var f=Ah(o,n);Nh(o,t,e,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Dh(i,this._parents,t,e)},call:Uh.call,nodes:Uh.nodes,node:Uh.node,size:Uh.size,empty:Uh.empty,each:Uh.each,on:function(t,n){var e=this._id;return arguments.length<2?Ah(this.node(),e).on.on(t):this.each(function(t,n,e){var i,r,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Eh:Sh;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(n,e),o.on=r}}(e,t,n))},attr:function(t,n){var e=f(t),i="transform"===e?Cu:Oh;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var i,r,a;return function(){var o,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===s?null:o===i&&s===r?a:a=n(i=o,r=s);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var i,r,a;return function(){var o,s=e(this);if(null!=s)return(o=this.getAttribute(t))===s?null:o===i&&s===r?a:a=n(i=o,r=s);this.removeAttribute(t)}})(e,i,Ph(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var i,r;return function(){var a=this.getAttributeNS(t.space,t.local);return a===e?null:a===i?r:r=n(i=a,e)}}:function(t,n,e){var i,r;return function(){var a=this.getAttribute(t);return a===e?null:a===i?r:r=n(i=a,e)}})(e,i,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=f(t);return this.tween(e,(i.local?function(t,n){function e(){var e=this,i=n.apply(e,arguments);return i&&function(n){e.setAttributeNS(t.space,t.local,i(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,i=n.apply(e,arguments);return i&&function(n){e.setAttribute(t,i(n))}}return e._value=n,e})(i,n))},style:function(t,n,e){var i="transform"==(t+="")?Au:Oh;return null==n?this.styleTween(t,function(t,n){var e,i,r;return function(){var a=E(this,t),o=(this.style.removeProperty(t),E(this,t));return a===o?null:a===e&&o===i?r:r=n(e=a,i=o)}}(t,i)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var i,r,a;return function(){var o=E(this,t),s=e(this);return null==s&&(this.style.removeProperty(t),s=E(this,t)),o===s?null:o===i&&s===r?a:a=n(i=o,r=s)}}(t,i,Ph(this,"style."+t,n)):function(t,n,e){var i,r;return function(){var a=E(this,t);return a===e?null:a===i?r:r=n(i=a,e)}}(t,i,n+""),e)},styleTween:function(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function(t,n,e){function i(){var i=this,r=n.apply(i,arguments);return r&&function(n){i.style.setProperty(t,r(n),e)}}return i._value=n,i}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Ph(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i,r=Ah(this.node(),e).tween,a=0,o=r.length;a<o;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==n?function(t,n){var e,i;return function(){var r=Sh(this,t),a=r.tween;if(a!==e)for(var o=0,s=(i=e=a).length;o<s;++o)if(i[o].name===n){(i=i.slice()).splice(o,1);break}r.tween=i}}:function(t,n,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var a=Sh(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:n,value:e},c=0,u=r.length;c<u;++c)if(r[c].name===n){r[c]=s;break}c===u&&r.push(s)}a.tween=r}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Eh(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Eh(this,t).delay=n}})(n,t)):Ah(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Sh(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Sh(this,t).duration=n}})(n,t)):Ah(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Sh(this,t).ease=n}}(n,t)):Ah(this.node(),n).ease}};(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Math.PI;(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e})(1.70158),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158);var Yh=2*Math.PI,zh=(function t(n,e){var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Yh);function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}return r.amplitude=function(n){return t(n,e*Yh)},r.period=function(e){return t(n,e)},r}(1,.3),function t(n,e){var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Yh);function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}return r.amplitude=function(n){return t(n,e*Yh)},r.period=function(e){return t(n,e)},r}(1,.3),function t(n,e){var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Yh);function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}return r.amplitude=function(n){return t(n,e*Yh)},r.period=function(e){return t(n,e)},r}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Ih(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return zh.time=Ts(),zh;return e}J.prototype.interrupt=function(t){return this.each(function(){Ch(this,t)})},J.prototype.transition=function(t){var n,e;t instanceof Dh?(n=t._id,t=t._name):(n=Rh(),(e=zh).time=Ts(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],c=s.length,u=0;u<c;++u)(o=s[u])&&Nh(o,t,n,u,s,e||Ih(o,n));return new Dh(i,this._parents,t,n)};var qh=Array.prototype.slice,Fh=function(t){return t},Hh=1,Xh=2,Bh=3,Wh=4,Vh=1e-6;function $h(t){return"translate("+(t+.5)+",0)"}function Gh(t){return"translate(0,"+(t+.5)+")"}function Zh(){return!this.__axis}function Jh(t,n){var e=[],i=null,r=null,a=6,o=6,s=3,c=t===Hh||t===Wh?-1:1,u=t===Wh||t===Xh?"x":"y",f=t===Hh||t===Bh?$h:Gh;function l(l){var h=null==i?n.ticks?n.ticks.apply(n,e):n.domain():i,p=null==r?n.tickFormat?n.tickFormat.apply(n,e):Fh:r,d=Math.max(a,0)+s,_=n.range(),y=+_[0]+.5,v=+_[_.length-1]+.5,b=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),m=l.selection?l.selection():l,g=m.selectAll(".domain").data([null]),x=m.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),k=x.select("line"),T=x.select("text");g=g.merge(g.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),x=x.merge(M),k=k.merge(M.append("line").attr("stroke","#000").attr(u+"2",c*a)),T=T.merge(M.append("text").attr("fill","#000").attr(u,c*d).attr("dy",t===Hh?"0em":t===Bh?"0.71em":"0.32em")),l!==m&&(g=g.transition(l),x=x.transition(l),k=k.transition(l),T=T.transition(l),w=w.transition(l).attr("opacity",Vh).attr("transform",function(t){return isFinite(t=b(t))?f(t):this.getAttribute("transform")}),M.attr("opacity",Vh).attr("transform",function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:b(t))})),w.remove(),g.attr("d",t===Wh||t==Xh?"M"+c*o+","+y+"H0.5V"+v+"H"+c*o:"M"+y+","+c*o+"V0.5H"+v+"V"+c*o),x.attr("opacity",1).attr("transform",function(t){return f(b(t))}),k.attr(u+"2",c*a),T.attr(u,c*d).text(p),m.filter(Zh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Xh?"start":t===Wh?"end":"middle"),m.each(function(){this.__axis=b})}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=qh.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:qh.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(i=null==t?null:qh.call(t),l):i&&i.slice()},l.tickFormat=function(t){return arguments.length?(r=t,l):r},l.tickSize=function(t){return arguments.length?(a=o=+t,l):a},l.tickSizeInner=function(t){return arguments.length?(a=+t,l):a},l.tickSizeOuter=function(t){return arguments.length?(o=+t,l):o},l.tickPadding=function(t){return arguments.length?(s=+t,l):s},l}function Qh(t){return Jh(Xh,t)}function Kh(t){return Jh(Bh,t)}function tp(t){return Jh(Wh,t)}var np=function(t){return function(){return t}},ep=Math.abs,ip=Math.atan2,rp=Math.cos,ap=Math.max,op=Math.min,sp=Math.sin,cp=Math.sqrt,up=1e-12,fp=Math.PI,lp=fp/2,hp=2*fp;function pp(t){return t>=1?lp:t<=-1?-lp:Math.asin(t)}function dp(t){return t.innerRadius}function _p(t){return t.outerRadius}function yp(t){return t.startAngle}function vp(t){return t.endAngle}function bp(t){return t&&t.padAngle}function mp(t,n,e,i,r,a,o){var s=t-e,c=n-i,u=(o?a:-a)/cp(s*s+c*c),f=u*c,l=-u*s,h=t+f,p=n+l,d=e+f,_=i+l,y=(h+d)/2,v=(p+_)/2,b=d-h,m=_-p,g=b*b+m*m,x=r-a,w=h*_-d*p,M=(m<0?-1:1)*cp(ap(0,x*x*g-w*w)),k=(w*m-b*M)/g,T=(-w*b-m*M)/g,N=(w*m+b*M)/g,E=(-w*b+m*M)/g,S=k-y,A=T-v,C=N-y,P=E-v;return S*S+A*A>C*C+P*P&&(k=N,T=E),{cx:k,cy:T,x01:-f,y01:-l,x11:k*(r/x-1),y11:T*(r/x-1)}}var gp=function(){var t=dp,n=_p,e=np(0),i=null,r=yp,a=vp,o=bp,s=null;function c(){var c,u,f=+t.apply(this,arguments),l=+n.apply(this,arguments),h=r.apply(this,arguments)-lp,p=a.apply(this,arguments)-lp,d=ep(p-h),_=p>h;if(s||(s=c=Ma()),l<f&&(u=l,l=f,f=u),l>up)if(d>hp-up)s.moveTo(l*rp(h),l*sp(h)),s.arc(0,0,l,h,p,!_),f>up&&(s.moveTo(f*rp(p),f*sp(p)),s.arc(0,0,f,p,h,_));else{var y,v,b=h,m=p,g=h,x=p,w=d,M=d,k=o.apply(this,arguments)/2,T=k>up&&(i?+i.apply(this,arguments):cp(f*f+l*l)),N=op(ep(l-f)/2,+e.apply(this,arguments)),E=N,S=N;if(T>up){var A=pp(T/f*sp(k)),C=pp(T/l*sp(k));(w-=2*A)>up?(g+=A*=_?1:-1,x-=A):(w=0,g=x=(h+p)/2),(M-=2*C)>up?(b+=C*=_?1:-1,m-=C):(M=0,b=m=(h+p)/2)}var P=l*rp(b),O=l*sp(b),L=f*rp(x),j=f*sp(x);if(N>up){var D=l*rp(m),R=l*sp(m),U=f*rp(g),Y=f*sp(g);if(d<fp){var z=w>up?function(t,n,e,i,r,a,o,s){var c=e-t,u=i-n,f=o-r,l=s-a,h=(f*(n-a)-l*(t-r))/(l*c-f*u);return[t+h*c,n+h*u]}(P,O,U,Y,D,R,L,j):[L,j],I=P-z[0],q=O-z[1],F=D-z[0],H=R-z[1],X=1/sp(function(t){return t>1?0:t<-1?fp:Math.acos(t)}((I*F+q*H)/(cp(I*I+q*q)*cp(F*F+H*H)))/2),B=cp(z[0]*z[0]+z[1]*z[1]);E=op(N,(f-B)/(X-1)),S=op(N,(l-B)/(X+1))}}M>up?S>up?(y=mp(U,Y,P,O,l,S,_),v=mp(D,R,L,j,l,S,_),s.moveTo(y.cx+y.x01,y.cy+y.y01),S<N?s.arc(y.cx,y.cy,S,ip(y.y01,y.x01),ip(v.y01,v.x01),!_):(s.arc(y.cx,y.cy,S,ip(y.y01,y.x01),ip(y.y11,y.x11),!_),s.arc(0,0,l,ip(y.cy+y.y11,y.cx+y.x11),ip(v.cy+v.y11,v.cx+v.x11),!_),s.arc(v.cx,v.cy,S,ip(v.y11,v.x11),ip(v.y01,v.x01),!_))):(s.moveTo(P,O),s.arc(0,0,l,b,m,!_)):s.moveTo(P,O),f>up&&w>up?E>up?(y=mp(L,j,D,R,f,-E,_),v=mp(P,O,U,Y,f,-E,_),s.lineTo(y.cx+y.x01,y.cy+y.y01),E<N?s.arc(y.cx,y.cy,E,ip(y.y01,y.x01),ip(v.y01,v.x01),!_):(s.arc(y.cx,y.cy,E,ip(y.y01,y.x01),ip(y.y11,y.x11),!_),s.arc(0,0,f,ip(y.cy+y.y11,y.cx+y.x11),ip(v.cy+v.y11,v.cx+v.x11),_),s.arc(v.cx,v.cy,E,ip(v.y11,v.x11),ip(v.y01,v.x01),!_))):s.arc(0,0,f,x,g,_):s.lineTo(L,j)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-fp/2;return[rp(i)*e,sp(i)*e]},c.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:np(+n),c):t},c.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:np(+t),c):n},c.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:np(+t),c):e},c.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:np(+t),c):i},c.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:np(+t),c):r},c.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:np(+t),c):a},c.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:np(+t),c):o},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c};function xp(t){this._context=t}xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var wp=function(t){return new xp(t)};function Mp(t){return t[0]}function kp(t){return t[1]}var Tp=function(){var t=Mp,n=kp,e=np(!0),i=null,r=wp,a=null;function o(o){var s,c,u,f=o.length,l=!1;for(null==i&&(a=r(u=Ma())),s=0;s<=f;++s)!(s<f&&e(c=o[s],s,o))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+t(c,s,o),+n(c,s,o));if(u)return a=null,u+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:np(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:np(+t),o):n},o.defined=function(t){return arguments.length?(e="function"==typeof t?t:np(!!t),o):e},o.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),o):r},o.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),o):i},o};Ep(wp);function Np(t){this._curve=t}function Ep(t){function n(n){return new Np(t(n))}return n._curve=t,n}Np.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var Sp=Math.sin(fp/10)/Math.sin(7*fp/10),Ap=(Math.sin(hp/10),Math.cos(hp/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function Cp(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Pp(t){this._context=t}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cp(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Op(t){this._context=t}Op.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Cp(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Lp(t){this._context=t}Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:Cp(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function jp(t,n){this._basis=new Pp(t),this._beta=n}jp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var i,r=t[0],a=n[0],o=t[e]-r,s=n[e]-a,c=-1;++c<=e;)i=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+i*o),this._beta*n[c]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};(function t(n){function e(t){return 1===n?new Pp(t):new jp(t,n)}return e.beta=function(n){return t(+n)},e})(.85);function Dp(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Rp(t,n){this._context=t,this._k=(1-n)/6}Rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Dp(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Dp(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new Rp(t,n)}return e.tension=function(n){return t(+n)},e})(0);function Up(t,n){this._context=t,this._k=(1-n)/6}Up.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Dp(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new Up(t,n)}return e.tension=function(n){return t(+n)},e})(0);function Yp(t,n){this._context=t,this._k=(1-n)/6}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Dp(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new Yp(t,n)}return e.tension=function(n){return t(+n)},e})(0);function zp(t,n,e){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>up){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>up){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-n*t._l12_2a)/f,o=(o*u+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}function Ip(t,n){this._context=t,this._alpha=n}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:zp(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new Ip(t,n):new Rp(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function qp(t,n){this._context=t,this._alpha=n}qp.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:zp(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new qp(t,n):new Up(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function Fp(t,n){this._context=t,this._alpha=n}Fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zp(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new Fp(t,n):new Yp(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function Hp(t){this._context=t}Hp.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function Xp(t){return t<0?-1:1}function Bp(t,n,e){var i=t._x1-t._x0,r=n-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(e-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(Xp(a)+Xp(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Wp(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Vp(t,n,e){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*n,a-s,o-s*e,a,o)}function $p(t){this._context=t}function Gp(t){this._context=new Zp(t)}function Zp(t){this._context=t}function Jp(t){this._context=t}function Qp(t){var n,e,i=t.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],n=1;n<i-1;++n)r[n]=1,a[n]=4,o[n]=4*t[n]+2*t[n+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=r[n]/a[n-1],a[n]-=e,o[n]-=e*o[n-1];for(r[i-1]=o[i-1]/a[i-1],n=i-2;n>=0;--n)r[n]=(o[n]-r[n+1])/a[n];for(a[i-1]=(t[i]+r[i-1])/2,n=0;n<i-1;++n)a[n]=2*t[n+1]-r[n+1];return[r,a]}$p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vp(this,this._t0,Wp(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Vp(this,Wp(this,e=Bp(this,t,n)),e);break;default:Vp(this,this._t0,e=Bp(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Gp.prototype=Object.create($p.prototype)).point=function(t,n){$p.prototype.point.call(this,n,t)},Zp.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,a){this._context.bezierCurveTo(n,t,i,e,a,r)}},Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var i=Qp(t),r=Qp(n),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],n[o]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Kp(t,n){this._context=t,this._t=n}Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};function td(t,n,e,i,r,a,o,s,c,u){this.target=t,this.type=n,this.subject=e,this.identifier=i,this.active=r,this.x=a,this.y=o,this.dx=s,this.dy=c,this._=u}td.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};["e","w"].map(nd),["n","s"].map(nd),["n","e","s","w","nw","ne","se","sw"].map(nd);function nd(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;Array.prototype.slice;function ed(t){var n=0,e=t.children,i=e&&e.length;if(i)for(;--i>=0;)n+=e[i].value;else n=1;t.value=n}function id(t,n){var e,i,r,a,o,s=new sd(t),c=+t.value&&(s.value=t.value),u=[s];for(null==n&&(n=rd);e=u.pop();)if(c&&(e.value=+e.data.value),(r=n(e.data))&&(o=r.length))for(e.children=new Array(o),a=o-1;a>=0;--a)u.push(i=e.children[a]=new sd(r[a])),i.parent=e,i.depth=e.depth+1;return s.eachBefore(od)}function rd(t){return t.children}function ad(t){t.data=t.data.data}function od(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function sd(t){this.data=t,this.depth=this.height=0,this.parent=null}sd.prototype=id.prototype={constructor:sd,count:function(){return this.eachAfter(ed)},each:function(t){var n,e,i,r,a=this,o=[a];do{for(n=o.reverse(),o=[];a=n.pop();)if(t(a),e=a.children)for(i=0,r=e.length;i<r;++i)o.push(e[i])}while(o.length);return this},eachAfter:function(t){for(var n,e,i,r=this,a=[r],o=[];r=a.pop();)if(o.push(r),n=r.children)for(e=0,i=n.length;e<i;++e)a.push(n[e]);for(;r=o.pop();)t(r);return this},eachBefore:function(t){for(var n,e,i=this,r=[i];i=r.pop();)if(t(i),n=i.children)for(e=n.length-1;e>=0;--e)r.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,i=n.children,r=i&&i.length;--r>=0;)e+=i[r].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),i=n.ancestors(),r=null;for(t=e.pop(),n=i.pop();t===n;)r=t,t=e.pop(),n=i.pop();return r}(n,t),i=[n];n!==e;)n=n.parent,i.push(n);for(var r=i.length;t!==e;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return id(this).eachBefore(ad)}};Array.prototype.slice;var cd=function(t,n,e,i,r){for(var a,o=t.children,s=-1,c=o.length,u=t.value&&(i-n)/t.value;++s<c;)(a=o[s]).y0=e,a.y1=r,a.x0=n,a.x1=n+=a.value*u};function ud(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}ud.prototype=Object.create(sd.prototype);var fd=function(t,n,e,i,r){for(var a,o=t.children,s=-1,c=o.length,u=t.value&&(r-e)/t.value;++s<c;)(a=o[s]).x0=n,a.x1=i,a.y0=e,a.y1=e+=a.value*u},ld=(1+Math.sqrt(5))/2;function hd(t,n,e,i,r,a){for(var o,s,c,u,f,l,h,p,d,_,y,v=[],b=n.children,m=0,g=0,x=b.length,w=n.value;m<x;){c=r-e,u=a-i;do{f=b[g++].value}while(!f&&g<x);for(l=h=f,y=f*f*(_=Math.max(u/c,c/u)/(w*t)),d=Math.max(h/y,y/l);g<x;++g){if(f+=s=b[g].value,s<l&&(l=s),s>h&&(h=s),y=f*f*_,(p=Math.max(h/y,y/l))>d){f-=s;break}d=p}v.push(o={value:f,dice:c<u,children:b.slice(m,g)}),o.dice?cd(o,e,i,r,w?i+=u*f/w:a):fd(o,e,i,w?e+=c*f/w:r,a),w-=f,m=g}return v}(function t(n){function e(t,e,i,r,a){hd(n,t,e,i,r,a)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e})(ld),function t(n){function e(t,e,i,r,a){if((o=t._squarify)&&o.ratio===n)for(var o,s,c,u,f,l=-1,h=o.length,p=t.value;++l<h;){for(c=(s=o[l]).children,u=s.value=0,f=c.length;u<f;++u)s.value+=c[u].value;s.dice?cd(s,e,i,r,i+=(a-i)*s.value/p):fd(s,e,i,e+=(r-e)*s.value/p,a),p-=s.value}else t._squarify=o=hd(n,t,e,i,r,a),o.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(ld);var pd=function(){return Math.random()},dd=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(pd),function t(n){function e(t,e){var i,r;return t=null==t?0:+t,e=null==e?1:+e,function(){var a;if(null!=i)a=i,i=null;else do{i=2*n()-1,a=2*n()-1,r=i*i+a*a}while(!r||r>1);return t+e*a*Math.sqrt(-2*Math.log(r)/r)}}return e.source=t,e}(pd)),_d=(function t(n){function e(){var t=dd.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(pd),function t(n){function e(t){return function(){for(var e=0,i=0;i<t;++i)e+=n();return e}}return e.source=t,e}(pd)),yd=(function t(n){function e(t){var e=_d.source(n)(t);return function(){return e()/t}}return e.source=t,e}(pd),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(pd),Array.prototype),vd=yd.map,bd=yd.slice,md={name:"implicit"};function gd(){var t,n,e=function t(n){var e=rs(),i=[],r=md;function a(t){var a=t+"",o=e.get(a);if(!o){if(r!==md)return r;e.set(a,o=i.push(t))}return n[(o-1)%n.length]}return n=null==n?[]:bd.call(n),a.domain=function(t){if(!arguments.length)return i.slice();i=[],e=rs();for(var n,r,o=-1,s=t.length;++o<s;)e.has(r=(n=t[o])+"")||e.set(r,i.push(n));return a},a.range=function(t){return arguments.length?(n=bd.call(t),a):n.slice()},a.unknown=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return t().domain(i).range(n).unknown(r)},a}().unknown(void 0),i=e.domain,r=e.range,a=[0,1],o=!1,s=0,c=0,u=.5;function f(){var e=i().length,f=a[1]<a[0],l=a[f-0],h=a[1-f];t=(h-l)/Math.max(1,e-s+2*c),o&&(t=Math.floor(t)),l+=(h-l-t*(e-s))*u,n=t*(1-s),o&&(l=Math.round(l),n=Math.round(n));var p=on(e).map(function(n){return l+t*n});return r(f?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(i(t),f()):i()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],f()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,f()):o},e.padding=function(t){return arguments.length?(s=c=Math.max(0,Math.min(1,t)),f()):s},e.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),f()):s},e.paddingOuter=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},e.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},e.copy=function(){return gd().domain(i()).range(a).round(o).paddingInner(s).paddingOuter(c).align(u)},f()}function xd(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(gd().paddingInner(1))}var wd=function(t){return function(){return t}},Md=function(t){return+t},kd=[0,1];function Td(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:wd(n)}function Nd(t,n,e,i){var r=t[0],a=t[1],o=n[0],s=n[1];return a<r?(r=e(a,r),o=i(s,o)):(r=e(r,a),o=i(o,s)),function(t){return o(r(t))}}function Ed(t,n,e,i){var r=Math.min(t.length,n.length)-1,a=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<r;)a[s]=e(t[s],t[s+1]),o[s]=i(n[s],n[s+1]);return function(n){var e=rn(t,n,1,r)-1;return o[e](a[e](n))}}function Sd(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ad(t,n){var e,i,r,a=kd,o=kd,s=Mu,c=!1;function u(){return e=Math.min(a.length,o.length)>2?Ed:Nd,i=r=null,f}function f(n){return(i||(i=e(a,o,c?function(t){return function(n,e){var i=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:i(t)}}}(t):t,s)))(+n)}return f.invert=function(t){return(r||(r=e(o,a,Td,c?function(t){return function(n,e){var i=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:i(t)}}}(n):n)))(+t)},f.domain=function(t){return arguments.length?(a=vd.call(t,Md),u()):a.slice()},f.range=function(t){return arguments.length?(o=bd.call(t),u()):o.slice()},f.rangeRound=function(t){return o=bd.call(t),s=ku,u()},f.clamp=function(t){return arguments.length?(c=!!t,u()):c},f.interpolate=function(t){return arguments.length?(s=t,u()):s},u()}var Cd=function(t,n,e){var i,r=t[0],a=t[t.length-1],o=hn(r,a,null==n?10:n);switch((e=Vu(null==e?",f":e)).type){case"s":var s=Math.max(Math.abs(r),Math.abs(a));return null!=e.precision||isNaN(i=sf(o,s))||(e.precision=i),Qu(e,s);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(i=cf(o,Math.max(Math.abs(r),Math.abs(a))))||(e.precision=i-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(i=of(o))||(e.precision=i-2*("%"===e.type))}return Ju(e)};function Pd(t){var n=t.domain;return t.ticks=function(t){var e=n();return fn(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return Cd(n(),t,e)},t.nice=function(e){null==e&&(e=10);var i,r=n(),a=0,o=r.length-1,s=r[a],c=r[o];return c<s&&(i=s,s=c,c=i,i=a,a=o,o=i),(i=ln(s,c,e))>0?i=ln(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,e):i<0&&(i=ln(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,e)),i>0?(r[a]=Math.floor(s/i)*i,r[o]=Math.ceil(c/i)*i,n(r)):i<0&&(r[a]=Math.ceil(s*i)/i,r[o]=Math.floor(c*i)/i,n(r)),t},t}function Od(){var t=Ad(Td,_u);return t.copy=function(){return Sd(t,Od())},Pd(t)}function Ld(){this._=null}function jd(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Dd(t,n){var e=n,i=n.R,r=e.U;r?r.L===e?r.L=i:r.R=i:t._=i,i.U=r,e.U=i,e.R=i.L,e.R&&(e.R.U=e),i.L=e}function Rd(t,n){var e=n,i=n.L,r=e.U;r?r.L===e?r.L=i:r.R=i:t._=i,i.U=r,e.U=i,e.L=i.R,e.L&&(e.L.U=e),i.R=e}function Ud(t){for(;t.L;)t=t.L;return t}Ld.prototype={constructor:Ld,insert:function(t,n){var e,i,r;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Ud(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(i=e.U).L?(r=i.R)&&r.C?(e.C=r.C=!1,i.C=!0,t=i):(t===e.R&&(Dd(this,e),e=(t=e).U),e.C=!1,i.C=!0,Rd(this,i)):(r=i.L)&&r.C?(e.C=r.C=!1,i.C=!0,t=i):(t===e.L&&(Rd(this,e),e=(t=e).U),e.C=!1,i.C=!0,Dd(this,i)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,i,r=t.U,a=t.L,o=t.R;if(e=a?o?Ud(o):a:o,r?r.L===t?r.L=e:r.R=e:this._=e,a&&o?(i=e.C,e.C=t.C,e.L=a,a.U=e,e!==o?(r=e.U,e.U=t.U,t=e.R,r.L=t,e.R=o,o.U=e):(e.U=r,r=e,t=e.R)):(i=t.C,t=e),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((n=r.R).C&&(n.C=!1,r.C=!0,Dd(this,r),n=r.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Rd(this,n),n=r.R),n.C=r.C,r.C=n.R.C=!1,Dd(this,r),t=this._;break}}else if((n=r.L).C&&(n.C=!1,r.C=!0,Rd(this,r),n=r.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Dd(this,n),n=r.L),n.C=r.C,r.C=n.L.C=!1,Rd(this,r),t=this._;break}n.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Yd=Ld;function zd(t,n,e,i){var r=[null,null],a=s_.push(r)-1;return r.left=t,r.right=n,e&&qd(r,t,n,e),i&&qd(r,n,t,i),a_[t.index].halfedges.push(a),a_[n.index].halfedges.push(a),r}function Id(t,n,e){var i=[n,e];return i.left=t,i}function qd(t,n,e,i){t[0]||t[1]?t.left===e?t[1]=i:t[0]=i:(t[0]=i,t.left=n,t.right=e)}function Fd(t,n,e,i,r){var a,o=t[0],s=t[1],c=o[0],u=o[1],f=0,l=1,h=s[0]-c,p=s[1]-u;if(a=n-c,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>f&&(f=a)}if(a=i-c,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<l&&(l=a)}if(a=e-u,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<l&&(l=a)}else if(p>0){if(a>l)return;a>f&&(f=a)}if(a=r-u,p||!(a<0)){if(a/=p,p<0){if(a>l)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<l&&(l=a)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,u+f*p]),l<1&&(t[1]=[c+l*h,u+l*p]),!0)}}}}}function Hd(t,n,e,i,r){var a=t[1];if(a)return!0;var o,s,c=t[0],u=t.left,f=t.right,l=u[0],h=u[1],p=f[0],d=f[1],_=(l+p)/2,y=(h+d)/2;if(d===h){if(_<n||_>=i)return;if(l>p){if(c){if(c[1]>=r)return}else c=[_,e];a=[_,r]}else{if(c){if(c[1]<e)return}else c=[_,r];a=[_,e]}}else if(s=y-(o=(l-p)/(d-h))*_,o<-1||o>1)if(l>p){if(c){if(c[1]>=r)return}else c=[(e-s)/o,e];a=[(r-s)/o,r]}else{if(c){if(c[1]<e)return}else c=[(r-s)/o,r];a=[(e-s)/o,e]}else if(h<d){if(c){if(c[0]>=i)return}else c=[n,o*n+s];a=[i,o*i+s]}else{if(c){if(c[0]<n)return}else c=[i,o*i+s];a=[n,o*n+s]}return t[0]=c,t[1]=a,!0}function Xd(t,n){var e=t.site,i=n.left,r=n.right;return e===r&&(r=i,i=e),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(e===i?(i=n[1],r=n[0]):(i=n[0],r=n[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Bd(t,n){return n[+(n.left!==t.site)]}function Wd(t,n){return n[+(n.left===t.site)]}var Vd,$d=[];function Gd(t){var n=t.P,e=t.N;if(n&&e){var i=n.site,r=t.site,a=e.site;if(i!==a){var o=r[0],s=r[1],c=i[0]-o,u=i[1]-s,f=a[0]-o,l=a[1]-s,h=2*(c*l-u*f);if(!(h>=-u_)){var p=c*c+u*u,d=f*f+l*l,_=(l*p-u*d)/h,y=(c*d-f*p)/h,v=$d.pop()||new function(){jd(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=r,v.x=_+o,v.y=(v.cy=y+s)+Math.sqrt(_*_+y*y),t.circle=v;for(var b=null,m=o_._;m;)if(v.y<m.y||v.y===m.y&&v.x<=m.x){if(!m.L){b=m.P;break}m=m.L}else{if(!m.R){b=m;break}m=m.R}o_.insert(b,v),b||(Vd=v)}}}}function Zd(t){var n=t.circle;n&&(n.P||(Vd=n.N),o_.remove(n),$d.push(n),jd(n),t.circle=null)}var Jd=[];function Qd(t){var n=Jd.pop()||new function(){jd(this),this.edge=this.site=this.circle=null};return n.site=t,n}function Kd(t){Zd(t),r_.remove(t),Jd.push(t),jd(t)}function t_(t){var n=t.circle,e=n.x,i=n.cy,r=[e,i],a=t.P,o=t.N,s=[t];Kd(t);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<c_&&Math.abs(i-c.circle.cy)<c_;)a=c.P,s.unshift(c),Kd(c),c=a;s.unshift(c),Zd(c);for(var u=o;u.circle&&Math.abs(e-u.circle.x)<c_&&Math.abs(i-u.circle.cy)<c_;)o=u.N,s.push(u),Kd(u),u=o;s.push(u),Zd(u);var f,l=s.length;for(f=1;f<l;++f)u=s[f],c=s[f-1],qd(u.edge,c.site,u.site,r);c=s[0],(u=s[l-1]).edge=zd(c.site,u.site,null,r),Gd(c),Gd(u)}function n_(t){for(var n,e,i,r,a=t[0],o=t[1],s=r_._;s;)if((i=e_(s,o)-a)>c_)s=s.L;else{if(!((r=a-i_(s,o))>c_)){i>-c_?(n=s.P,e=s):r>-c_?(n=s,e=s.N):n=e=s;break}if(!s.R){n=s;break}s=s.R}!function(t){a_[t.index]={site:t,halfedges:[]}}(t);var c=Qd(t);if(r_.insert(n,c),n||e){if(n===e)return Zd(n),e=Qd(n.site),r_.insert(c,e),c.edge=e.edge=zd(n.site,c.site),Gd(n),void Gd(e);if(e){Zd(n),Zd(e);var u=n.site,f=u[0],l=u[1],h=t[0]-f,p=t[1]-l,d=e.site,_=d[0]-f,y=d[1]-l,v=2*(h*y-p*_),b=h*h+p*p,m=_*_+y*y,g=[(y*b-p*m)/v+f,(h*m-_*b)/v+l];qd(e.edge,u,d,g),c.edge=zd(u,t,null,g),e.edge=zd(t,d,null,g),Gd(n),Gd(e)}else c.edge=zd(n.site,c.site)}}function e_(t,n){var e=t.site,i=e[0],r=e[1],a=r-n;if(!a)return i;var o=t.P;if(!o)return-1/0;var s=(e=o.site)[0],c=e[1],u=c-n;if(!u)return s;var f=s-i,l=1/a-1/u,h=f/u;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*u)-c+u/2+r-a/2)))/l+i:(i+s)/2}function i_(t,n){var e=t.N;if(e)return e_(e,n);var i=t.site;return i[1]===n?i[0]:1/0}var r_,a_,o_,s_,c_=1e-6,u_=1e-12;function f_(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function l_(t,n){return n[1]-t[1]||n[0]-t[0]}function h_(t,n){var e,i,r,a=t.sort(l_).pop();for(s_=[],a_=new Array(t.length),r_=new Yd,o_=new Yd;;)if(r=Vd,a&&(!r||a[1]<r.y||a[1]===r.y&&a[0]<r.x))a[0]===e&&a[1]===i||(n_(a),e=a[0],i=a[1]),a=t.pop();else{if(!r)break;t_(r.arc)}if(function(){for(var t,n,e,i,r=0,a=a_.length;r<a;++r)if((t=a_[r])&&(i=(n=t.halfedges).length)){var o=new Array(i),s=new Array(i);for(e=0;e<i;++e)o[e]=e,s[e]=Xd(t,s_[n[e]]);for(o.sort(function(t,n){return s[n]-s[t]}),e=0;e<i;++e)s[e]=n[o[e]];for(e=0;e<i;++e)n[e]=s[e]}}(),n){var o=+n[0][0],s=+n[0][1],c=+n[1][0],u=+n[1][1];!function(t,n,e,i){for(var r,a=s_.length;a--;)Hd(r=s_[a],t,n,e,i)&&Fd(r,t,n,e,i)&&(Math.abs(r[0][0]-r[1][0])>c_||Math.abs(r[0][1]-r[1][1])>c_)||delete s_[a]}(o,s,c,u),function(t,n,e,i){var r,a,o,s,c,u,f,l,h,p,d,_,y=a_.length,v=!0;for(r=0;r<y;++r)if(a=a_[r]){for(o=a.site,s=(c=a.halfedges).length;s--;)s_[c[s]]||c.splice(s,1);for(s=0,u=c.length;s<u;)d=(p=Wd(a,s_[c[s]]))[0],_=p[1],l=(f=Bd(a,s_[c[++s%u]]))[0],h=f[1],(Math.abs(d-l)>c_||Math.abs(_-h)>c_)&&(c.splice(s,0,s_.push(Id(o,p,Math.abs(d-t)<c_&&i-_>c_?[t,Math.abs(l-t)<c_?h:i]:Math.abs(_-i)<c_&&e-d>c_?[Math.abs(h-i)<c_?l:e,i]:Math.abs(d-e)<c_&&_-n>c_?[e,Math.abs(l-e)<c_?h:n]:Math.abs(_-n)<c_&&d-t>c_?[Math.abs(h-n)<c_?l:t,n]:null))-1),++u);u&&(v=!1)}if(v){var b,m,g,x=1/0;for(r=0,v=null;r<y;++r)(a=a_[r])&&(g=(b=(o=a.site)[0]-t)*b+(m=o[1]-n)*m)<x&&(x=g,v=a);if(v){var w=[t,n],M=[t,i],k=[e,i],T=[e,n];v.halfedges.push(s_.push(Id(o=v.site,w,M))-1,s_.push(Id(o,M,k))-1,s_.push(Id(o,k,T))-1,s_.push(Id(o,T,w))-1)}}for(r=0;r<y;++r)(a=a_[r])&&(a.halfedges.length||delete a_[r])}(o,s,c,u)}this.edges=s_,this.cells=a_,r_=o_=s_=a_=null}h_.prototype={constructor:h_,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return Bd(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,i){if(a=(r=e.halfedges).length)for(var r,a,o,s=e.site,c=-1,u=n[r[a-1]],f=u.left===s?u.right:u.left;++c<a;)o=f,f=(u=n[r[c]]).left===s?u.right:u.left,o&&f&&i<o.index&&i<f.index&&f_(s,o,f)<0&&t.push([s.data,o.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var i,r,a=this,o=a._found||0,s=a.cells.length;!(r=a.cells[o]);)if(++o>=s)return null;var c=t-r.site[0],u=n-r.site[1],f=c*c+u*u;do{r=a.cells[i=o],o=null,r.halfedges.forEach(function(e){var i=a.edges[e],s=i.left;if(s!==r.site&&s||(s=i.right)){var c=t-s[0],u=n-s[1],l=c*c+u*u;l<f&&(f=l,o=s.index)}})}while(null!==o);return a._found=i,null==e||f<=e*e?r.site:null}};function p_(t,n,e){this.k=t,this.x=n,this.y=e}p_.prototype={constructor:p_,scale:function(t){return 1===t?this:new p_(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new p_(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new p_(1,0,0);p_.prototype;function d_(t,n,e,i,r,a){var o,s=r||0,c=a||0,u=e||0,f=n||function(){return"#fff"},l=i;function h(t){h.el=t,h.setProperties()}return h.setProperties=function(){this.el&&(h.svgGroup||(h.svgGroup=h.el.append("g")),h.svgGroup.attr("transform","translate("+s+","+c+")"),h.svgGroup.selectAll("g").data(t).enter().append("g").selectAll("rect").data(function(t,n){return t.map(function(t){return{r:n,v:t}})}).enter().append("rect").datum(function(t,n){return t.c=n,t}),h.svgGroup.selectAll("g").selectAll("rect").attr("x",function(n){return u/t[n.r].length*n.c}).attr("y",function(t){return t.r*o}).attr("width",function(n){return u/t[n.r].length}).attr("height",o).attr("fill",function(t){return f(t.v)}),l&&h.svgGroup.attr("id",l))},h.data=function(n){return arguments.length?(o=u/(t=n).length,h.setProperties(),h):t},h.x=function(t){return arguments.length?(s=t,h.setProperties(),h):s},h.y=function(t){return arguments.length?(c=t,h.setProperties(),h):c},h.size=function(n){return arguments.length?(u=n,t&&(o=u/t.length,h.setProperties()),h):u},h.scale=function(n){return arguments.length?(f=n,t&&h.setProperties(),h):f},h.id=function(t){return arguments.length?(l=t,h.setProperties(),h):l},h}function __(t,n,e,i,r,a){var o=d_(t,n,e,i,r,a);return o.setProperties=function(){var t=o.data(),n=o.size(),e=o.scale(),i=o.id(),r=o.x(),a=o.y();o.el&&(o.svgGroup||(o.svgGroup=o.el.append("g")),o.svgGroup.attr("transform","translate("+r+","+a+")"),o.svgGroup.selectAll("g").data(t).enter().append("g").selectAll("path").data(function(t,n){return t.map(function(t){return{r:n,v:t}})}).enter().append("path").datum(function(t,n){return t.c=n,t}),o.svgGroup.selectAll("g").selectAll("path").attr("transform","translate("+n/2+","+n+")").attr("d",function(e){return function(t,n,e,i){var r=Od().domain([0,i]).range([-Math.PI/6,Math.PI/6]),a=Od().domain([0,e]).range([n,0]);return gp().innerRadius(a(t.r+1)).outerRadius(a(t.r)).startAngle(r(t.c)).endAngle(r(t.c+1))()}(e,n,t.length,t[e.r].length)}).attr("fill",function(t){return e(t.v)}),i&&o.svgGroup.attr("id",i))},o}var y_=1e-9;function v_(t,n,e,i,r,a,o){var s=null,c=r,u=t||null,f=n||200,l=e||30,h=i||null,p=a||0,d=o||0;function _(t){s=t,_.setProperties()}return _.setProperties=function(){if(s){var t=u.domain?u.domain():[0,1],n=f/u.range().length,e=(t[1]-t[0])/u.range().length,i=on(t[0],t[1]+e,e),r=xd().range([0,f]).domain(i).round(!0);s.attr("class","legend").attr("transform","translate("+p+","+d+")");var a=s.selectAll("rect").data(u.range());a.enter().append("rect").merge(a).attr("x",function(t,e){return e*n}).attr("y",0).attr("height",l).attr("width",n).attr("fill",function(t){return t});var o=s.select("g.legend > g");o.empty()&&(o=s.append("g")),o.attr("transform","translate(0, "+l+")").call(Kh(r).tickFormat(Ju(h||"")));var _=s.select("g.legend > text");_.empty()&&(_=s.append("text")),_.style("text-anchor","middle").style("font-size",13).attr("transform","translate("+f/2+", "+(l+30)+")").text(c)}},_.title=function(t){return arguments.length?(c=t,_.setProperties(),_):c},_.scale=function(t){return arguments.length?(u=t,_.setProperties(),_):u},_.size=function(t){return arguments.length?(f=t,_.setProperties(),_):f},_.height=function(t){return arguments.length?(l=t,_.setProperties(),_):l},_.format=function(t){return arguments.length?(h=t,_.setProperties(),_):h},_.x=function(t){return arguments.length?(p=t,_.setProperties(),_):p},_.y=function(t){return arguments.length?(d=t,_.setProperties(),_):d},_}function b_(t,n,e,i,r,a,o){var s=null,c=i||"Uncertainty",u=r||"Value",f=t||null,l=n||200,h=e||null,p=a||0,d=o||0,_=null,y=d_(),v=function(t){s=t,v.setProperties(),s.call(y)};return v.setProperties=function(){if(s){var t=_;t||(t=f.quantize().data());for(var n=[],e=0;e<t.length;e++)n[e]=t[t.length-e-1];y.y(1),y.data(n),y.scale(f),y.size(l),s.attr("class","legend").attr("transform","translate("+p+","+d+")");var i=f&&f.quantize?f.quantize().uncertaintyDomain():[0,1],r=(i[1]-i[0])/n.length,a=on(i[0],i[1]+r,r),o=f&&f.quantize?f.quantize().valueDomain():[0,1],v=(o[1]-o[0])/n.length,b=on(o[0],o[1]+v,v),m=xd().range([0,l]).domain(b);s.append("g").call(function(t){return Jh(Hh,t)}(m).tickFormat(Ju(h||""))),s.append("text").style("text-anchor","middle").style("font-size",13).attr("transform","translate("+l/2+", "+-25+")").text(u);var g=xd().range([0,l]).domain(a);s.append("g").attr("transform","translate("+l+", 0)").call(Qh(g).tickFormat(Ju(h||""))),s.append("text").style("text-anchor","middle").style("font-size",13).attr("transform","translate("+(l+40)+", "+l/2+")rotate(90)").text(c)}},v.data=function(t){return arguments.length?(_=t,v.setProperties(),v):_},v.scale=function(t){return arguments.length?(f=t,v.setProperties(),v):f},v.size=function(t){return arguments.length?(l=t,v.setProperties(),v):l},v.format=function(t){return arguments.length?(h=t,v.setProperties(),v):h},v.x=function(t){return arguments.length?(p=t,v.setProperties(),v):p},v.y=function(t){return arguments.length?(d=t,v.setProperties(),v):d},v.utitle=function(t){return arguments.length?(c=t,v.setProperties(),v):c},v.vtitle=function(t){return arguments.length?(u=t,v.setProperties(),v):u},v}function m_(t,n,e,i,r,a,o){var s=null,c=i||"Uncertainty",u=r||"Value",f=t||null,l=n||200,h=e||null,p=a||0,d=o||0,_=null,y=__(),v=function(t){s=t,v.setProperties(),s.call(y)};return v.setProperties=function(){if(s){var t=_;t||(t=f.quantize().data());for(var n=[],e=0;e<t.length;e++)n[e]=t[t.length-e-1];y.data(n),y.scale(f),y.size(l),s.attr("class","legend").attr("transform","translate("+p+","+d+")");var i=f&&f.quantize?f.quantize().uncertaintyDomain():[0,1],r=(i[1]-i[0])/n.length,a=on(i[0],i[1]+r,r),o=xd().range([0,l]).domain(a),v=l/180;s.append("g").attr("transform","translate("+(l+6*v)+","+28*v+")rotate(30)").call(Qh(o).tickFormat(Ju(h||""))),s.append("text").style("text-anchor","middle").style("font-size",13).attr("transform","translate("+(l+10*v)+","+(40*v+l/2)+")rotate(-60)").text(c);var b=f&&f.quantize?f.quantize().valueDomain():[0,1],m=(b[1]-b[0])/n[0].length,g=on(b[0],b[1]+m,m),x=Od().range([0,l]).domain(b),w=h?Ju(h):x.tickFormat(g.length),M=Od().domain(b).range([-30,30]),k=3*v,T=gp().innerRadius(l+k).outerRadius(l+k+1).startAngle(-Math.PI/6).endAngle(Math.PI/6),N=s.append("g").attr("transform","translate("+l/2+","+(l-k)+")");N.append("path").attr("fill","black").attr("stroke","transparent").attr("d",T);var E=N.selectAll(".arc-label").data(g).enter().append("g").attr("class","arc-label").attr("transform",function(t){return"rotate("+M(t)+")translate(0,"+(-l-k)+")"});E.append("text").style("font-size","11").style("text-anchor","middle").attr("y",-10).text(w),E.append("line").attr("x1",.5).attr("x2",.5).attr("y1",-6).attr("y2",0).attr("stroke","#000"),s.append("text").style("text-anchor","middle").style("font-size",13).attr("x",l/2).attr("y",-30).text(u)}},v.data=function(t){return arguments.length?(_=t,v.setProperties(),v):_},v.scale=function(t){return arguments.length?(f=t,v.setProperties(),v):f},v.size=function(t){return arguments.length?(l=t,v.setProperties(),v):l},v.format=function(t){return arguments.length?(h=t,v.setProperties(),v):h},v.x=function(t){return arguments.length?(p=t,v.setProperties(),v):p},v.y=function(t){return arguments.length?(d=t,v.setProperties(),v):d},v.utitle=function(t){return arguments.length?(c=t,v.setProperties(),v):c},v.vtitle=function(t){return arguments.length?(u=t,v.setProperties(),v):u},v}var g_=i;var x_={db:{ssp:"2",dmg:"1",disc:"1",rcp:"1"},curtab:"bubble"};const w_={width:940,height:600,sim_target:.7,sim_speed:.25,sim_force:.025,txtdmg:["BHM SR","BHM RP SR","BHM LR","BHM RP LR"],txtdisc:["an endogenous discount rate","a fixed discount rate (3%)"],txtssp:[["60","60","85","60","85"],["45","45","45","45","45"],["60","60","60","60","60"],["85","85","85","85","85"]],max_radius_scale:[250,150]},M_=[{type:Io,note:{label:"Countries with a positive contribution (more damages).",wrap:220},x:355,y:145,dy:-50,dx:-40,connector:{end:"dot"}},{type:Io,note:{label:"Countries with a negative contribution (more benefits).",wrap:250},x:555,y:450,dy:20,dx:80,connector:{end:"dot"}},{type:Io,note:{label:"The Global Social Cost of Carbon is the sum of all contributions.",wrap:250},x:66,y:520,dy:0,dx:0}];function k_(){return"data/cscc"+x_.db.ssp+x_.db.dmg+x_.db.disc+x_.db.rcp+".csv"}var T_=function(){var t,n,e=1e3,i=null,r=null,o=null,s=lf().domain([0,.5,1]).range(["rgb(44,123,182)","rgb(255,255,191)","rgb(215,25,28)"]).interpolate(Ou),c=function(t,n){var e=Q("body").append("div").attr("class","tooltip").attr("id",t).style("pointer-events","none").style("width",n);function i(){e.style("opacity",0)}function r(t){var n=e.style("width"),i=e.style("height"),r=window.scrollY,a=window.scrollX,o=document.all?t.clientX+a:t.pageX,s=document.all?t.clientY+r:t.pageY,c=o-a+40+n>window.innerWidth?o-n-40:o+20;c<a+20&&(c=a+20);var u=s-r+20+i>window.innerHeight?s-i-20:s+10;u<r+10&&(u=s+10),e.style("top",u+"px").style("left",c+"px")}return i(),{showTooltip:function(t,n){e.style("opacity",1).html(t),r(n)},hideTooltip:i,updatePosition:r}}("cscc_tooltip",240),u=null,f=null,l=null,h=[],p=null,d=null,_=null,y=null,v=Ui().scale(140).translate([(w_.width-40)/2,(w_.height-20)/2]),b=Us();function m(a){i=a.filter(function(t){if("WLD"==t.ISO3)return t})[0],e=i.M,t=_n(a,function(t){return+t.cumscc});var c=[-(n=pn(a,function(t){return"WLD"==t.ISO3?0:Math.abs(+t.M)})),n],u=function(t,n){var e=t||2,i=n||2,r=Od(),a=Od(),o=c();function s(t,n){for(var e=void 0!=n?n:t.u,a=void 0!=n?t:t.v,s=0;s<o.length-1&&r(e)<1-(s+1)/i-y_;)s++;for(var c=o[s].length>1?(o[s][1].v-o[s][0].v)/2:0,u=0;u<o[s].length-1&&a>o[s][u].v+c;)u++;return o[s][u]}function c(){var t,n=[];a.nice(Math.pow(e,i-1)),r.nice(i),n[0]=[],n[0].push({u:r.invert((i-1)/i),v:a.invert(.5)});for(var o=1;o<i;o++){n[o]=[],t=2*Math.pow(e,o);for(var s=1;s<t;s+=2)n[o].push({u:r.invert(1-(o+1)/i),v:a.invert(s/t)})}return n}return s.range=function(){return[].concat.apply([],o)},s.tree=function(){return o},s.data=s.tree,s.branching=function(t){return arguments.length?(e=Math.max(1,t),o=c(),s):e},s.layers=function(t){return arguments.length?(i=Math.max(1,t),o=c(),s):i},s.uncertaintyDomain=function(t){return arguments.length?(r.domain(t),o=c(),s):r.domain()},s.valueDomain=function(t){return arguments.length?(a.domain(t),o=c(),s):a.domain()},s}().branching(2).layers(4).valueDomain(c).uncertaintyDomain([0,100]);o=function(t,n,e){var i=n||yh,r=e||function(t,n){return void 0!=n?{v:t,u:n}:{v:t.v,u:t.u}},a=t;function o(t,n){var e=Hc(wc(t)),i=Hc(wc(n));return Math.sqrt(Math.pow(e.l-i.l,2)+Math.pow(e.a-i.a,2)+Math.pow(e.b-i.b,2))}function s(t,n){var e=r(t,n),o=[0,1],s=[0,1];r.uncertaintyDomain&&(o=r.uncertaintyDomain()),r.valueDomain&&(s=r.valueDomain());var c=Od().domain(o).range([0,1]),u=Od().domain(s).range([0,1]),f=i(u(e.v));switch(a){case"usl":default:f=Ou(f,"#fff")(c(e.u));break;case"us":f=Cc(f);var l=Od().domain([0,1]).range([f.s,0]);f.s=l(c(e.u));break;case"ul":f=Cc(f);var h=Od().domain([0,1]).range([f.l,1]);f.l=h(c(e.u))}return f}return s.colorList=function(){return this.quantize().range().map(function(t){return s(t)})},s.colorDists=function(){for(var t,n,e=this.colorList(),i=new Array(e.length),r=new Array(2),a=0;a<i.length;a++){i[a]=new Array(e.length);for(var s=0;s<i[a].length;s++)n=o(e[a],e[s]),i[a][s]=n,a!=s&&(0==a&&1==s||n<t)&&(t=n,r=[e[a],e[s]])}return i.minDist=t,i.minPair=r,i},s.mode=function(t){return arguments.length?(a=t,s):a},s.range=function(t){return arguments.length?(i=t,s):i},s.quantize=function(t){return arguments.length?(r=t,s):r},s}().quantize(u).range(s),r=pf().exponent(.75).range([2.5,80]).domain([0,n])}function g(t){return Math.abs(t.high-t.low)/e*100}function x(t){return o(+t.value,g(t))}function w(t){return Nc(o(+t.value,g(t))).darker()}function M(t){if(null!=u)if(t<0)u.selectAll(".annotation-group").remove();else{const n=Bo().type(zo).annotations([M_[t]]);u.append("g").attr("class","annotation-group").call(n)}}b.stop();var k=function(t,n){h=function(t){m(t);var n=t.filter(function(t){if("WLD"!=t.ISO3)return t}).map(function(t){return{id:+t.id,scaled_radius:r(Math.abs(+t.M)),value:+t.M,low:+t.L,high:+t.H,iso3:t.ISO3,spop:t.cumpop,sscc:t.cumscc,Longitude:t.lon,Latitude:t.lat,country:t.country,x:1e3*Math.random(),y:1e3*Math.random()}});return n.sort(function(t,n){return n.scaled_radius-t.scaled_radius}),n}(n),u=Q(t).append("svg").attr("width",w_.width).attr("height",w_.height),(f=u.append("g").attr("transform","translate(80,20)")).append("g").attr("class","world_map_container");var e=(l=u.selectAll(".bcscc").data(h,function(t){return"id"+t.id})).enter().append("circle").classed("bcscc",!0).attr("r",0).attr("fill",x).attr("stroke",w).attr("stroke-width",1).on("mouseover",A).on("mouseout",C);(l=l.merge(e)).transition().duration(1e3).attr("r",function(t){return t.scaled_radius}),b.nodes(h),S()};function T(){b.alpha()<w_.sim_target+1e-4&&b.stop(),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}function N(t){null!=u&&(M(-1),"bubble"!=t&&f.selectAll(".legend").remove(),"lorenz"!=t&&(f.selectAll(".axis").remove(),f.selectAll(".curve").remove(),nt(".bcscc").style("fill-opacity",1)),"worldmap"!=t&&f.selectAll(".world_map").remove())}function E(){var t;if("bubble"==x_.curtab){t=function(t){return t.value>0?x_.gridCenters.pos:x_.gridCenters.neg},f.selectAll(".legend").remove();var n=g_.arcmapLegend();n.scale(o).x(650).y(220).size(150).vtitle("CSCC").utitle("Uncertainty (% of GSCC)"),f.append("g").call(n)}"lorenz"==x_.curtab&&(t=function(t){return{x:_(+t.spop)-40,y:y(+t.sscc*e)-20}}),"worldmap"==x_.curtab&&(t=function(t){return{x:v([+t.Longitude,+t.Latitude])[0],y:v([+t.Longitude,+t.Latitude])[1]}});var i=zs(function(n){return t(n).x}).strength(+w_.sim_force),r=Is(function(n){return t(n).y}).strength(+w_.sim_force);b.force("x",i).force("y",r),b.alphaTarget(+w_.sim_target).restart()}function S(){N("bubble"),P(!1),M(0),M(1),M(2),x_.gridCenters={},x_.gridCenters.neg={x:w_.width/2,y:5*w_.height/9},x_.gridCenters.pos={x:w_.width/2,y:4*w_.height/9},E()}function A(t){var n,e,i,r;Q(this).attr("stroke","black"),n=Ju(",.3r")(t.value),e=Ju(",.3r")(t.low),i=Ju(",.3r")(t.high),r=Ju(",.3r")(g(t));var a=t.country+" ("+t.iso3+")<br/>"+n+"$/tCO<sub>2</sub> ["+e+";"+i+"]<br/>Uncertainty: "+r+"%.";c.showTooltip(a,F)}function C(t){Q(this).attr("stroke",w),c.hideTooltip()}function P(t){b&&b.stop(),b=Us().nodes(h).velocityDecay(+w_.sim_speed).on("tick",T),t||b.force("charge",Ys().strength(function(t){return-Math.pow(t.scaled_radius,2)*+w_.sim_force}))}return k.changeTab=function(){switch(x_.curtab){case"bubble":S();break;case"lorenz":!function(){N("lorenz"),P(!0),_=lf().range([120,w_.width-20]).domain([0,1]),y=lf().range([w_.height-30,50]).domain([t*e*1.05,1*e*1.05]),p=_,d=y,f.append("g").attr("class","axis axis--x").attr("transform","translate(-120,"+(+w_.height-70)+")").call(Kh(p)),f.append("text").attr("class","axis axis--x--label").attr("transform","translate("+w_.width/2+" , "+(+w_.height-70)+")").attr("dominant-baseline","hanging").attr("dy","1.5em").style("text-anchor","middle").text("Cumulative population share in 2020"),f.append("g").attr("class","axis axis--y").attr("transform","translate(0,-40)").call(tp(d).ticks(10)),f.append("text").attr("class","axis axis--y--label").attr("transform","translate(0, "+w_.height/2+")rotate(-90)").attr("dy","-3em").attr("text-anchor","middle").text("Cumulative CSCC [USD/tCO2]");var n=Tp().x(function(t){return _(t.x)-120}).y(function(t){return y(t.y)-40});f.append("path").attr("class","axis axis--x0").attr("d",n([{x:0,y:0},{x:1,y:0}])).attr("stroke","black").attr("stroke-width",.5).attr("fill","none");var i=[{x:0,y:0},{x:1,y:e}];f.append("path").attr("class","axis one2one").attr("d",n(i)).attr("stroke","steelblue").attr("stroke-width",1).style("stroke-dasharray","3, 3").attr("fill","none");var r=Tp().x(function(t){return _(+t.spop)-120}).y(function(t){return y(+t.sscc*e)-40});h.sort(function(t,n){return n.spop-t.spop}),f.append("path").attr("class","axis lorenz").attr("d",r(h)).attr("stroke","steelblue").attr("stroke-width",1).attr("fill","none").attr("stroke-linejoin","round").attr("stroke-linecap","round"),h.sort(function(t,n){return n.scaled_radius-t.scaled_radius}),nt(".bcscc").transition().style("fill-opacity",.8),E()}();break;case"worldmap":N("worldmap"),P(!1),ic(a.a).then(function(t){f.selectAll(".world_map_container").append("g").attr("class","world_map").each(function(){this.appendChild(t.documentElement)})}),E()}},k.updateDb=function(){nc(k_()).then(function(n){!function(t,n){m(t),n.sort(function(t,n){return t.id-n.id});var e=0;t.filter(function(t){if("WLD"!=t.ISO3)return t}).forEach(function(t){n[e].id=+t.id,n[e].scaled_radius=r(Math.abs(+t.M)),n[e].value=+t.M,n[e].low=+t.L,n[e].high=+t.H,n[e].spop=t.cumpop,n[e].sscc=t.cumscc,e++}),n.sort(function(t,n){return n.scaled_radius-t.scaled_radius}),u.selectAll(".bcscc").data(n,function(t){return"id"+t.id}).attr("fill",x).attr("stroke",w).transition().duration(1e3).attr("r",function(t){return t.scaled_radius}),b.nodes(n)}(n,h),function(){document.getElementById("gscc").textContent=Math.round(e),document.getElementById("gscc_l").textContent=Math.round(i.L),document.getElementById("gscc_h").textContent=Math.round(i.H),document.getElementById("txtdmg").textContent=w_.txtdmg[+x_.db.dmg-1],document.getElementById("txtdisc").textContent=w_.txtdisc[+x_.db.disc-1];for(let t=0;t<5;t++)document.getElementById("ssp"+(t+1)).textContent="SSP"+(t+1)+"/RCP"+w_.txtssp[+x_.db.rcp-1][t]}(),"lorenz"==x_.curtab&&function(){y=lf().range([w_.height-20,50]).domain([t*e*1.05,1*e*1.05]),d=y,nt(".axis--y").transition().duration(500).call(tp(d).ticks(10)),nt(".axis--x0").remove();var n=Tp().x(function(t){return _(t.x)-120}).y(function(t){return y(t.y)-40});f.append("path").attr("class","axis axis--x0").attr("d",n([{x:0,y:0},{x:1,y:0}])).attr("stroke","black").attr("stroke-width",.5).attr("fill","none"),nt(".one2one").remove();var i=[{x:0,y:0},{x:1,y:e}];f.append("path").attr("class","axis one2one").attr("d",n(i)).attr("stroke","steelblue").attr("stroke-width",1).style("stroke-dasharray","3, 3").attr("fill","none"),nt(".lorenz").remove();var r=Tp().x(function(t){return _(+t.spop)-120}).y(function(t){return y(+t.sscc*e)-40});h.sort(function(t,n){return n.spop-t.spop}),f.append("path").attr("class","axis lorenz").attr("d",r(h)).attr("stroke","steelblue").attr("stroke-width",1).attr("fill","none").attr("stroke-linejoin","round").attr("stroke-linecap","round"),h.sort(function(t,n){return n.scaled_radius-t.scaled_radius}),nt(".bcscc").transition().style("fill-opacity",.5)}(),E(),b.alpha(1).alphaTarget(+w_.sim_target).restart()})},k}();nc(k_()).then(function(t){T_("#cscc",t)}),Q("#toolbar").selectAll(".button").on("click",function(){nt(".button").classed("active",!1);var t=Q(this);t.classed("active",!0),x_.curtab=t.attr("id"),T_.changeTab(),F.preventDefault()}),Q("#toolbar_ssp").selectAll(".ssp").on("click",function(){nt(".ssp").classed("active",!1);var t=Q(this);t.classed("active",!0),x_.db.ssp=t.attr("id").substring(3,4),T_.updateDb(),F.preventDefault()});s()(document.querySelector(".seldmg"),{delay:100,arrow:!0,arrowType:"sharp",duration:500,animation:"fade",placement:"bottom",theme:"light round",html:"#select-dmgfun",interactive:!0,onShown(){nt("input[name='dmgfun']").on("change",function(){x_.db.dmg=Q(this).property("value"),T_.updateDb()})}}),s()(document.querySelector(".seldisc"),{delay:100,arrow:!0,arrowType:"sharp",duration:500,animation:"fade",placement:"bottom",theme:"light round",html:"#select-discount",interactive:!0,onShown(){nt("input[name='discount']").on("change",function(){x_.db.disc=Q(this).property("value"),T_.updateDb()})}}),s()(document.querySelector(".selrcp"),{delay:100,arrow:!0,arrowType:"sharp",duration:500,animation:"fade",placement:"bottom",theme:"light round",html:"#select-rcp",interactive:!0,onShown(){nt("input[name='rcp']").on("change",function(){x_.db.rcp=Q(this).property("value"),T_.updateDb()})}})}]);
//# sourceMappingURL=bundle.js.map